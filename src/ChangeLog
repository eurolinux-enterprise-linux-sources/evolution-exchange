2009-06-19  Jedy Wang <jedy.wang@sun.com>

	** Fix for bug #586209

	* addressbook/e-book-backend-gal.c: Do not return value for a void
	function.

2009-05-04  Srinivasa Ragavan  <sragavan@novell.com>

	** Fix for bug #464053 (bnc)

	GAL Delta fetching support added.
	* addressbook/e-book-backend-gal.c (get_contact_list),
	(build_query), (get_time_stamp), (last_mod_time_populate),
	(start_book_view), (dosearch), (generate_cache), (update_cache),
	(authenticate_user), (set_mode), (init): Only the changes would be 
	fetched from now instead of downloading the whole GAL to fetch changes

2009-04-28  Milan Crha  <mcrha@redhat.com>

	** Fix for bug #553932

	* calendar/e-cal-backend-exchange.c: (set_mode):
	Do not notify about readonly state here, we are not asked for that.

2009-04-27  Milan Crha  <mcrha@redhat.com>

	** Fix for bug #577105

	* calendar/e-cal-backend-exchange.c: (save_object),
	(e_cal_backend_exchange_modify_object),	(get_object),
	(free_exchange_comp): Prevent using NULL in libical functions.

2009-04-24  Milan Crha  <mcrha@redhat.com>

	** Part of fix for bug #563954

	* camel/camel-exchange-folder.c: (cmp_uids), (class_init):
	Define its own compare function for UIDs.

2009-03-16  Srinivasa Ragavan  <sragavan@novell.com>

	* NEWS: Evolution Exchange 2.26.0 release and version bump

2009-03-06  Tobias Mueller  <tobiasmue@gnome.org>

	* mail/Makefile.am:
	* addressbook/Makefile.am:
	* storage/Makefile.am:
	* calendar/Makefile.am:
	Changed order of the libs to link against to not pull system libs

	** Fixes bug #572950 (Patch by Daniel Macks)

2009-03-04  Milan Crha  <mcrha@redhat.com>

	** Fix for bug #567852

	* calendar/e-cal-backend-exchange-tasks.c: (create_task_object):
	* calendar/e-cal-backend-exchange-calendar.c: (create_object): Don't
	add new CREATED, LAST-MODIFIED properties when event has one already.

2009-03-02  Matthew Barnes  <mbarnes@redhat.com>

	* configure.in: Post-release version bump.

2009-03-02  Milan Crha  <mcrha@redhat.com>

	* storage/exchange-config-listener.c: (update_foreign_uri):
	Runtime warning fix.

2009-03-02  Matthew Barnes  <mbarnes@redhat.com>

	* NEWS: Evolution Exchange 2.25.92 release

2009-02-13  Milan Crha  <mcrha@redhat.com>

	** Partial fix for bug #545455

	* mail-stub-exchange.c: (transfer_messages):
	Check for the correct href of the message before accessing it.

2009-02-09  Milan Crha  <mcrha@redhat.com>

	** Fix for bug #432885

	* calendar/e-cal-backend-exchange.c: (open_calendar): Rescan foreign
	hierarchy same as personal one, to get list of shared calendars before
	giving up opening of the foreign calendar.

2009-02-03  Srinivasa Ragavan  <sragavan@novell.com>

	* NEWS, configure.in: Evolution Exchange 2.25.90 release

2009-02-02  Suman Manjunath  <msuman@novell.com>

	* calendar/e-cal-backend-exchange-calendar.c (create_object),
	(modify_object_with_href): Don't convert the icalcomponent body to
	CR-LF format, libical does that already.

2009-02-02  Suman Manjunath  <msuman@novell.com>

	** Part of fix for bug #568554

	* calendar/e-cal-backend-exchange-tasks.c (get_changed_tasks): Fix a 
	compiler warning introduced after the libical fork was dropped.

2009-01-31  Matthew Barnes  <mbarnes@redhat.com>

	** Disable debug macros (#define d(x) x) throughout.  (#569638)

2009-01-19  Srinivasa Ragavan  <sragavan@novell.com>

	* NEWS: Evolution Exchange 2.25.5 release

2009-01-21  Suman Manjunath  <msuman@novell.com>

	** Fix for bug #541209

	** Adapt to the new APIs from upstream libical. Changes made include
	using the "_r" counterpart for the following APIs:
	+ icalproperty_as_ical_string ()
	+ icalvalue_as_ical_string ()
	+ icalcomponent_as_ical_string ()
	+ icalparameter_as_ical_string ()
	+ icaldurationtype_as_ical_string ()
	+ icalenum_reqstat_code ()
	+ icallangbind_property_eval_string ()
	+ icallangbind_quote_as_ical ()
	+ icalmime_text_end_part ()
	+ icalperiodtype_as_ical_string ()
	+ icalproperty_enum_to_string ()
	+ icalproperty_get_parameter_as_string ()
	+ icalproperty_get_value_as_string ()
	+ icalproperty_get_property_name ()
	+ icalrecurrencetype_as_string ()
	+ icaltime_as_ical_string ()
	+ icalreqstattype_as_string ()
	+ icalvalue_binary_as_ical_string ()
	+ icalvalue_int_as_ical_string ()
	+ icalvalue_utcoffset_as_ical_string ()
	+ icalvalue_string_as_ical_string ()
	+ icalvalue_recur_as_ical_string ()
	+ icalvalue_text_as_ical_string ()
	+ icalvalue_attach_as_ical_string ()
	+ icalvalue_duration_as_ical_string ()
	+ icalvalue_date_as_ical_string ()
	+ icalvalue_datetime_as_ical_string ()
	+ icalvalue_float_as_ical_string ()
	+ icalvalue_geo_as_ical_string ()
	+ icalvalue_datetimeperiod_as_ical_string ()
	+ icalvalue_period_as_ical_string ()
	+ icalvalue_trigger_as_ical_string ()
	+ icalvalue_as_ical_string ()

	* calendar/e-cal-backend-exchange-calendar.c (add_ical),
	(find_attendee_prop), (create_object), (modify_object_with_href),
	(remove_object), (receive_objects), (get_free_busy):
	* calendar/e-cal-backend-exchange-tasks.c (get_changed_tasks),
	(receive_task_objects):
	* calendar/e-cal-backend-exchange.c (timeout_save_cache),
	(uncache), (get_object), (get_default_object), (get_timezone),
	(process_delegated_cal_object):
	* mail/mail-utils.c (mail_util_demangle_meeting_related_message):

2009-01-19  Matthew Barnes  <mbarnes@redhat.com>

	* configure.in:
	Keep evolution-exchange and evolution-data-server versions in
	lockstep from now on to avoid any more dependency screw ups.

2009-01-16  Milan Crha  <mcrha@redhat.com>

	** Fix for bug #360813

	* calendar/e-cal-backend-exchange.h:
	(e_cal_backend_exchange_ensure_utc_zone):
	* calendar/e-cal-backend-exchange.c:
	(e_cal_backend_exchange_ensure_utc_zone):
	* calendar/e-cal-backend-exchange-tasks.c: (get_changed_tasks),
	(modify_task_object), (receive_task_objects):
	* calendar/e-cal-backend-exchange-calendar.c:
	(modify_object_with_href), (receive_objects):
	RFC 2445 - CREATED/DTSTAMP/LAST-MODIFIED always in UTC.

2009-01-08  Philip Van Hoof  <philip@codeminded.be>

	* camel/camel-exchange-folder.c: Bugfix for Bug #566279. Introduces a 
	new API in Camel needed for implementing EPlugin of Bug #565091

2009-01-06  Matthew Barnes  <mbarnes@redhat.com>

	* camel/camel-exchange-folder.c:
	Remove #include <camel/camel-i18n.h>

2009-01-05  Srinivasa Ragavan  <sragavan@novell.com>

	* NEWS, configure.in: Evolution Exchange 2.25.4 release

2008-12-23  Ashish Shrivastava  <shashish@novell.com>

	** Part of fix for bug #441712 (bnc)

	* addressbook/e-book-backend-gal.c:
	Exchange fix for GAL issue while loading for bug #441712.
	Unlocking the mutex.

2008-12-15  Matthew Barnes  <mbarnes@redhat.com>

	* storage/Makefile.am:
	Uninstall exchange-connector-setup-$(BASE_VERSION).

2008-12-14  Matthew Barnes  <mbarnes@redhat.com>

	** Miscellaneous compiler warning cleanups.

	* calendar/e-cal-backend-exchange.c:
	Remove unnecessary #include <libgnomevfs/gnome-vfs-mime-utils.h>.

	* camel/camel-exchange-folder.c:
	#include <glib/gi18n-lib.h> for _() macro.

	* storage/exchange-migrate.c (setup_progress_dialog):
	gtk_box_pack_start_defaults() is deprecated.
	Use gtk_box_pack_start() instead.

2008-12-01  Srinivasa Ragavan  <sragavan@novell.com>

	* NEWS: Evolution Exchange 2.25.2 release changes

2008-11-20  Milan Crha  <mcrha@redhat.com>

	** Part of fix for bug #558883

	* camel/camel-exchange-folder.h:
	* camel/camel-exchange-folder.c:
	* camel/camel-exchange-store.c:
	Revert related parts from bug #336074, which caused slow start up.

2008-11-05  Milan Crha  <mcrha@redhat.com>

	** Fix for bug #540346

	* addressbook/e-book-backend-gal.c: (start_book_view):
	Do not try to fetch contacts when not connected.

	* addressbook/e-book-backend-gal.c: (gal_reconnect), (get_contact),
	(get_contact_list), (build_contact_from_entry), (ldap_search_handler),
	(ldap_search_dtor), (start_book_view), (stop_book_view),
	(parse_page_control), (generate_cache), (authenticate_user),
	(get_supported_auth_methods), (load_source):
	Turn off debug printf-s.

2008-11-03  Srinivasa Ragavan  <sragavan@novell.com>

	* NEWS: Evolution Exchange 2.25.1 release and version bump

2008-10-14  Srinivasa Ragavan  <sragavan@novell.com>

	* camel/camel-exchange-summary.c: Include camel-db.h

2008-10-06  Srinivasa Ragavan  <sragavan@novell.com>

	* camel/camel-exchange-folder.c (class_init),
	(count_by_expression): Adapt to new camel ABI

2008-09-22  Srinivasa Ragavan  <sragavan@novell.com>

	* configure.in: Version bump for Evolution Exchange 2.25.1

2008-09-22  Matthew Barnes  <mbarnes@redhat.com>

	* camel/camel-exchange-folder (camel_exchange_folder_add_message):
	Remove unused variables unread_count and visible_count.

2008-09-22  Srinivasa Ragavan  <sragavan@novell.com>

	* NEWS, configure.in: Evolution Exchange 2.24.0 release

2008-09-15  Bharath Acharya  <abharath@novell.com>

	** Part of fix for bug #552013

	* camel/camel-exchange-folder.c
	(camel_exchange_folder_add_message): Just update the count when adding 
	messages. Also fixes the deadlock reported.

2008-09-12  Bharath Acharya  <abharath@novell.com>

	** Fix for bug #546972

	* camel/camel-exchange-folder.c: (refresh_info),
	(camel_exchange_folder_add_message):
	* camel/camel-stub-constants.h:
	* mail/mail-stub-exchange.c: (class_init),
	(refresh_folder_internal), (sync_count):
	* mail/mail-stub.c: (connection_handler):
	* mail/mail-stub.h: 
	Added SYNC_COUNT to sync up counts on the operations needed. Any 
	operations that need syncing could just update the counts from mfld-> 
	counts maintained at the mail side. So Camel could just pick it up from
	there.

2008-09-08  Srinivasa Ragavan  <sragavan@novell.com>

	* NEWS: Evolution Exchange 2.23.92 release.

2008-09-05  Milan Crha  <mcrha@redhat.com>

	** Fix for bug #550160

	* addressbook/e-book-backend-gal.c: (func_contains):
	Be able to search for "Name contains" like queries.

2008-09-01  Srinivasa Ragavan  <sragavan@novell.com>

	* NEWS: Evolution Exchange 2.23.91 release and version bump.

2008-09-01  Matthew Barnes  <mbarnes@redhat.com>

	* addressbook/e-book-backend-gal.c (build_contact_from_entry):
	Initialize ldap_error to make compiler happy.

2008-09-01  Milan Crha  <mcrha@redhat.com>

	** Fix for bug #473924

	* addressbook/e-book-backend-exchange.c:
	(e_book_backend_exchange_build_restriction),
	(e_book_backend_exchange_get_contact_list),
	(e_book_backend_exchange_start_book_view):
	Prevent crash on invalid call sequence.

2008-09-01  Bob Mauchin  <zebob.m@pengzone.org>

	** Fix for bug #549228

	* mail/mail-stub-exchange.c (expunge_uids): String fix. 

2008-08-28  Matthew Barnes  <mbarnes@redhat.com>

	* addressbook/e-book-backend-exchange.c (find_deleted_ids):
	* storage/exchange-component.c (impl_createView):
	Fix a couple compiler warnings.

2008-08-18  Srinivasa Ragavan  <sragavan@novell.com>

	* NEWS: Evolution Exchange 2.23.90 release and version bump.

2008-08-18  Milan Crha  <mcrha@redhat.com>

	** Fix for bug #462242

	* calendar/e-cal-backend-exchange.c: (remove_calendar): Report success
	when trying to delete nonexisting calendar on the server.

2008-08-18  Milan Crha  <mcrha@redhat.com>

	** Fix for bug #324203

	* camel/camel-exchange-provider.c: (exchange_conf_entries[]):
	New entry to select whether allows GAL browsing or not.
	* addressbook/e-book-backend-gal.c: (build_query): Do not let it crash.
	* addressbook/e-book-backend-gal.c: (can_browse), (start_book_view),
	(ldap_search_handler), (get_static_capabilities): Check whether
	browsing of the GAL is requested or not and act based on that.

2008-08-16  Patrick Ohly  <patrick.ohly@gmx.de>

	** Fix for bug #546934

	* addressbook/e-book-backend-exchange.c: The list of collected
	changes in ctx->changes was never returned to the caller. Instead
	the list was leaked when freeing the context. For deleted items,
	an empty vcard with the UID has to be returned. Instead
	find_deleted_ids() returned the UID. find_deleted_ids() is a
	callback for g_hash_table_foreach() and modified the hash that is
	iterated over. The effect is that the iteration was stopped
	prematurely, leading to incorrect change tracking.

2008-08-14  Milan Crha  <mcrha@redhat.com>

	** Fix for bug #489236

	* mail/mail-stub-exchange.c: (get_folder_contents_online):
	Update high_article_num properly to see all messages in the folder.

2008-08-12  Milan Crha  <mcrha@redhat.com>

	** Part of fix for bug #547308

	* addressbook/e-book-backend-gal.c: (gal_connect): Distinguish
	between GAL offline and unsupported authentication method used.
	* addressbook/e-book-backend-gal.c: (ldap_reconnect), (gal_reconnect),
	(build_contact_from_entry): Adapt to new function prototype from EDS.

2008-08-11  Milan Crha  <mcrha@redhat.com>

	** Fix for bug #546933

	* calendar/e-cal-backend-exchange.c: (internal_get_timezone):
	Do not lookup for NULL.

2008-08-06  Matthew Barnes  <mbarnes@redhat.com>

	** Fixes part of bug #545877

	* configure.in:
	Bump eds_minimum_version to 2.23.90 for CamelDList.

	* camel/camel-exchange-journal.c:
	* camel/camel-exchange-journal.h:
	Use CamelDList instead of EDList.

2008-08-06  Milan Crha  <mcrha@redhat.com>

	** Fix for bug #546397

	* camel/camel-exchange-folder.c: (class_init), (search_free):
	Remove 'search_free' and use the default function for this, to not
	free memory held by camel_pstring_....

2008-08-06  Milan Crha  <mcrha@redhat.com>

	** Fix for bug #546257

	* addressbook/e-book-backend-exchange.c: (subscription_notify):
	Use proper ref/unref functions on EBookBackendExchange object.

2008-08-06  Milan Crha  <mcrha@redhat.com>

	** Fix for bug #329505

	* addressbook/e-book-backend-exchange.c: (get_contact_list_members),
	(free_contact_list_member), (free_members_list),
	(e_contact_from_props), (e_book_backend_exchange_connect),
	(props_from_contact), (cl_post_command), (remove_member),
	(merge_contact_lists), (e_book_backend_exchange_create_contact),
	(e_book_backend_exchange_modify_contact),
	(e_book_backend_exchange_get_static_capabilites),
	(e_book_backend_exchange_class_init): Recognize Distribution lists
	stored on the server and work with them as with Contact lists.

2008-08-04  Srinivasa Ragavan  <sragavan@novell.com>

	* NEWS: Evolution Exchange 2.23.6 release and version bump.

2008-08-05  Milan Crha  <mcrha@redhat.com>

	** Fix for bug #546385

	* camel/camel-exchange-folder.c: (search_by_expression):
	Return initialized pointer instead of some uninitialized variable.

2008-08-05  Srinivasa Ragavan  <sragavan@novell.com>

	* camel/camel-exchange-folder.c (search_by_expression): Don't mimic.
	Give the same results from search.

2008-08-04  Bharath Acharya  <abharath@novell.com>

	** Fix for bug #467586

	* mail/mail-stub-exchange.c: (get_folder_contents_online),
	(get_folder_info_data), (rename_folder): Update the folders_by_name hash
	tables for the renamed folder and also all its subfolders and refresh
	the messages contained in them

2008-08-04  Veerapuram Varadhan <vvaradhan@novell.com>

	** Part of fix for bug #467586

	* camel/camel-exchange-store.c: (exchange_rename_folder),
	(stub_notification):
	* mail/mail-stub-exchange.c: (get_folder_info_data),
	(get_folder_info), (rename_folder): Get the folder hierarchy once 
	renamed.

2008-08-04  Bharath Acharya  <abharath@novell.com>

	** Part of fix for bug #543427

	* camel/camel-exchange-summary.c:
	(camel_exchange_summary_add_offline),
	(camel_exchange_summary_add_offline_uncached): Use camel_pstring_strdup

2008-08-04  Bharath Acharya  <abharath@novell.com>

	** Fix for bug #543427

	* camel/camel-exchange-folder.c:
	(camel_exchange_folder_add_message):
	* camel/camel-exchange-journal.c: (exchange_entry_play_append),
	(exchange_entry_play_transfer), (update_cache): 
	Use camel_pstring_strdup. The free'ing is handled by message_info_free.

2008-08-04  Bharath Acharya  <abharath@novell.com>

	** Fix for bug #543075

	* camel/camel-exchange-folder.c: (append_message_data): The info is 
	usually NULL when you drag and drop an embedded mail to a folder. This 
	check should get your message back into the desired folder.

2008-08-03  Matthew Barnes  <mbarnes@redhat.com>

	* camel/camel-exchange-folder.c (search_by_uids):
	Remove unused variables.

2008-08-01  Srinivasa Ragavan  <sragavan@novell.com>

	* camel/camel-exchange-folder.c (search_by_uids): Move this to disk
	summary.

2008-08-01  Srinivasa Ragavan  <sragavan@novell.com>

	* camel/camel-exchange-folder.c (search_by_expression): Don't set the
	summary. Search will pick it automatically.

2008-08-01  Srinivasa Ragavan  <sragavan@novell.com>

	* camel/camel-exchange-summary.c: Read href from db properly.

2008-07-30  Milan Crha  <mcrha@redhat.com>

	** Fix for bug #500389

	* camel/camel-exchange-provider.c: (auth_types),
	(exchange_conf_entries), (camel_provider_module_init):
	Option to set different authentication type for GAL and OWA.
	* storage/exchange-autoconfig-wizard.c: (gc_page_next):
	Use default (NTLM, if failed then Plaintext) authentication here.

2008-07-25  Milan Crha  <mcrha@redhat.com>

	** Part of fix for bug #544031

	* camel/camel-exchange-summary.c: (message_info_to_db):
	* mail/mail-stub-listener.h: (struct _MailStubListener):
	* storage/exchange-component.c: (new_connection):
	* calendar/e-cal-backend-exchange.c: (build_msg):
	* calendar/e-cal-backend-exchange-calendar.c: (send_objects):
	Compiler warnings cleanup.

2008-07-25  Milan Crha  <mcrha@redhat.com>

	** Fix for bug #544513

	* storage/exchange-component.c: (new_connection):
	Do not unref NULL object.

2008-07-24  Chenthill Palanisamy  <pchenthill@novell.com>

	Fixes #208394 (bnc)
	* calendar/e-cal-backend-exchange.h: Include rid to check if the event
	is in the cache.
	* calendar/e-cal-backend-exchange-calendar.c: (get_changed_events):
	Use the new function, find_instance to search for the instance
	(open_calendar): 
	* calendar/e-cal-backend-exchange-tasks.c: (get_changed_tasks),
	(create_task_object):
	* calendar/e-cal-backend-exchange.c: (find_instance),
	(e_cal_backend_exchange_in_cache): Use rid along with uid while
	searching for recurring instances.					   

2008-07-23  Johnny Jacob  <jjohnny@novell.com>

	* NEWS: 2.23.5 release updates.

	* configure.in: Version bump to 2.23.6
	
2008-07-22  Bharath Acharya  <abharath@novell.com>

	** Fixes part of bug #544115

	* mail/mail-stub-exchange.c: (mse_get_folder_online_sync_updates): 
	Added a valid check to prevent the crash caused by DB Summary merge.

2008-07-21  Sankar P  <psankar@novell.com>

	Fixes Exchange related crashes due to DB Summary merge

	* camel/camel-exchange-folder.c: (search_by_expression),
	(camel_exchange_folder_construct):
	* camel/camel-exchange-search.c: (exchange_body_contains):

2008-07-16  Sankar P  <psankar@novell.com>

	Pushing changes that are necessary for disk-summary to work. 

	* camel/camel-exchange-folder.c (class_init),
	(camel_exchange_folder_construct), (exchange_sync):
	* camel/camel-exchange-summary.c (exchange_summary_class_init),
	(camel_exchange_summary_new), (summary_header_from_db),
	(summary_header_to_db), (message_info_from_db),
	(message_info_load), (message_info_to_db):

2008-06-30  Matthew Barnes  <mbarnes@redhat.com>

	* configure.in:
	Rewrite the evolution-data-server version check and set it to
	require 2.23.5 for the new e-cal-check-timezones API.

2008-06-22  Patrick Ohly  <patrick.ohly@gmx.de>

	* calendar/e-cal-backend-exchange-calendar.c,
	calendar/e-cal-backend-exchange.c,
	calendar/e-cal-backend-exchange.h: Use e_cal_check_timezones() to
	match time zone definitions and handle conflicting definitions;
	requires a new utility function to look up time zone definitions
	cached in the backend (bug #52890).

2008-06-17  Johnny Jacob  <jjohnny@novell.com>

	* configure.in: Bumped to 2.23.5.

	* NEWS: Updates for Evolution Exchange 2.23.4

2008-06-13  Milan Crha  <mcrha@redhat.com>

	** Fix for bug #402752

	* calendar/e-cal-backend-exchange.c: (get_exchange_comp),
	(e_cal_backend_exchange_add_object),
	(e_cal_backend_exchange_modify_object):
	* calendar/e-cal-backend-exchange-calendar.c: (add_ical):
	Prevent crash when got a component without set UID.

2008-06-07  Paul Smith  <psmith@gnu.org>

	** Fix for bug #532844

	* mail/mail-stub-exchange.c (get_message): If it's a bad case we can 
	just goto the error handling code instead of trying to process the 
	response.

2008-06-06  Matthew Barnes  <mbarnes@redhat.com>

	** Allow evolution-exchange to build with G_DISABLE_SINGLE_INCLUDES
	   and GTK_DISABLE_SINGLE_INCLUDES defined.  (#536638)

2008-06-04  Wang Xin  <jedy.wang@sun.com>

	Fixes #536376

	* configure.in: Check libebackend.

2008-06-02  Srinivasa Ragavan  <sragavan@novell.com>

	* NEWS: Evolution Exchange 2.23.3 release and version bump.

2008-06-02  Tor Lillqvist  <tml@novell.com>

	* addressbook/Makefile.am (install-data-local): Work around
	annoying MSYS feature on Win32 when installing the schema: Echo
	the command to a temporary .bat file and run it with cmd.exe...

2008-05-26  Johnny Jacob  <jjohnny@novell.com>

	** Fix for Bug #533422
	
	* storage/Makefile.am (EXTRA_DIST): server_DATA should not
	be packed in dist tarballs.

2008-05-23  Øystein Gisnås  <oystein@gisnas.net>

	** Fix for bug #366250

	* configure.in: Don't compile/package semi-free RFCs and other IETF 
	documents that are easily accessible on the web. 

2008-05-14  Matthew Barnes  <mbarnes@redhat.com>

	** Fix for bug #523023

	* storage/exchange-storage.c: (account_new_folder): Another leak fix.

2008-05-13  Tor Lillqvist  <tml@novell.com>

	Final outstanding Win32 portability changes.

	* storage/Makefile.am: Link with SOCKET_LIBS, too. On Windows, use
	a relative path for CONNECTOR_PATH in the server file instead of
	the absolute compile-time EVOLUTION_privlibexecdir. Replace also
	EXEEXT in the server file.

	* storage/exchage-storage.h: On Windows, declare three char*
	variables that will hold the datadir, gladedir and imagesdir
	constructed at run-time.

	* storage/main.c: Define and initialise the three char* variables
	mentioned above. Assume that evolution-exchange is installed in
	the same run-time prefix as evolution-data-server. Use
	g_get_tmp_dir() instead of hardcoding /tmp. Use gstdio wrappers to
	cope with arbitrary Unicode pathnames on Windows. Don't bother
	with the folder mode checks on Windows, as the stat::st_mode field
	is mostly meaningless.

	* storage/exchange-autoconfig-wizard.c
	* storage/exchange-change-password.c: Construct glade and png file
	pathnames at run-time. Don't use compile-time gladedir and
	imagesdir on Windows.

	* storage/exchange-config-listener.c: Reorder includes into a more
	logical order. To cope with arbitrary Unicode pathnames on
	Windows, use gstdio wrappers, use GDir instead of dirent API, and
	use e_xml_parse_file() and e_xml_save_file() instead of libxml2
	API directly.

	* storage/ximian-connector-setup.c: Define and initialise the
	datadir, gladedir and imagesdir variables on Windows here,
	too. Use GETTEXT_PACKAGE instead of PACKAGE.

	* storage/GNOME_Evolution_Exchange_Storage.server.in.in: Add
	EXEEXT to the executable name.

	* calendar/e-cal-backend-exchange.c: Avoid more characters in file
	names on Windows. Use g_path_get_dirname() instead of searching
	for '/'. Use g_lstat() instead of lstat(). There are no symlinks
	on Windows, so unclear what to actually do on Windows where the
	code creates a symlink on Unix. Use gstdio wrappers. Use binary
	mode when opening files. Use g_filename_to/from_uri() instead of
	manipulating and constructing URIs manually.

2008-05-12  Srinivasa Ragavan  <sragavan@novell.com>

	* NEWS, configure.in: Evolution Exchange 2.23.2 release and version bump.

2008-05-12  Tor Lillqvist  <tml@novell.com>

	Further outstanding Win32 portability changes.

	* camel/camel-stub.h: Add a separate have_status_thread boolean
	flag to the CamelStub struct. A pthread_t is not necessarily a
	scalar type, it can also be a struct.

	* camel/camel-stub.c: Corresponding changes.

	* camel/camel-stub.c: Include <winsock2.h> on Windows.
	(connect_to_storage): Different implementation on Unix and
	Windows. On Windows, there are no Unix domain sockets, so instead
	we just have the sockaddr_in of a TCP socket bound to the loopback
	interface stored in a plain file. Yes, this is insecure on
	multiple-user machines. Will have to spend more time on this issue
	sometime. Presumably Win32 named pipes are what should be used
	instead.
	(camel_stub_new): Corresponding ifdefs.

	* mail/mail-stub-listener.c: Corresponding changes.
	(finalize): Use g_unlink().
	(new_connection): Drop unused sa_un and len variables. Just pass
	NULL as parameters 2 and 3 to accept().
	(mail_stub_listener_construct): On Windows, instead of creating a
	Unix domain socket, create a TCP socket bound to the loopback
	interface and write its sockaddr_in to a regular file from which
	the client will read the address.

2008-05-08  Tor Lillqvist  <tml@novell.com>

	Win32 portability changes from a long time ago, now finally
	starting to commit them a little at a time. Whether
	evolution-exchange actually works on Windows is not clear... but
	at least once these changes are in there is a possibility.

	* configure.in: Define Automake conditional OS_WIN32.

	* camel/Makefile.am: Pass also PREFIX to the compiler. Use
	-no-undefined on Windows. Link with SOCKET_LIBS and PTHREAD_LIB.

	* camel/camel-exchange-provider.c: Include
	libedataserver/e-data-server-util.h for some Windows-specific
	functions. Construct the localedir at run-time on Windows.

	* camel/camel-exchange-store.c (e_filename_make_safe)
	* storage/exchange-component.c (e_filename_make_safe): Remove
	these two copies of this function. Just use the one in
	libedataserver.

	* camel/camel-exchange-store.c (exchange_connect)
	* storage/exchange-component.c (config_listener_account_created):
	Construct the path to the socket in the same way in these two
	functions. Use g_get_tmp_dir() instead of hardcoding /tmp. Use
	g_build_filename().

	* camel/camel-exchange-store.c (exchange_get_folder): Use
	g_file_test() instead of access().

	* camel/camel-exchange-summary.c: Drop unnecessary inclusion of
	<sys/uio.h>.

	* camel/camel-stub-marshal.c: Use closesocket() instead of close()
	for sockets on Windows. Use camel_read_socket() and
	camel_write_socket() instead of camel_read() and camel_write().

	* mail/mail-stub.c No need to include <sys/socket.h> and
	<sys/un.h> in this file.
	(mail_stub_construct): Use g_io_channel_win32_new_socket() on
	Windows as we know that the fd is actually a socket.

	* mail/mail-stub-exchange.c (send_message): Use g_get_host_name()
	instead of gethostname().

	* addressbook/e-book-backend-exchange.c (update_cache): Remove
	pointless code that constructed a timestamp for the cache file
	name but didn't use it for anything.

	* addressbook/e-book-backend-gal.c: Don't include <ldap.h> here,
	it or its Windows counterpart <winldap.h> has already been
	included through <e2k-global-catalog-ldap.h> anyway.
	(ber_dupbv): Need this on Windows, too.
	(ldap_op_finished): Use ldap_abandon() instead of the nonstandard
	ldap_abandon_ext(). The extra parameters were NULL anyway, meaning
	it is equivalent to calling ldap_abandon().

	* storage/exchange-component.c
	(default_linestatus_notify_handler): Use guint instead of uint.

	* storage/exchange-migrate.c: Bypass migration code on Windows as
	there are no old evolution-exchange 1.x deployments on Windows to
	migrate from.

2008-05-08  Tor Lillqvist  <tml@novell.com>

	* evolution-exchange-zip.in: Minor updates.

2008-05-07  Tor Lillqvist  <tml@novell.com>

	* configure.in: Move the AM_CONDITIONAL for
	SUNLDAP. AM_CONDITIONAL should not be inside shell if statements.

2008-05-05  Johan Euphrosine  <proppy@aminche.com>

	* addressbook/e-book-backend-gal.c: Fix include path for e-db3-utils.h, now in libebackend.
	* storage/main.c: Fix include path for e-data-server-module.h, now in libebackend.

2008-04-25  Bharath Acharya  <abharath@novell.com>

	Fixes #358706 (bnc)

	* camel/camel-exchange-store.c: 
	(update_camel_stub): Updates the camel stub value
	(exchange_connect): 
	(exchange_disconnect): Reset the stub so that reconnect happens 
	sanely.
	* mail/mail-stub-listener.h: Store the stub value in the listener so 
	that we can use the folders_by_name (hash table) later.
	* storage/exchange-component.c: 
	(impl_setLineStatus): 
	(new_connection): Update the hash table for the new stub

2008-04-21  Srinivasa Ragavan  <sragavan@novell.com>

	* NEWS: Evolution Exchange 2.23.1 release and version bump.

2008-04-22  Matthew Barnes  <mbarnes@redhat.com>

	* docs/reference/arch/bug-private.xml:
	* docs/reference/features/other-users.xml:
	Fix some outdated Bugzilla links.

2008-04-17  Milan Crha  <mcrha@redhat.com>

	** Fix for bug #526740

	* configure.in: Require minimum GLib 2.16.0.
	* calendar/e-cal-backend-exchange.c: (get_mime_type), (build_msg):
	Drop dependency on gnome-vfs, use new gio instead.

2008-04-09  Suman Manjunath  <msuman@novell.com>

	* calendar/e-cal-backend-exchange.c: (open_calendar):
	Set account mode to 'ONLINE_MODE' before attempting to connect.

2008-04-01  Matthew Barnes  <mbarnes@redhat.com>

	* configure.in: Version bump for 2.23.1.

2008-03-27  Milan Crha  <mcrha@redhat.com>

	** Fix for bug #303067

	* addressbook/e-book-backend-gal.c:
	Guard access to priv->ldap with its mutex.
	Also do not use local copy of priv->ldap when reconnect can change it.

2008-03-17  Bharath Acharya  <abharath@novell.com>

	** Fix for bug #520676

	* camel/camel-exchange-store.c (make_folder_info): store the Folder type
	flags for Sent items and Trash folder
	* camel/camel-stub-constants.h:
	* mail/mail-stub-exchange.c (get_folder_info): Get the physical uris 
	for Sent items and Trash folders
	(stub_connect): 
	* mail/mail-stub-exchange.h: Introduced a new item sent_items in 
	MailStubExchange structure.

2008-03-14  Suman Manjunath  <msuman@novell.com>

	** Fix for bug #268259 (bugzilla.novell.com)

	* calendar/e-cal-backend-exchange.c: (open_calendar): Don't require
	restart of Evolution to create appointment on switching from offline
	to online mode. 

2008-03-10  Srinivasa Ragavan  <sragavan@novell.com>

	* NEWS, configure.in: Evolution Exchange 2.22.0 release

2008-02-25  Srinivasa Ragavan  <sragavan@novell.com>

	* NEWS: Evolution Exchange 2.21.92 release.

2008-02-25  Milan Crha  <mcrha@redhat.com>

	** Fix for bug #518569

	* addressbook/e-book-backend-gal.c: (member_populate):
	Properly format name and address with "<>" characters.

2008-02-25  Chenthill Palanisamy  <pchenthill@novell.com>

	* calendar/e-cal-backend-exchange-calendar.c: (receive_objects):
	* calendar/e-cal-backend-exchange-tasks.c: (receive_task_objects): Free
	the memory returned by e_cal_component_get_recurid_as_string.									   

2008-02-25  Chenthill Palanisamy  <pchenthill@novell.com>

	* configure.in: set HANDLE_LIBICAL_MEMORY to 1.

2008-02-25  Chenthill Palanisamy  <pchenthill@novell.com>

	Fixes #516408
	* calendar/e-cal-backend-exchange-calendar.c (add_ical),
	(create_object), (modify_object_with_href), (remove_object),
	(receive_objects), (get_free_busy):
	* calendar/e-cal-backend-exchange-tasks.c (get_changed_tasks),
	(receive_task_objects):
	* calendar/e-cal-backend-exchange.c (timeout_save_cache),
	(uncache), (get_object), (get_default_object), (get_timezone):
	* mail/mail-utils.c (mail_util_demangle_meeting_related_message): Free
	the memory returned by libical.

2008-02-21 Johnny Jacob <jjohnny@novell.com>
	
	Committed on behalf of Veerapuram Varadhan <vvaradhan@novell.com>

	** Fix for bug #432885

	* mail/mail-stub-exchange.c: (get_folder_info): Rescan the hierarchy - 
	as we don't rescan foreign hierarchies anywhere for mailer and only 
	when we are starting up.
	
2008-02-22  Milan Crha  <mcrha@redhat.com>

	** Part of fix for bug #514836

	* addressbook/e-book-backend-gal.c: (member_populate):
	Obsoleting EVC_X_DEST_EMAIL and EVC_X_DEST_NAME and one leak fix.

2008-02-18  Milan Crha  <mcrha@redhat.com>

	** Part of fix for bug #515744

	* camel/camel-exchange-summary.c: (exchange_summary_class_init),
	(message_info_free): Free our message info members properly.

2008-02-16  Srinivasa Ragavan  <sragavan@novell.com>

	** Fix for bug #516248

	* calendar/e-cal-backend-exchange.c: (open_calendar): Hier wont be
	available if we are offline. Same as bug #516252

2008-02-16  Srinivasa Ragavan  <sragavan@novell.com>

	** Fix for bug #516250

	* addressbook/e-book-backend-gal.c: (build_contact_from_entry): Allow
	it to reauth if we are connecting after a offline.

2008-02-16  Srinivasa Ragavan  <sragavan@novell.com>

	** Fix for bug #516252

	* addressbook/e-book-backend-exchange.c:
	(e_book_backend_exchange_connect): Determine that we are in offline if
	we cant get info from the server.

2008-02-13  Srinivasa Ragavan  <sragavan@novell.com>

	* configure.in: Version bump for 2.21.92

2008-02-11  Srinivasa Ragavan  <sragavan@novell.com>

	* NEWS: Evolution Exchange 2.21.91 release.

2008-02-12  Matthew Barnes  <mbarnes@redhat.com>

	* camel/camel-exchange-summary.c:
	* addressbook/e-book-backend-gal.c:
	Replace G_GNUC_PRETTY_FUNCTION (deprecated) with G_STRFUNC.

2008-02-07  Milan Crha  <mcrha@redhat.com>

	** Fix for bug #420503

	* mail/mail-stub-exchange.c: (process_flags):
	Use copies of URLs, because we unlock owner so it can be freed.

	** Patch from Srinivasa Ragavan and Bharath Acharya:
	* mail/mail-stub-exchange.c: (message_remove_at_index),
	(change_message):
	Better locks using; the changed_messages array should be unique.

2008-02-06  Sankar P  <psankar@novell.com>

	* camel/camel-exchange-store.c: (construct):
	Do not show two junk folders for exchange. 
	Exchange has Actual Junk and not VJunk.

2008-02-05  Milan Crha  <mcrha@redhat.com>

	** Fix for bug #436628

	* storage/exchange-component.c: (exchange_component_init):
	Do not start in offline by default, but read from gconf user's choice.

2008-01-29  Srinivasa Ragavan  <sragavan@novell.com>

	* configure.in: Version bump for 2.21.91

2008-01-29  Srinivasa Ragavan  <sragavan@novell.com>

	* NEWS: Evolution Exchange 2.21.90 releae.

2008-01-29  Srinivasa Ragavan  <sragavan@novell.com>

	** Fix for bug #501295

	* addressbook/e-book-backend-exchange.c: (build_cache),
	(update_cache), (e_book_backend_exchange_create_contact),
	(e_book_backend_exchange_modify_contact),
	(e_book_backend_exchange_remove_contacts),
	(e_book_backend_exchange_dispose), (e_book_backend_exchange_init):
	Create locks around the cache so that the file is protected well not
	to crash.

2008-01-21  Matthew Barnes  <mbarnes@redhat.com>

	* configure.in:
	Require camel-1.2 >= 2.21.90 for
	camel_session_build_password_prompt().

	* camel/camel-exchange-store.c (camel_exchange_get_password):
	Use camel_session_build_password_prompt() to build a consistently
	worded prompt message for the password dialog.

2008-01-19  Matthew Barnes  <mbarnes@redhat.com>

	* configure.in:
	Bump some additional package requirements for libsoup-2.4:
		libbonobo-2.0 >= 2.20.3
		glib-2.0 >= 2.15.3

2008-01-15  Dan Winship  <danw@gnome.org>

	* addressbook/e-book-backend-exchange.c:
	* calendar/e-cal-backend-exchange-calendar.c: 
	* calendar/e-cal-backend-exchange-tasks.c: 
	* mail/mail-stub-exchange.c: Update for libsoup 2.4, and related
	libexchange changes.

2008-01-14  Srinivasa Ragavan  <sragavan@novell.com>

	* configure.in: Version bump to 2.21.90

2008-01-14  Srinivasa Ragavan  <sragavan@novell.com>

	* NEWS: Evolution Exchange 2.21.5 release

2008-01-13  Suman Manjunath  <msuman@novell.com>

	** Fix for bug #404002

	* calendar/e-cal-backend-exchange-tasks.c: (set_priority),
	(get_changed_tasks): E2K_PR_MAPI_PRIORITY is '-1' for low priority tasks.
	(get_changed_tasks): Set the default priority of tasks as 'Normal' for
	Outlook/OWA compatibility.

2008-01-12  Srinivasa Ragavan  <sragavan@novell.com>

	** Fix for bug #501567

	* addressbook/e-book-backend-gal.c: (build_query): If unsupported
	queries, Don't crash.

2007-12-23  Martin Meyer  <elreydetodo@gmail.com>

	** Fix for bug #503356

	* storage/GNOME_Evolution_Exchange_Storage.server.in.in:
	* storage/exchange-autoconfig-wizard.c: (owa_page_next):
	* storage/exchange-autoconfig-wizard.glade:
	* storage/main.c: (main):
	* storage/ximian-connector-setup.c: (main): String change: 
	"Ximian Connector" -> "Evolution Connector for Microsoft Exchange"

2007-12-18  Srinivasa Ragavan  <sragavan@novell.com>

	* configure.in: Version bump to 2.21.5

2007-12-17  Srinivasa Ragavan  <sragavan@novell.com>

	* NEWS, configure.in: Evolution Exchange 2.21.4 release.

2007-12-17  Srinivasa Ragavan  <sragavan@novell.com>

	* addressbook/e-book-backend-exchange.c:
	(e_book_backend_exchange_construct): g_assert to critical warning.

2007-12-11  Milan Crha  <mcrha@redhat.com>

	** Fix for bug #336074

	* camel/camel-exchange-folder.h: (struct CamelExchangeFolder):
	* camel/camel-exchange-folder.c: (exchange_property_list),
	(exchange_getv), (exchange_setv), (class_init),
	(camel_exchange_folder_get_type): New property of Exchange folder,
	check_folder, to let user setup for each folder to check for new mail
	here or not, but only if not enabled 'check_all' for the store.
	* camel/camel-exchange-store.c: (exchange_can_refresh_folder),
	(class_init): Implements its own CamelStore::can_refresh_folder
	function - Exchange folder has a property if it should be refreshed
	always or not, so depends on this property in case parent class
	doesn't permit refresh of the folder or the store doesn't have
	enabled 'check_all' property.

2007-12-03  Srinivasa Ragavan  <sragavan@novell.com>

	* NEWS, configure.in: Evolution Exchange 2.21.3 release.

2007-11-28  Suman Manjunath  <msuman@novell.com>

	* calendar/e-cal-backend-exchange-calendar.c:
	* calendar/e-cal-backend-exchange-tasks.c: (get_from),
	(create_task_object), (modify_task_object):
	* calendar/e-cal-backend-exchange.c:
	(process_delegated_cal_object), (build_msg):
	* calendar/e-cal-backend-exchange.h: Support for Tasks delegation. 
	* mail/mail-stub-exchange.c: (unmangle_delegated_meeting_request),
	(unmangle_meeting_request_in_subscribed_inbox),
	(unmangle_sender_field), (is_foreign_folder), (get_message):
	* mail/mail-utils.c: (mail_util_demangle_meeting_related_message):
	* mail/mail-utils.h: Removing redundancy in code, demangle meeting
	related messages in subscribed inboxes.

2007-11-12  Srinivasa Ragavan  <sragavan@novell.com>

	* NEWS, configure.in: Evolution Exchange 2.21.2 release.

2007-11-16  Matthew Barnes  <mbarnes@redhat.com>

	* camel/camel-exchange-store.c (make_folder_info):
	Call camel_folder_info_new() instead of g_new0().

2007-11-16  Bharath Acharya  <abharath@novell.com>

	** Fixes bug #444503

	* camel/camel-exchange-folder.c: (camel_exchange_folder_construct): 
	Check and store the folder filter and junk filter flags before 
	performing the check for folder summary being available. Do not fetch 
	messages if folder summary is available.

2007-11-14  Matthew Barnes  <mbarnes@redhat.com>

	** Remove trailing whitespace from source code.

2007-11-03  Matthew Barnes  <mbarnes@redhat.com>

	** Remove dead files from source control.  The dates below
	   indicate when the file was removed from Makefile.am.
	   Fixes bug #478680.

	* storage/exchange-delegates-control.h		(May 2004)
	* storage/exchange-delegates-user.c		(Jun 2005)
	* storage/exchange-delegates-user.h		(Jun 2005)
	* storage/exchange-delegates.c			(Jun 2005)
	* storage/exchange-delegates.h			(Jun 2005)
	* storage/exchange-offline-listener.c		(Aug 2005)
	* storage/exchange-offline-listener.h		(Aug 2005)
	* storage/exchange-offline-utils.c		(Dec 2004)
	* storage/exchange-offline-utils.h		(Dec 2004)
	* storage/exchange-permissions-dialog.c		(Jun 2005)
	* storage/exchange-permissions-dialog.h		(Jun 2005)
	* storage/xc-backend-view.c			(Jul 2005)
	* storage/xc-backend-view.h			(Jul 2005)
	* storage/xc-commands.c				(Jul 2005)
	* storage/xc-commands.h				(Jul 2005)

2007-10-29  Srinivasa Ragavan  <sragavan@novell.com>

	* NEWS, configure.in: Evolution Exchange 2.21.1 release.

2007-10-26  Matthew Barnes  <mbarnes@redhat.com>

	* docs/reference/Makefile.am:
	Change the DOC_MODULE to "evolution-exchange".

	* docs/reference:
	Rename "ximian-connector" files to "evolution-exchange".

2007-09-28  Matthew Barnes  <mbarnes@redhat.com>

	* docs/reference: Remove e2k-encoding-utils section.

2007-09-27  Matthew Barnes  <mbarnes@redhat.com>

	** Fixes bug #474000

	* camel/camel-exchange-folder.c (find_parent):
	Use GLib's Base64 API instead of Camel's.

2007-09-17  Srinivasa Ragavan <sragavan@novell.com>

	* NEW, configure.in: Evolution Exchange 2.12 release

2007-09-17  Matthew Barnes  <mbarnes@redhat.com>

	* addressbook/e-book-backend-gal.c (start_book_view):
	* calendar/e-cal-backend-exchange.c:
	Fix recently introduced compiler warnings.

2007-09-10  Srinivasa Ragavan  <sragavan@novell.com>

	** Fix for bug #295646 (Novell Bugzilla)

	* addressbook/e-book-backend-exchange.c:
	(e_book_backend_exchange_connect),
	(e_book_backend_exchange_authenticate_user): Use rescan subtree for
	personal hierarchy to get the newly created book.
	* calendar/e-cal-backend-exchange.c: (open_calendar): Use rescan
	subtree to get the newly created calendar.

2007-09-07  Chenthill Palanisamy  <pchenthill@novell.com>

	Fixes #295558 (bnc)
	* calendar/e-cal-backend-exchange-calendar.c: (get_changed_events):
	* calendar/e-cal-backend-exchange-tasks.c: (get_changed_tasks): Sync 
	the changes with the cache if something fails in between while iterating
	through the response from the server.

2007-09-07  Srinivasa Ragavan  <sragavan@novell.com>
	
	** Fix for bug #295622 (Novell Bugzilla)

	* addressbook/e-book-backend-gal.c: (gal_reconnect),
	(start_book_view): Reconnect if the ldap is null.

2007-09-06  Srinivasa Ragavan  <sragavan@novell.com>

	** Fix for bug#308057 (Novell Bugzilla)

	* addressbook/e-book-backend-db-cache.c:
	(e_book_backend_db_cache_get_contacts): Use prepend instead of append.

2007-09-03  Srinivasa Ragavan  <sragavan@novell.com>

	* NEWS, configure.in: Evolution Exchange 2.11.92 release

2007-08-30  Srinivasa Ragavan  <sragavan@novell.com>

	** Fix for bug #467591 and bug #464404

	* addressbook/e-book-backend-exchange.c
	(e_book_backend_exchange_create_contact): Connect if there is no
	account before anything else.
	(e_book_backend_exchange_modify_contact):

2007-08-29  Chenthill Palanisamy  <pchenthill@novell.com>

	Fixes #301263 (bnc)
	* calendar/e-cal-backend-exchange.c: (open_calendar):
	If the folder is not found, check if its present in the 
	foriegn hierarchy/directories.	

2007-08-27  Srinivasa Ragavan  <sragavan@novell.com>

	* NEWS, configure.in: Evolution Exchange 2.11.91 release

2007-08-24  Milan Crha  <mcrha@redhat.com>

	** Fix for bug #455858 by Damien Carbery

	* camel/camel-exchange-summary.c:
	Change __PRETTY_FUNCTION__ to G_GNUC_PRETTY_FUNCTION.

2007-08-17  Srinivasa Ragavan  <sragavan@novell.com>

	** Fix for bug #332979

	* addressbook/e-book-backend-gal.c: (ldap_search_dtor),
	(start_book_view), (stop_book_view): Fixes a GAL Synchronization issue
	while doing autocompletion.

2007-08-16  Matthew Barnes  <mbarnes@redhat.com>

	* addressbook/e-book-backend-gal.c (load_source):
	Fix compilation errors caused by glibc's new "open" macro (#466987).

2007-08-16  Sankar P  <psankar@novell.com>

	reviewed by: Srinivasa Ragavan <sragavan@novell.com>

	** Fix for bug #466502

	* camel/camel-exchange-provider.c:
	Fixes the problem of "Check in all folders"
	displayed twice.

2007-08-13  Srinivasa Ragavan  <sragavan@novell.com>

	* NEWS: Update translation updates

2007-08-13  Srinivasa Ragavan  <sragavan@novell.com>

	* NEWS, configure.in: Evolution Exchange 2.11.90 release

2007-08-09  Srinivasa Ragavan  <sragavan@novell.com>

	** Fix for bug #464989

	* addressbook/e-book-backend-exchange.c:
	(e_book_backend_exchange_get_contact): Allow only uri based UIDs to be
	searched.

2007-08-08  Srinivasa Ragavan  <sragavan@novell.com>

	* addressbook/e-book-backend-gal.c: (dosearch): Fix for partial GAL
	retrieval.

2007-08-08  Srinivasa Ragavan  <sragavan@novell.com>

	** Fix for bug #464639

	* addressbook/e-book-backend-exchange.c:
	(e_book_backend_exchange_get_contact): Implement the get_contact
	handler for remote mode.

2007-08-07  Milan Crha  <mcrha@redhat.com>

	** Fix for bug #347930

	* camel/camel-exchange-journal.c: (exchange_entry_write),
	(exchange_entry_play):
	* camel/camel-exchange-store.c: (stub_notification):
	* camel/camel-stub.c: (stub_send_internal):
	* mail/mail-stub.c: (connection_handler), (mail_stub_read_args),
	(mail_stub_return_data):
	Changed g_assert_not_reached to g_critical.

2007-07-31  Veerapuram Varadhan <vvaradhan@novell.com>

	* NEWS, configure.in: Evolution Exchange 2.11.6.1 release
	
2007-07-31  Veerapuram Varadhan  <vvaradhan@novell.com>

	* camel/camel-exchange-folder.c: (get_message): Check for Sender
	and Mailing list fields, if Sender alone exist, add
	X-Evolution-Mail-From-Delegate header that would be handled by
	Evolution, while formatting the message.

	* camel/camel-exchange-summary.c: Disable d(x)

2007-07-30  Veerapuram Varadhan <vvaradhan@novell.com>

	* NEWS, configure.in: Evolution Exchange 2.11.6 release
	
2007-07-30  Chenthill Palanisamy  <pchenthill@novell.com>

	* camel/camel-exchange-folder.c: (get_message): Removed all the 
	unnecessary piece of code. 

	Committing on behalf of Bharath Acharya <abharath@novell.com>	

2007-07-27  Matthew Barnes  <mbarnes@redhat.com>

	* configure.in:
	Collect all the required package versions in one place and
	explicitly require GTK+ 2.10 or higher.  (#380534)

2007-07-09  Srinivasa Ragavan  <sragavan@novell.com>

	* NEWS, configure.in: Evolution Exchange 2.11.5 release

2007-09-09  Matthew Barnes  <mbarnes@redhat.com>

	* calendar/e-cal-backend-exchange-calendar.c
	(process_delegated_cal_object), (find_attendee_prop):
	* camel/camel-exchange-folder.c (get_message):
	* mail/mail-stub-exchange.c (mse_get_folder_online_sync_updates):
	* mail/mail-utils.c (mail_util_demangle_delegated_meeting),
	(mail_util_demangle_delegated_meeting):
	Fix newly introduced compiler warnings as well as a memory leak.

2007-07-09  Chenthill Palanisamy  <pchenthill@novell.com>

	reviewed by: Veerapuram Varadhan <vvaradhan@novell.com>

	* calendar/e-cal-backend-exchange-calendar.c:
	(process_delegated_cal_object), (find_attendee_prop),
	(create_object), (modify_object_with_href):
	* calendar/e-cal-backend-exchange.c: (get_cal_owner),
	(e_cal_backend_exchange_get_sender),
	(e_cal_backend_exchange_get_sender_string),
	(e_cal_backend_exchange_get_owner_name):
	* calendar/e-cal-backend-exchange.h:
	* camel/camel-exchange-folder.c: (get_message),
	(camel_exchange_folder_construct):
	* mail/mail-stub-exchange.c: (unmangle_delegated_meeting_request),
	(unmangle_sender_field), (get_message):
	* mail/mail-utils.c: (mail_util_demangle_sender_field),
	(mail_util_demangle_delegated_meeting):
	* mail/mail-utils.h: Adding the delegation feature.

	Committing on behalf of Suman Manjunath <msuman@novell.com> and 
	Bharath Acharya <abharath@novell.com>	

2007-07-08  Veerapuram Varadhan  <vvaradhan@novell.com>

	** Fixes #442186, part of 341214 and #421091
	This set of fixes changes the very basic behaviour of folder
	loading in Exchange.  This version of Evolution-exchange should
	work much much much better for those having relatively big mail
	folders.  The optimization fix has been tested fairly well,
	however, may have introduced some regressions - considering the
	nature of the work.  Please feel free to mail me or file a bug in
	bugzilla.gnome.org, in case of any regressions or new bugs and assign 
	it to me. Refer to
	http://vvaradhan.blogspot.com/2007/06/evolution-exchange-performance-series_28.html
	for sample data.

	* camel/camel-exchange-folder.c:
	(camel_exchange_folder_add_message): update minfo with href as we
	store hrefs now.
	(camel_exchange_folder_construct): Pass hrefs loaded from disk
	* camel/camel-exchange-folder.h: Add href parameter to
	camel_exchange_folder_add_message ()
	* camel/camel-exchange-store.c: (stub_notification): stub
	implementation for SET_ARTICLE_NUM and modify NEW_MESSAGE handler
	to use href.
	* camel/camel-exchange-summary.c: (header_load), (header_save),
	(message_info_load), (message_info_save): Use the latest summary
	format and load/save the new fields and auto-migrate the older
	summary files.
	(camel_exchange_summary_get_article_num),
	(camel_exchange_summary_set_article_num): Get/Set for high_article_num field.
	* camel/camel-exchange-summary.h: - do -
	* camel/camel-stub-constants.h: Add constants for HIGH_ARTICLE_NUM
	cmd in stub.
	* mail/mail-stub-exchange.c: (mse_get_folder_online_sync_updates),
	(get_folder_contents_online), (get_folder_contents_online_func),
	(get_folder_online), (get_folder) : Break the big guy in to sleek functions.
	(refresh_folder_internal): Update high_article_num in folder->summary.
	* mail/mail-stub.c: (connection_handler): Handle standard uri event.
	* mail/mail-stub.h: Added hrefs and high_article_num parameters.

2007-06-18  Srinivasa Ragavan  <sragavan@novell.com>

	** Evolution Exchange 2.11.4 release

	* NEWS:
	* configure.in:

2007-06-09  Matthew Barnes  <mbarnes@redhat.com>

	* mail/mail-stub-exchange.c:
	* addressbook/e-book-backend-gal.c:
	* addressbook/e-book-backend-db-cache.c:
	* storage/exchange-autoconfig-wizard.c:
	Fix new compiler warnings since 2.11.2 (#444101).

2007-06-05  Wang Xin  <jedy.wang@sun.com>

	** Fixes #385354, Matthew Barnes updated the patch for trunk.
	Replace all __PRETTY_FUNCTION__ with G_GNUC_PRETTY_FUNCTION.

	* addressbook/e-book-backend-gal.c:
	* addressbook/e-book-backend-gal.h: Add LBER_USE_DER and
	LDAP_CONTROL_PAGEDRESULTS if sunldap is used.

2007-06-04  Srinivasa Ragavan  <sragavan@novell.com>

	** Evolution Exchange 2.11.3.1 release

	* configure.in:

2007-06-04  Srinivasa Ragavan  <sragavan@novell.com>

	** Evolution Exchange 2.11.3 release

	* NEWS:
	* configure.in:

2007-05-28  Veerapuram Varadhan  <vvaradhan@novell.com>

	** Fixes #406155

	* mail/mail-stub-exchange.c (free_folder(),
	message_remove_at_index(), process_flags ()): Guard access to
	changed_messages array with G_STATIC_REC_MUTEX locks.
		
2007-06-04  Veerapuram Varadhan  <vvaradhan@novell.com>

	* camel/camel-exchange-folder.c (camel_exchange_folder_construct):
	Do not fetch messages if folder summary is available.
	
2007-06-04  Srinivasa Ragavan  <sragavan@novell.com>

	** Add missing files.

	* addressbook/e-book-backend-db-cache.c: 
	* addressbook/e-book-backend-db-cache.h:

2007-05-28  Veerapuram Varadhan <vvaradhan@novell.com>

	* camel/camel-exchange-store.c (exchange_store_get_folder_info):
	* mail/mail-stub-exchange.c (get_folder_info):  Don't mask
	CAMEL_FOLDER_INFO_FAST with CAMEL_FOLDER_INFO_SUBSCRIBED and
	handle, CAMEL_FOLDER_INFO_FAST in stub.  FOLDER_INFO_FAST should
	fetch available folders - without a rescan.
	
2007-06-03  Srinivasa Ragavan  <sragavan@novell.com>

	* configure.in: Fix for picking evolution without version 
	specification in the installed files.

2007-06-01  Matthew Barnes  <mbarnes@redhat.com>

	* configure.in: Fix an implicit function declaration in the
	LDAP Paged Control test program.

2007-06-01  Srinivasa Ragavan  <sragavan@novell.com>

	** Adds support for GAL Caching and summary. It uses libdb and makes it
	a soft dependency.

	* addressbook/Makefile.am:
	* addressbook/e-book-backend-exchange.c: (update_cache):
	* addressbook/e-book-backend-gal.c: (ldap_reconnect),
	(get_contact), (get_contact_list), (func_contains),
	(member_populate), (get_time_stamp), (build_contact_from_entry),
	(ldap_search_handler), (get_contacts_from_cache),
	(start_book_view), (parse_page_control), (dosearch),
	(generate_cache), (authenticate_user), (set_mode),
	(get_supported_auth_methods), (load_source), (dispose):
	* configure.in:

2007-05-26  Claudio Saavedra  <csaavedra@alumnos.utalca.cl>

	* addressbook/apps_exchange_addressbook.schemas.in.in: Fix
	typo. Fix from Elizabeth Greene <nerdygirl_ellie@yahoo.com>
	(#424419).

2007-05-19  Matthew Barnes  <mbarnes@redhat.com>

	* camel/camel-exchange-folder.c:
	* storage/exchange-migrate.c:
	Use g_mkdir_with_parents() instead of e_util_mkdir_hier().  (#439579)

2007-05-14  Srinivasa Ragavan <sragavan@novell.com>

	** NEWS, configure.in: Evolution exchange 2.11.2 release

2007-04-27  Matthew Barnes  <mbarnes@redhat.com>

	* addressbook/Makefile.am:
	Add a CLEANFILES rule to remove a schema file.  (#433967)

2007-04-27  Matthew Barnes  <mbarnes@redhat.com>

	* camel/camel-exchange-journal.c:
	* camel/camel-exchange-folder.c:
	* camel/camel-exchange-provider.c:
	* camel/camel-exchange-transport.c:
	* camel/camel-exchange-store.c:
	* camel/camel-stub.c:
	Use GLib's i18n support instead of Camel's.  (#418852)

2007-02-23  Srinivasa Ragavan <sragavan@novell.com>

	** NEWS, configure.in: Evolution exchange 2.11.1 release

2007-04-19  Veerapuram Varadhan  <vvaradhan@novell.com>

	* MAINTAINERS: Added component maintainers.
	
2007-04-05  Matthew Barnes  <mbarnes@redhat.com>

	* storage/exchange-config-listener.c (class_init):
	* storage/exchange-component.c (exchange_component_class_init):
	Use GLib marshallers wherever possible.

2007-03-29  Matthew Barnes  <mbarnes@redhat.com>

	* camel/camel-exchange-journal.c:
	* camel/camel-exchange-folder.c:
	* camel/camel-stub-marshal.c:
	* camel/camel-exchange-store.c:
	* camel/camel-stub.c:
	* mail/mail-utils.c:
	* mail/mail-utils.h:
	* mail/mail-stub-exchange.c:
	* mail/mail-stub.c:
	* addressbook/e-book-backend-exchange.c:
	* addressbook/e-book-backend-gal.c:
	* calendar/e-cal-backend-exchange.c:
	* calendar/e-cal-backend-exchange-tasks.c:
	* calendar/e-cal-backend-exchange-calendar.c:
	Fix all compiler warnings (#405916).

2007-03-27  Matthew Barnes  <mbarnes@redhat.com>

	* addressbook/e-book-backend-gal.c:
	* calendar/e-cal-backend-exchange-calendar.c:
	* calendar/e-cal-backend-exchange.c:
	* camel/camel-exchange-store.c:
	* mail/mail-stub-exchange:
	* storage/exchange-component.c:
	* storage/exchange-config-listener.c:
	Don't mix declarations and code (#405495).

2007-03-26  Matthew Barnes  <mbarnes@redhat.com>

	* configure.in: Fix the bug-report address in AC_INIT (#363283).
	Patch from Gilles Dartiguelongue.

2007-03-26  Matthew Barnes  <mbarnes@redhat.com>

	* camel/camel-exchange-summary.c:
	Fix a #include typo (#414216).  Patch from Loïc Minier.

2007-03-12  Harish Krishnaswamy <kharish@novell.com>

	* configure.in: Evolution-Exchange 2.10.0 release updates.

2007-03-06  Veerapuram Varadhan  <vvaradhan@novell.com>

	** Fixes #384303 - Patch by Srinivasa Ragavan
	* configure.in:
	* addressbook/e-book-backend-gal.c: Disable GAL caching if
	LDAP_CONTROL_PAGEDRESULTS is undefined.
	
2007-03-06  Veerapuram Varadhan  <vvaradhan@novell.com>

	* camel/camel-exchange-store.c (exchange_get_folder_info): Mask
	CAMEL_FOLDER_INFO_FAST with CAMEL_FOLDER_INFO_SUBSCRIBED in order
	to fetch the correct folder list, which changed after the public
	folder optimization fix.
	
2007-02-28  Kjartan Maraas  <kmaraas@gnome.org>

	* addressbook/e-book-backend-gal.c: (parse_page_control):
	Don't mark debug messages for translation. The strings are
	hard enough to understand for the developers it seems.

2007-02-26  Srinivasa Ragavan <sragavan@novell.com>

	* NEWS, configure.in: Evolution-Exchange 2.9.92 release updates.

2007-02-26  Veerapuram Varadhan  <vvaradhan@novell.com>

	** Fixes BGO #393029 - Patch by Nathan Owens <pianocomp81@yahoo.com>

	calendar/e-cal-backend-exchange.c 
	(e_cal_backend_exchange_compute_changes_foreach_key): Check for
	non-NULL instead of NULL.
	
2007-02-26 Harish Krishnaswamy <kharish@novell.com>

	* configure.in : Update intltool version.

2007-02-20  Kjartan Maraas  <kmaraas@gnome.org>

	* Makefile.am: Dist MAINTAINERS.

2007-02-19  Veerapuram Varadhan  <vvaradhan@novell.com>

	* Fixes BGO #400735

	configure.in:
	addressbook/Makefile.am:
	addressbook/e-book-backend-gal.c:
	addressbook/e-book-backend-db-cache.c:
	addressbook/e-book-backend-db-cache.h: Reverted the changes
	corresponding to GAL DB implementation.  Please read the bug for
	further information.
	
2007-02-12  Srinivasa Ragavan <sragavan@novell.com>

	* NEWS, configure.in: Evolution-Exchange 2.9.91 release updates.

2007-01-23  Veerapuram Varadhan  <vvaradhan@novell.com>

	* NEWS, configure.in: Evolution-Exchange-2.9.6 release updates.

2007-01-22  Veerapuram Varadhan  <vvaradhan@novell.com>

	* configure.in: Check for the availability of libdb devel packages
	and provide "--with-libdb" parameter for custom locations of
	libdb.

	* addressbook/Makefile.am:  Do not hard-code libdb path - breaks
	build when libdb headers are not installed.
	
2007-01-12  Devashish Sharma <sdevashish@novell.com>

	* addressbook/e-book-backend-gal-cache.c : Committing DB based gal 
	cache with summary support.

	* addressbook/e-book-backend-db-cache.[ch] : Commiting the apis for
	using DB for caching.

2007-01-08  Harish Krishnaswamy <kharish@novell.com>

	* NEWS, configure.in: Evolution-Exchange-2.9.5 release updates.

2007-01-08  Veerapuram Varadhan  <vvaradhan@novell.com>

	** Fixes 346728, 268412

	* camel/camel-stub-constants.h: Define
	CAMEL_STUB_FOLDER_NOCHILDREN
	
	* mail/mail-stub-exchange.c: (get_folder_info): Remove commented
	code.  Set CAMEL_STUB_FOLDER_NOCHILDREN, when folders don't have a
	sub-folder - second level optimization for public-folder issue.

	* camel/camel-exchange-store: (make_folder_info): Set
	CAMEL_FOLDER_NOCHILDREN appropriate.
	(postprocess_tree): CAMEL_FOLDER_NOCHILDREN is set in
	make_folder_info.
	
2007-01-08  Matthew Barnes  <mbarnes@redhat.com>

	Fixes #357660
	* calendar/e-cal-backend-exchange-calendar.c: (find_attendee_prop)
	Use g_ascii_str[n]casecmp instead of deprecated g_str[n]casecmp.

2006-12-18  Veerapuram Varadhan  <vvaradhan@novell.com>

	* camel/camel-exchange-store.c: (make_folder_info): Uncoment the
	line that decodes that path.
	
2006-12-18  Veerapuram Varadhan  <vvaradhan@novell.com>

	* NEWS, configure.in: Evolution-Exchange-2.9.4 release updates.
	
2006-12-18  Veerapuram Varadhan  <vvaradhan@novell.com>

	* camel/camel-exchange-store.c: (make_folder_info): Decode path
	name and use it as full_name - reversing the reverted commit.
	
2006-12-18  Veerapuram Varadhan  <vvaradhan@novell.com>

	** Fix for 346728, 268412

	* mail/mail-stub-exchange.c: (get_folder_info):  Don't scan all
	the hierarchies always.  We now load, when not recursive fetch,
	folders on demand.  This reduces both memory and loading time.
	
2006-12-18  Sankar P  <psankar@novell.com>

	* camel/camel-exchange-provider.c:
	Do not check mail in all folders by defalut.
	Make it a configurable option.
	Will be more than useful in case you have a large number of folders

2006-12-04  Veerapuram Varadhan  <vvaradhan@novell.com>

	* camel/camel-exchange-store.c: (make_folder_info): Commented out
	decode path code as e-d-s part of the patch couldn't make it in
	time for 2.9.3
	
2006-12-04  Veerapuram Varadhan  <vvaradhan@novell.com>

	* camel/camel-exchange-store.c: (make_folder_info): Decode path
	name and use it as full_name.
	
2006-12-01  Srinivasa Ragavan  <sragavan@novell.com>

	** Committing GAL Caching implementation from Devashish

	* addressbook/Makefile.am: Added the gconf support to exchange storage
	* addressbook/apps_exchange_addressbook.schemas.in.in: Schema to set
	the cache reload interval
	* addressbook/e-book-backend-gal.c: (gal_reconnect),
	(get_contact_handler), (get_contact), (contact_list_handler),
	(get_contact_list), (build_contact_from_entry), (poll_ldap),
	(ldap_search_handler), (start_book_view), (tool_server_controls),
	(parse_page_control), (dosearch), (generate_cache), (set_mode),
	(load_source), (dispose): Implementation of GAL Cache for Exchange.
	* configure.in:

2006-11-16  Srinivasa Ragavan  <sragavan@novell.com>

	* addressbook/e-book-backend-gal.c: (contact_list_handler): Fix for
	hang while viewing a HTML mail, which has images to be loaded based on
	contacts. Downstream fix from SUSE.

2006-11-15  Chenthill Palanisamy  <pchenthill@novell.com>

	* calendar/e-cal-backend-exchange.c: (open_calendar):
	Set the online status before connecting to the server.
	Notify error messages to evolution.
	Fixes #219729 (bugzilla.novell.com)

2006-11-15  Chenthill Palanisamy  <pchenthill@novell.com>

	* calendar/e-cal-backend-exchange-calendar.c:
	(modify_object_with_href):Removed the deleted link
	properly. Remove the stale X-MOD-PROPS from the instances.
	Send the status properly to indicate errors.
	Fixes #215633 (bugzilla.novell.com)

2006-10-02 Harish Krishnaswamy <kharish@novell.com>

	* NEWS, configure.in: Connector 2.8.1 release.

2006-09-04  Veerapuram Varadhan  <vvaradhan@novell.com>

	* NEWS, configure.in: Connector 2.8.0 release.

2006-08-22  Sushma Rai  <rsushma@novell.com>

	* camel/camel-exchange-store.c: Including camel-exchange-summary.h.
	Fixes build issue with -Werror-implicit-function-declaration flag.
	Patch submitted by "Matthew Barnes  ", Fixes #349949. 

2006-08-21  Srinivasa Ragavan <sragavan@novell.com>

	* NEWS, configure.in: Connector 2.7.92 release.

2006-08-14  Sanlig Badral  <badral@openmn.org>

        * configure.in: Added mn (Mongolian) to ALL_LINGUAS.

2006-08-07  Srinivasa Ragavan <sragavan@novell.com>

	* configure.in: Bumped version to 2.7.91
	* NEWS: Updated changes

2006-08-07  Veerapuram Varadhan  <vvaradhan@novell.com>

	* camel/camel-stub-marshal.c (do_read): Whenever timeout happens,
	just keep reading.  Fixes #344196
	
2006-08-07  Sushma Rai  <rsushma@novell.com>

	* camel/camel-stub.c (connect_to_storage): Handling the error when the
	socket file path has changed and displaying proper error message.
	Fixes #274321

2006-07-31  Sushma Rai  <rsushma@novell.com>

	* camel/camel-stub-marshal.c (do_read): Come out of the loop on
	failure. Fixes the hang.
	(marshal_read): Resetting the byte array size when read fails.
	Patch submitted by "Jeffrey Stedfast <fejj@novell.com>" and
	"Arunprakash <twizst@gmail.com>". Fixes #344196 and Novell
	bugzilla bug https://bugzilla.novell.com/show_bug.cgi?id=179545.

2006-07-27  Chenthill Palanisamy  <pchenthill@novell.com>

	Fixes Novell bugzilla bug #170058
	* calendar/e-cal-backend-exchange-calendar.c: 
	(discard_alarm): Check if the icalcomponent is set
	in ECalComponent before removing the alarms.

2006-07-24  Sushma Rai  <rsushma@novell.com>

	* configure.in : Bumped the version to 2.7.90
	* NEWS : Updated

2006-07-24  Sushma Rai  <rsushma@novell.com>

	* addressbook/e-book-backend-exchange.c (e_contact_from_props) 
	(build_message)(e_book_backend_exchange_modify_contact):
	Incorporated the changes in EContactPhoto structure. Fixes #347870. 

2006-07-24  Sushma Rai  <rsushma@novell.com>

	* addressbook/e-book-backend-exchange.c 
	(e_book_backend_exchange_start_book_view): Rescanning folders to update 
	the folder tree.
	(e_book_backend_exchange_remove): Remove the stale gconf entry of 
	folder deleted from some other client. Fixes #313081.

2006-07-22  Sushma Rai  <rsushma@novell.com>

	* addressbook/e-book-backend-exchange.c: Corrected the birthday and
	anniversary date read. Fixes #332304
	patch Submitted by "Vandana Shenoy .B <shvandana@novell.com>"

2006-07-12  Chenthill Palanisamy  <pchenthill@novell.com>

	Fixes #344651
	* calendar/e-cal-backend-exchange.c: (build_msg):
	avoid crash when importing events with 
	attachements which are MIME references instead of file names by ignoring
	these attachments (e.g. ATTACH:CID:0fd601c67efb$ef66760d$_CDOEX)

	Committed on behalf of Patrick Ohly <patrick.ohly@intel.com> 

2006-07-10  Sushma Rai  <rsushma@novell.com>

	* configure.in : Bumped the version to 2.7.4
	* NEWS : Updated

2006-06-22  simon.zheng  <simon.zheng@sun.com>

        Fix for #336453

        * acinclude.m4:
        * configure.in:
        * addressbook/e-book-backend-gal.h:
        update patch for adding SunLDAP library support - a variant of 
	Netscape LDAP.

2006-06-17  Kjartan Maraas  <kmaraas@gnome.org>

	* configure.in: Up intltool requirement to 0.35.

2006-06-15  Jeffrey Stedfast  <fejj@novell.com>

	* camel/camel-stub-marshal.c (do_read): Changed 'n' to be of type
	ssize_t rather than size_t so that we can properly catch '-1'
	return values. Still for bug #179566.

2006-06-13  Sankar P  <psankar@novell.com>

	* Reverting the previous patch. As the LDAP support checking
	is done even if I havent given the --with-sunldap option

2006-06-12  simon.zheng  <simon.zheng@sun.com>

        Fix for #336453

	* acinclude.m4:
	* configure.in:
	* addressbook/e-book-backend-gal.h:
        Add SunLDAP library support - a variant of Netscape LDAP.

2006-06-12  Sushma Rai  <rsushma@novell.com>

	* configure.in : Bumped the version to 2.7.3
	* NEWS : Updated

2006-06-02  Jeffrey Stedfast  <fejj@novell.com>

	* camel/camel-stub-marshal.c (do_read): Patch to my last
	patch. Oops, camel_read() doesn't guarantee that it will read 'n'
	requested bytes (as camel_write() guarantees that it will write
	'n' bytes), it is just a cancellable read() implementation. This
	should fix bug #179566.

2006-05-23  Nancy  <nancy.cai@sun.com>

	Fix #341803
	* storage/Makefile.am:replace "ximian-connector-setup" by
	"exchange-connector-setup"

2006-05-17  Harish Krishnaswamy  <kharish@novell.com>

	* configure.in: Append -DLDAP_DEPRECATED to LDAP_CFLAGS and
	do not overwrite the value.

2006-05-12  Brian Pepple  <bdpepple@gmail.com>

	* po/LINGUAS: New file listing all supported languages.

	* configure.in: Use po/LINGUAS instead of including all languages
	directly in this file. See the wiki for more information:
	http://live.gnome.org/GnomeGoals/PoLinguas

2006-05-12  Sushma Rai  <rsushma@novell.com>

	* configure.in : Bumped the version to 2.7.2
	* NEWS : Updated

2006-05-12  Sankar P  <psankar@novell.com>

	* Committed on behalf of Patrick Ohly <patrick.ohly@intel.com> 
	* camel-stub.c: (stub_send_internal):
	Adds a NULL check before proceeding further
	
2006-05-11  Chenthill Palanisamy  <pchenthill@novell.com>

	Fix #341229
	* calendar/e-cal-backend-exchange-calendar.c:
	(modify_object_with_href): Set the old object so 
	that it gets refreshed properly.

2006-05-11  Chenthill Palanisamy  <pchenthill@novell.com>

	Fixes #339561
	* calendar/e-cal-backend-exchange-calendar.c:
	(modify_object_with_href): check for modification of end times.
				   
2006-05-11  Chenthill Palanisamy  <pchenthill@novell.com>

	Fixes #339827
	* calendar/e-cal-backend-exchange-calendar.c: (add_vevent),
	(get_changed_events), (create_object), (modify_object),
	(modify_object_with_href), (remove_object), (receive_objects),
	(book_resource), (discard_alarm):
	* calendar/e-cal-backend-exchange-tasks.c: (get_changed_tasks),
	(create_task_object), (modify_task_object), (receive_task_objects),
	(remove_task_object):
	* calendar/e-cal-backend-exchange.c:
	(e_cal_backend_exchange_cache_sync_end),
	(e_cal_backend_exchange_cache_lock),
	(e_cal_backend_exchange_cache_unlock), (get_object),
	(get_object_list), (start_query), (init), (finalize):
	* calendar/e-cal-backend-exchange.h: Set the cache lock while
	accessing the components from the hash table.

2006-05-10  Sushma Rai  <rsushma@novell.com>

	* storage/exchange-autoconfig-wizard.c (owa_page_next): Corrected the
	support page URL in the error message. Fixes #334035.

2006-05-10  Vandana Shenoy B  <shvandana@novell.com>

	* addressbook/e-book-backend-exchange.c (proppatch_address): Added a
	check for modifying a contact. Fixes #330265.

2006-05-10  Sushma Rai  <rsushma@novell.com>

	* mail/mail-stub-exchange.c (subscribe_folder): Not adding the toplevel
	"All Public Folders" to the list of favorite folders. Fixes #339277.

2006-05-10  Sushma Rai  <rsushma@novell.com>

	* mail/mail-stub-exchange.c (unsubscribe_folder): Extracting the folder
	name instead of folder patch. Fixes the issue of unsubscribing the sub
	favorite folders. Related to bug #268412.

2006-05-04  Jeffrey Stedfast  <fejj@novell.com>

	Fix for the hang in Novell bug #166987 and gnome bugzilla bug #322897

	* camel/camel-stub.c (status_main): Create a CamelOperation
	context so our main-loop/reads/writes can all be cancelled.
	(finalize): Call camel_operation_cancel() on the stub's
	CamelOperation so that the status_main thread exits more-or-less
	immediately rather than hanging indefinitely in a system read()
	call.

	* camel/camel-stub-marshal.c (do_read): Use camel_read() so the
	read is cancellable.
	(camel_stub_marshal_flush): Use camel_write().

2006-05-02  Kjartan Maraas  <kmaraas@gnome.org>

	* configure.in: More LDAP build fixing from Sushuma Rai
	Closes bug #325957

2006-04-26  Sushma Rai  <rsushma@novell.com>

	* configure.in : Corrected the EVOLUTION_API_VERSION and 
	EDS_BASE_VERSION and bumped the version to 2.7.1.1

2006-04-25  Sushma Rai  <rsushma@novell.com>

	* configure.in : Bumped the version to 2.7.1
	* NEWS : Updated

2006-04-24  Chenthill Palanisamy  <pchenthill@novell.com>

	* calendar/e-cal-backend-exchange.c: (build_msg): Not freeing the
	destination file for attachements. Fixes #330494.

2006-04-18  Chenthill Palanisamy  <pchenthill@novell.com>

	Fixes #334727
	* calendar/e-cal-backend-exchange-calendar.c: 
	(add_vevent): Return correct status.
	(add_ical), (receive_objects): Pass the duped string.
				       
2006-04-18  Chenthill Palanisamy  <pchenthill@novell.com>

	Fixes #330674
	* calendar/e-cal-backend-exchange-calendar.c:
	(receive_objects): Passed ECalComponentId for notifying
	clients on objects removed.

2006-04-18  Chenthill Palanisamy  <pchenthill@novell.com>

	Fixes #334900
	* calendar/e-cal-backend-exchange-calendar.c: (receive_objects):
	Do not remove the instance as exception would be set in the method
	modify_object.
	* calendar/e-cal-backend-exchange.c:
	(e_cal_backend_exchange_modify_object):Set the exception alone instead
	of removing the instance.

2006-04-17  Sushma Rai  <rsushma@novell.com>

	* mail/mail-stub-exchange.c (get_folder): Removed a "full stop" from 
	the error string. Fixes #306116.

2006-04-17  Kjartan Maraas  <kmaraas@gnome.org>

	* configure.in: Remove obsolete entry for no_NO.
	* po/no.po: And the translation.

2006-04-10  Sushma Rai  <rsushma@novell.com>

	* docs/reference/gtk-doc.make: Creating the target docs directory
	only if the source directory is not empty. Fixes #334925.
	Patch submitted by "Jeremy Messenger <mezz@FreeBSD.org>"

2006-04-04  Sushma Rai  <rsushma@novell.com>

	* calendar/e-cal-backend-exchange-calendar.c (create_object):
	Initialize variables location and ru_header to NULL.

	* mail/mail-stub-exchange.c (append_message): Similar.
	Fixes #334391.

2006-03-30  Rhys Jones  <rhys@sucs.org>

	* configure.in: Added Welsh (cy) to ALL_LINGUAS.

2006-03-22  Tommi Vainikainen  <thv@iki.fi>

	* configure.in (ALL_LINGUAS): Added Dzongkha (dz).

2006-03-13  Sushma Rai  <rsushma@novell.com>

	* configure.in : Bumped the version to 2.6.0
	* NEWS : Updated

2006-03-06  Sushma Rai  <rsushma@novell.com>

	* calendar/e-cal-backend-exchange-calendar.c 
	(check_owner_partstatus_for_declined): Check for NULL ical property.
	Fixes #323990.

2006-03-06  Chenthill Palanisamy  <pchenthill@novell.com>

	Fixes #333603.
	* calendar/e-cal-backend-exchange.c:
	(set_mode): Notify the client to authenticate only when
	the mode is changed from offline to online.

2006-03-06  Sushma Rai  <rsushma@novell.com>

	* po/POTFILES.in : Removed the non existing files. 
	Fixes #317432. Patch submitted by Sebastien Bacher <seb128@debian.org>.

2006-03-06  Sushma Rai  <rsushma@novell.com>

	* storage/exchange-config-listener.c (update_foreign_uri): Using 
	e_xml_destroy_hash() to free the xml hash, instead of 
	g_hash_table_destroy(). See #329251.

2006-03-06  Sushma Rai  <rsushma@novell.com>
	
	* calendar/e-cal-backend-exchange-tasks.c (create_task_object): Freeing
	from address and names. 

	* mail/mail-stub-exchange.c (unsubscribe_folder): Freeing path at the 
	end. Fixes invalid memory access. See #329251.

2006-03-06  Sushma Rai  <rsushma@novell.com>

	* storage/exchange-offline-listener.c (setup_offline_listener): 
	Freeing GConfValue. See #329251.

2006-03-06  Sushma Rai  <rsushma@novell.com>

	* storage/exchange-config-listener.c (account_removed): Not unrefing 
	the account passed to the signal handler. Fixes #332129.

2006-03-03  Chenthill Palanisamy  <pchenthill@novell.com>

	Fixes #273057 and problems in modification and deletion
	of instances, Accepting exception instances from mail.
	* calendar/e-cal-backend-exchange-calendar.c: 
	(create_object): Use update_x_properties to remove the X_MOD_PROPS. 
	Server would not allow us to create the object if they are present. 
	(update_x_properties): Add the properties to the list and later remove
	them all, so that all of them are removed.			       
	(modify_object_with_href): Added a parameter to pass the right rid i
	while removing an instance. Set the start and end times of the master 
	object and remove the recurrence id while modifying all instances. 
	Add all the instance to the VCalendar component, else the excluded 
	ones would be removed from the server.
	(modify_object): 
	(remove_object)
	(book_resource): Pass the additional parameter as NULL.
	(receive_objects): Set the CalObjMod property correctly when updates
	for meetings are accepted.
	(discard_alarm): Free the component inside only when its needed.
	* calendar/e-cal-backend-exchange-tasks.c: (modify_task_object):
	* calendar/e-cal-backend-exchange.h:
	* calendar/e-cal-backend-exchange.c:
	(e_cal_backend_exchange_modify_object): Added a boolean variable to 
	indicate the removal of an instance.

2006-03-03  Chenthill Palanisamy  <pchenthill@novell.com>

	Fixes #272749
	* calendar/e-cal-backend-exchange-calendar.c: (receive_objects):
	Add the timezones from the component to the backend.

2006-03-03  Sankar P  <psankar@novell.com>

	* camel/camel-exchange-folder.c:
	(append_message): Substitutes characters troubling HTTP-url-creation, 
			  like TAB, with a blank.
	Fixes #271567 and a bunch of its duplicates.		  

2006-02-27  Sushma Rai  <rsushma@novell.com>

	* configure.in : Bumped the version to 2.5.92
	* NEWS : Updated

2006-02-27  Chenthill Palanisamy  <pchenthill@novell.com>

	* calendar/e-cal-backend-exchange-calendar.c: 
	(add_ical): Notify the client the if a new object gets created.
	(get_changed_events): Make it thread safe.
	(notify_changes): get the change notifications. Do not get 
	notifications for generated instances.
	(open_calendar): Check if the client is already loaded, if so return 
	immediately.
	(ECalBackendExchangeCalendarPrivate): Added a mutex and a is_loaded 
	variable.
	(init): Intialiazed mutex and is_loaded variables.

	* calendar/e-cal-backend-exchange-tasks.c: (get_changed_tasks),
	(notify_changes), (open_task), (init)
	(struct _ECalBackendExchangeTasksPrivate): Same as calendar.

	* calendar/e-cal-backend-exchange.c (open_calendar): Check if the 
	calendar is loaded and dont reload again.
	(init): Intialize cache unseen.

2006-02-25  Sushma Rai  <rsushma@novell.com>

	* calendar/e-cal-backend-exchange.c 
	(e_cal_backend_exchange_get_from_string): Freeing name and address.
	(get_attachment): Freeing attachment data.
	(build_msg): Freeing name and email.
	
	* calendar/e-cal-backend-exchange-calendar.c (add_vevent): Freeing ical
	property.
	(add_ical): Freeing attachment list.
	(discard_alarm): Freeing ical component.
	
	* calendar/e-cal-backend-exchange-tasks.c (get_changed_tasks): Freeing
	attachment list.
	(create_task_object): Freeing ical component.
	(modify_task_object): Freeing component string and ical component.
	Cloning ical component and freeing ecal component.
	(remove_task_object): Similar.
	See #329251.	

2006-02-21  Sushma Rai  <rsushma@novell.com>

	* storage/exchange-config-listener.c (exchange_camel_urls_is_equal):
	Not freeing camel params, which don't have any memory allocated.
	Fixes #331980.

2006-02-13  Sushma Rai  <rsushma@novell.com>

	* configure.in : Bumped the version to 2.5.91
	* NEWS : Updated

2006-02-13  Chenthill Palanisamy  <pchenthill@novell.com> 

	* calendar/e-cal-backend-exchange.c: (match_object): Check for the
	presence of the icalcomp before cloning it.
	Fixes #330663. 

2006-02-13  Sankar P  <psankar@novell.com>

	* Committing on behalf of Arunprakash <arunp@novell.com>
	
	* camel/camel-exchange-store.c (stub_notification) : Added code to
	update the readonly flag of the camel folder.
	* mail/mail-stub-exchange.c (folder_update_linestatus) : Notifies
	the readonly flag change of the folder to camel stub.
	* camel/camel-stub-constants.h : Added the enumeration value 
	CAMEL_STUB_RETVAL_FOLDER_SET_READONLY

	Fixes #311017.

2006-02-13  Sushma Rai  <rsushma@novell.com>

	* camel/camel-exchange-provider.c (exchange_conf_entries[]): Added
	mnemonics for checkspin and text entry items.
	Fixes #330504.

2006-02-13  Sushma Rai  <rsushma@novell.com>

	* camel/camel-exchange-provider.c (exchange_conf_entries[]): Added
	mnemonics for checkbox entries in receive options page.
	See #330504.

2006-02-10  Chenthill Palanisamy  <pchenthill@novell.com>

	Fixes two crashes.
	Fixes #330640
	* calendar/e-cal-backend-exchange-calendar.c: 
	(modify_object_with_href): clone ecomp->icomp while adding it
	to the VCalendar.
	* calendar/e-cal-backend-exchange.c: (get_ldap_attribute):
	Check if the argument passed is valid before setting the value.

2006-02-09  Sushma Rai  <rsushma@novell.com>

	* addressbook/e-book-backend-exchange.c (proppatch_address): Not 
	freeing address value, which causes memory corruption. Fixes #330224.

	* calendar/e-cal-backend-exchange.c (set_mode): Removed unused 
	variables.
	(get_attachment)(build_msg)(finalize): Fixed memory leaks.
	See #329251.

2006-02-07  Sushma Rai  <rsushma@novell.com>

	* addressbook/e-book-backend-exchange.c (proppatch_date): Handling the
	case when users unsets the b'day and anniversay dates set before.
	Fixes #330221

2006-02-06  Sushma Rai  <rsushma@novell.com>

	* addressbook/e-book-backend-exchange.c 
	(e_book_backend_exchange_connect): Initializing nresults to zero and
	freeing E2kResult.
	(e_book_backend_exchange_modify_contact): Similar.

	* mail/mail-stub-exchange.c (get_folder_online)(sync_deletions)
	(get_stickynote)(build_message_from_document)
	(unmangle_delegated_meeting_request): Similar.

	* calendar/e-cal-backend-exchange.c (open_calendar): Similar.
	(get_object): Not cloning alreadry memory allocated icalcomponent.
	(check_change_type): Freeing e-cal component inside the loop.
	
	* calendar/e-cal-backend-exchange-calendar.c (add_ical): Not cloning
	alreadry memory allocated icalcomponent.

	* storage/exchange-config-listener.c (ex_set_relative_uri): Freeing 
	relative URI.
	(migrate_account_esource): Freeing CamelURL, and url_string.
	(exchange_camel_urls_is_equal): Using camel_url_free() to free the 
	CamelURLs instead of g_free().
	Fixes #329251.

2006-02-06  Chenthill Palanisamy  <pchenthill@novell.com>

	* calendar/e-cal-backend-exchange.c: (open_calendar), 
	(is_loaded), (class_init): Added the implementation.
	(set_mode): Notify read only status to the client. 
	
2006-02-02  Sushma Rai  <rsushma@novell.com>

	* addressbook/e-book-backend-exchange.c 
	(e_book_backend_exchange_load_source): Not builiding/updating cache in
	load_source, but doing it only after authenticating and setting up the
	folder hierarchy. Fixes #328507.

2006-01-30  Sushma Rai  <rsushma@novell.com>

	* configure.in : Bumped the version to 2.5.9.0
	* NEWS : Updated

2006-01-23  Sushma Rai  <rsushma@novell.com>

	* addressbook/e-book-backend-exchange.c 
	(e_book_backend_exchange_start_book_view): Return OfflineUnavailable
	status in the offline mode if the book is not marked for offline.
	Fixes #327306, #327318.
	(e_book_backend_exchange_authenticate_user): In online mode, set the
	set the mode on ExchangeAccount before connecting. Fixes the issue of
	not able to access address book on switching to online mode.

2006-01-23  Sushma Rai  <rsushma@novell.com>

	* addressbook/e-book-backend-gal.c (load_source): Return 
	OfflineUnavailable error code if the mode is offline and GAL is not 
	marked for offline usage. Fixes #327312.

2006-01-23  Sushma Rai  <rsushma@novell.com>

	* storage/exchange-component.c (impl_setLineStatus): Using proper
	status variable, GNOME_Evolution_ShellState, and Setting the offline
	status based on that.
	See #327343.

2006-01-18  Sushma Rai  <rsushma@novell.com>

	* configure.in : Bumped the version to 2.5.5.1
	* NEWS : Updated

2006-01-18  Chenthill Palanisamy  <pchenthill@novell.com>

	Fixes #327305
	* calendar/e-cal-backend-exchange.c: 
	(load_cache): Check if the file is present, if not, just
	return	sucess. The file will be created while saving the 
	items into the cache.

2006-01-18  Sushma Rai  <rsushma@novell.com>

	* calendar/e-cal-backend-exchange.c (open_calendar): Calling 
	exchange_account_connect(), if account for given URI is not 
	found. Fixes #327305. 

2006-01-18  Tor Lillqvist  <tml@novell.com>

	* evolution-exchange-zip.in: New file, used to build a zipfile
	Win32 binary distribution of evolution-exchange for developers and
	beta testers.

	* configure.in
	* Makefile.am: Expand and distribute it.
	
	* configure.in: Add evolution-plugin to the EXCHANGE_STORAGE
	dependency list as it uses functions from libeutil, which is in
	evolution-plugin's .pc file.
	
2006-01-18  Sushma Rai  <rsushma@novell.com>

	* calendar/e-cal-backend-exchange.c (open_calendar): Trying to get the
	ExchangeAccount for the URI, and if the account is not found calling
	exchange_account_connect. Folder list does not get populated, when 
	account is obtained using NULL uri, and hence loading calendar fails.
	Fixes #327305.

2006-01-18  Sushma Rai  <rsushma@novell.com>

	* storage/GNOME_Evolution_Exchange_Storage.server.in.in: Using API 
	version for DataServer BookFactory and CalFactory. See #323115.

2006-01-16  Sushma Rai  <rsushma@novell.com>

	* configure.in : Bumped the version to 2.5.5
	* NEWS : Updated

2006-01-14  Sushma Rai  <rsushma@novell.com>

	* configure.in: Define API_VERSION.

	* storage/Makefile.am: Replace @API_VERSION@

	* storage/exchange-component.h: using API_VERSION for Exchange 
	Connector book and calendar factories. 

	* storage/GNOME_Evolution_Exchange_Storage.server.in.in: Similar.
	See #323115.

2006-01-10  Simon Zheng  <simon.zheng@sun.com>

	* camel/camel-exchange-folder.c (camel_exchange_folder_construct):
	* storage/exchange-migrate.c (cp_r):
	(migrate_contacts):
	(exchange_migrate):
	Delete make_dir() and use the e_util_mkdir_hier() instead of it.
	
	* mail/mail-utils.c (mail_util_extract_transport_headers): Use
	e_util_strstrcase() instead of e_strstrcasea().

2006-01-06  Simon Zheng <simon.zheng@sun.com>

	* storage/exchange-autoconfig-wizard.c:
	* storage/exchange-config-listener.h:
	* storage/exchange-delegates-control.h:
	use libedataserver/e-account-list.h instead of e-util/e-account-list.h.
	use libedataserver/e-account.h instead of e-util/e-account.h.

2006-01-06  Sushma Rai  <rsushma@novell.com>

	* camel/camel-exchange-folder.c (exchange_expunge): Expunge deleted
	items from all folders. Fixes #273546.

2006-01-06  Sushma Rai  <rsushma@novell.com>

	* calendar/e-cal-backend-exchange.c (load_cache): Returning error
	code on any failures. Return if fail to read the cache file
	corresponding to the folder.
	(open_calendar): Return the status of load_cache instead of success
	always.
	(set_mode): Set the mode, writable status and notify mode always.
	Fixes.
	In case of local mode, set the account status to offline and call
	exchange_account_connect, so that folder hierarchy is set and loading
	the cache file succeeds.
	Fixes #325717, #325726.

2006-01-04  Chenthill Palanisamy  <pchenthill@novell.com>

	Fixes two crashes and appearance of recurring exception events.
	* calendar/e-cal-backend-exchange-calendar.c (get_changed_events):
	Get the changed events for instances and instances with no master 
	object.
	(modify_object_with_href): If modifying a master object of recurrence get
	the object string from updated_comp.
	(receive_objects): check if the rid is present before converting to string.
	* calendar/e-cal-backend-exchange.c: (get_object): Check if it has
	a master component before adding it in the vcalendar.

2006-01-02  Sushma Rai  <rsushma@novell.com>

	* configure.in : Bumped the version to 2.5.4
	* NEWS : Updated

2005-12-29  Abel Cheung  <maddog@linuxhall.org>

	* configure.in: Added "ca" "da" "mk" "ru" "vi" "zh_HK" to ALL_LINGUAS.

2005-12-23  Simon Zheng  <simon.zheng@sun.com>

	* storage/exchange-component.c (impl_createView): changed
	from createControls for new shell apis.
 
2005-12-21  Sushma Rai  <rsushma@novell.com>

	* addressbook/e-book-backend-exchange.c 
	(e_book_backend_exchange_start_book_view): Added the check for NULL 
	context.
	(e_book_backend_exchange_authenticate_user): Corrected the typo, an if
	condition was terminated by ";".
	(e_book_backend_exchange_load_source): Initializing the writable state
	and notifying the connection status.

2005-12-17  Sushma Rai  <rsushma@novell.com>

	* storage/main.c (setup_calendar_factory): Set the offline/online mode
	of the calendar as it impl_setLineStatus() does not get invoked when
	started in offline mode. This fixes the problem of not loading 
	addressbook contents when started in offline mode.
	(setup_addressbook_factory): Similar.

	* calendar/e-cal-backend-exchange.c (set_mode): Return if failed to 
	retrieve the folder, and set the mode only if successful, in the
	offline mode.
	Fixes #315105.

	* mail/mail-stub-exchange.c (stub_connect): Set the ExchangeAccount
	mode to offline/online based on exchange component mode, as 
	impl_setLineStatus() does not get invoked when started in offline mode.
	This fixes the problem of not loading the folder, after account 
	creation, even if the user is authenticated.
	Fixes #315605, #315333.

2005-12-12  Sushma Rai  <rsushma@novell.com>

	* configure.in : Bumped the version to 2.5.3
	* NEWS : Updated

2005-12-12  Irene Huang <Irene.Huang@sun.com>

	reviewed by Veerapuram Varadhan <vvaradhan@novell.com>
	
	* addressbook/e-book-backend-exchange.c: Change #include
	<e-util/e-uid.h> to #include <libedataserver/e-uid.h>.

2005-12-12  Sushma Rai  <rsushma@novell.com>

	* calendar/e-cal-backend-exchange.c (set_mode): Return if failed to 
	retrieve the folder, and set the mode only if successful.

2005-12-10  Sushma Rai  <rsushma@novell.com>

	* calendar/e-cal-backend-exchange.c (open_calendar): Return
	authentication failure error code if exchange_account_connect() fails.

2005-12-07  Tor Lillqvist  <tml@novell.com>

	* lib
	* xntlm: Remove these directories from CVS. (Not being used, not
	mentioned in Makefile.am. The code from these directories has been
	moved to e-d-s some time ago.)

	* shell: Remove this directory too. It was compiled, and the
	resulting libfoldertree.la was being linked to
	storage/evolution-exchange-storage. But in fact, the code was
	duplicated in e-d-s's libexchange-storage-1.2.la. This caused a
	hard-to-find problem on Win32, but happened not to have any ill
	effects on Linux. Sushma says it's OK to remove it.

	* Makefile.am: Drop shell from SUBDIRS.

	* configure.in: Drop shell/Makefile from here.

	* storage/Makefile.am: Drop shell/libfoldertree.la from
	evolution_exchange_storage_LDADD.

	* addressbook/Makefile.am
	* calendar/Makefile.am
	* mail/Makefile.am
	* storage/Makefile.am: Remove references to the shell directory
	from CFLAGS, too.
	
	* storage/e-folder-exchange.c
	* storage/e-folder-exchange.h
	* storage/exchange-account.c
	* storage/exchange-folder-size.c
	* storage/exchange-folder-size.h
	* storage/exchange-hierarchy.c
	* storage/exchange-hierarchy.h
	* storage/exchange-hierarchy-favorites.c
	* storage/exchange-hierarchy-favorites.h
	* storage/exchange-hierarchy-gal.c
	* storage/exchange-hierarchy-gal.h
	* storage/exchange-hierarchy-somedav.c
	* storage/exchange-hierarchy-somedav.h
	* storage/exchange-hierarchy-webdav.c
	* storage/exchange-hierarchy-webdav.h
	* storage/exchange-types.h
	* storage/exchange-oof.c
	* storage/exchange-oof.h: Remove unused files (have been moved to
	e-d-s).

	* storage/exchange-hierarchy-foreign.c: This was being compiled
	into the executables here, but it has also actually moved to
	e-d-s. Having it duplicated here caused weird problems on Win32,
	even if happened to work on Linux (due to differences in how
	dynamic linking works). So remove.

	* storage/exchange-hierarchy-foreign.h: Ditto, has moved in e-d-s,
	remove.

	* Makefile.am: Remove from here, too.
	
2005-11-23  Veerapuram Varadhan <vvaradhan@novell.com>

	* calendar/e-cal-backend-exchange.c: (match_object_sexp)
	(check_change_type): Calendar components that are just instances
	and without master object, don't have corresponding
	icalcomponent. Check for the existence of icalcomponent before
	adding them to the change list.  Also, process the instances and
	return them.
	(match_recurrence_sexp): Local function added for handling 
	recurrences during a query.
	(get_changes): Use e_xmlhash_foreach_key_remove() instead of 
	e_xmlhash_foreach_key ().
	(e_cal_backend_exchange_compute_changes_foreach_key): Change
	return type to gboolean and don't remove elements from hash as we
	are in "_foreach_" callback.
	(set_default_timezone): Just set the timezone without doing any
	existence check.
	** Fixes #316315 + other recurrence related issues.
	
2005-11-28  Sarfraaz Ahmed  <asarfraaz@novell.com>

	* calendar/e-cal-backend-exchange-calendar.c (modify_object_with_href):
	Fetch the recurring instance from the cache.
	(receive_objects) : Remove the instance from the master object in the
	cache.

	* calendar/e-cal-backend-exchange.c (e_cal_backend_exchange_add_object):
	Remove the instance from the master object while adding the detatched
	instance.
	(discard_detached_instance): Similar.
	(add_instances_to_vcal) : Added new. Adds the detatched instances to
	the top level vcalendar object.
	(get_object) : Modified to return the detatched instance when the rid
	is requested.
	Fixes #235580.

2005-11-24  Tor Lillqvist  <tml@novell.com>

	* configure.in: Check for Win32, set NO_UNDEFINED and
	SOCKET_LIBS. Invoke EVO_PTHREAD_CHECK. Don't check for LDAP
	support on Win32, it is always present.

	* calendar/e-cal-backend-exchange.c: Include e-time-utils.h from
	libedataserver instead of using evolution's copy which is going
	away.

2005-11-24  Sushma Rai  <rsushma@novell.com>

	* storage/Makefile.am: Removed unused exchange-oof.[ch]

	* storage/exchange-component.c (idle_do_interactive)
	  (exchange_component_is_interactive): Removed. 
	  (impl_interactive): Having just the stub.
	  (config_listener_account_created): Not calling oof_init here also.
	  ExchangeComponentPrivate: Removed unused variable xid.
	 
	* storage/main.c: Not including exchange-oof.h.  	

2005-11-14  Sarfraaz Ahmed <asarfraaz@novell.com>

	* configure.in : Bumped the version to 2.5.2
	* NEWS : Updated

2005-10-28  Erdal Ronahi  <erdal.ronahi@gmail.com>

	* configure.in: Added ku (Kurdish) to ALL_LINGUAS

2005-10-27  Sarfraaz Ahmed <asarfraaz@novell.com>
	
	* configure.in : Added a new EDS_BASE_VERSION variable
	* storage/GNOME_Evolution_Exchange_Storage.server.in.in : Use 
	EDS_BASE_VERSION for the calendar and addressbook factory interfaces
	* storage/Makefile.am : Add a rule to substitute it in the server file.

2005-10-27  Sarfraaz Ahmed <asarfraaz@novell.com>

	* configure.in : Use 2.6 as the evolution api version. Fixes a build 
	break.

2005-10-24  Sarfraaz Ahmed <asarfraaz@novell.com>

	* configure.in : Bumped the version to 2.5.1
	* NEWS : Updated

2005-10-21  Sarfraaz Ahmed <asarfraaz@novell.com>

	* addressbook/e-book-backend-exchange.c
	(e_book_backend_exchange_remove) : Check for the proper return values
	from the server and return the appropriate status back.
	* calendar/e-cal-backend-exchange.c (remove_calendar) : Similar
	* mail/mail-stub-exchange.c (delete_folder) : Similar
	This fixes #312848.

2005-10-19  Theppitak Karoonboonyanan  <thep@linux.thai.net>

	* configure.in:
	Added 'th' (Thai) to ALL_LINGUAS.

2005-10-11  Sarfraaz Ahmed <asarfraaz@novell.com>

	* storage/exchange-migrate.c : Small typo. Fixes #302378

2005-09-28  Sarfraaz Ahmed <asarfraaz@novell.com>

	* camel/camel-exchange-store.c (make_folder_info): Strip the semicolon
	from the uri. And also create the folder path properly.
	* storage/exchange-component.c (impl_upgradeFromVersion)
	(config_listener_account_created): Create the account_filename
	separately now.
	(exchange_component_get_account_for_uri): Synchronise the rescan tree
	with a lock
	* storage/exchange-config-listener.c (update_foreign_uri)
	(migrate_foreign_hierarchy)(ex_set_relative_uri) : Added new
	(migrate_account_esource) : Update the new relative uri.
	(exchange_config_listener_migrate_esources) : Take care of foreign uri
	as well.

2005-09-28  Arunprakash  <arunp@novell.com>

	* mail/mail-stub-exchange.c (append_message) : Unread flag has to be
	explicitly set for unread messages. Exchange server assumes read as
	default for appended messages.
	** Fixes #239641.

2005-09-21  Sarfraaz Ahmed <asarfraaz@novell.com>

	* calendar/e-cal-backend-exchange-calendar.c (create_object): Fix a
	memory leak. Fixes #314019

2005-09-16  Irene Huang <Irene.Huang@sun.com>

	* camel/Makefile.am: Removed KRB5_LIBS from libcamelexchange_la_LIBADD.
	* configure.in: Removed the Kerberos section for KRB5 configurations.
	* docs/reference/Makefile.am: Removed KRB5_LIBS from GTKDOC_LIBS.
	* storage/Makefile.am: Remove KRB5_CFLAGS from -DG_LOG_DOMAIN, KRB5_LIBS	from evolution_exchange_storage_LDADD, ximian_connector_setup_LDADD and
	migr_test_LDADD.

2005-09-15  Arunprakash  <arunp@novell.com>

	* camel/camel-exchange-folder.c (exchange_expunge) : Checks for
	offline mode and returns an error.
	** Fixes #272987.

2005-09-13  Roozbeh Pournader  <roozbeh@farsiweb.info>

	* configure.in: Added 'fa' (Persian) to ALL_LINGUAS.

2005-09-12  Shakti Sen <shprasad@novell.com>
 
	*addressbook/e-book-backend-exchange.c 
	(http_status_to_pas): Showing the appropriate 
	error message by returning the appropriate status.

	Fixes bug #241499.

2005-09-08  Arunprakash  <arunp@novell.com>

	* camel/camel-exchange-store.c (exchange_get_folder) : Reverted the
	changes made for #314573. Now remove the folder from the hash table
	if the folder construction fails, as the inserted is needed for
	processing the notifications (includes new mail) from the mail stub.
	** Fixes #315342.
	
2005-08-30  Arunprakash  <arunp@novell.com>

	* camel/camel-exchange-store.c (exchange_get_folder) : Insert into the
	hash table only when the folder construction succeeds.
	* mail/mail-stub-exchange.c (get_folder_online) : Changed the return
	type to indicate failure.
	(get_folder) : Returns on failure of online code.
	** Fixes #314573.
	
2005-08-28  Sarfraaz Ahmed <asarfraaz@novell.com>

	* configure.in : Updated the version number to 2.4.0

2005-08-28  Praveen Kumar  <kpraveen@novell.com>

	* camel/camel-exchange-provider.c : Reverting the change made in
	revision 1.25 as that fix is broken by some other change in 
	Camel. Adding the hide host mask again.
	
2005-08-27  Sarfraaz Ahmed <asarfraaz@novell.com>

	* AUTHORS : Updated the credits
	* calendar/e-cal-backend-exchange.c (init) : Dont init the mode here.

2005-08-26  Arunprakash  <arunp@novell.com>

	* addressbook/e-book-backend-exchange.c (e_book_backend_exchange_init):
	Set the default mode to local.
	* addressbook/e-book-backend-gal.c (set_mode) : Removed exchange
	account set offline and connect calls, as they should be called
	by appropriate listeners.
	* calendar/e-cal-backend-exchange.c (set_mode) : Similar.
	(init) : Set the default mode to local.
	* camel/camel-exchange-store.c (camel_exchange_forget_password) : Newly
	added to forget the password in case of wrong password.
	(exchange_connect) : Updated to properly ask and forget password in
	needed cases.
	(init) : Added a new connect_lock mutex for offline mode.
	* mail/mail-stub-exchange.c (get_folder_online) : Flushes the status
	channel if called in background.
	(stub_connect) : Updated to return failure only when connection fails.
	Removed the linestatus signal handler as it is done while connecting.
	Also to update each folder's data in online.
	* camel/camel-exchange-journal.c (find_real_source_for_message) : Newly
	added to enable second level offline operation.
	(camel_exchange_journal_transfer) : Uses the new function to create the
	right journal entry.
	
2005-08-26  Dan Damian  <dand@gnome.ro>

	* configure.in: Added "ro" to ALL_LINGUAS.

2005-08-25  Marcel Telka  <marcel@telka.sk>

	* configure.in (ALL_LINGUAS): Added sk.

2005-08-23  Arunprakash  <arunp@novell.com>

	* calendar/e-cal-backend-exchange-calendar.c (book_resource) :
	Modified to delete the calendar item for cancelling meetings
	in the resource's calendar. Also sets the participation status
	to accepted before creating the calendar item.
	(send_objects) : Modified to send the partstat parameter of the
	resource to book_resource for setting the status.
	** Fixes #247015.

2005-08-23  Shakti Sen <shprasad@novell.com>

	* addressbook/e-book-backend-exchange.c
	(e_book_backend_exchange_start_book_view): When user starts
	evolution in offline mode and switch back to online mode and tries
	to create a contact, the contact editor hangs.
	Basically it fixes this issue.

	Partially fixes bug #274262.

2005-08-22  Sarfraaz Ahmed <asarfraaz@novell.com>

	* configure.in : Bumped the version to 2.3.8
	* NEWS : updated
	* calendar/e-cal-backend-exchange-tasks.c : Fixed a warning

2005-08-22  Sarfraaz Ahmed <asarfraaz@novell.com>

	* storage/exchange-component.h : Include the proper header files to
	fix a build error.
	* storage/exchange-config-listener.c (standard_folder) : Removed.

2005-08-22  Sarfraaz Ahmed <asarfraaz@novell.com>

	* addressbook/e-book-backend-exchange.c 
	(e_book_backend_exchange_authenticate_user) : Actually connect to the
	server here.
	(e_book_backend_exchange_get_supported_auth_methods) : Added new
	(e_book_backend_exchange_load_source) : This only loads the local 
	cache now.
	(e_book_backend_exchange_set_mode) : If context is not present, reponds
	to the backend as authentication required.
	* calendar/e-cal-backend-exchange.c (open_calendar) : Authenticate to
	the server if connection is not present. Uses a mutex lock for
	serializing the access across all calendar clients.
	(set_mode) : Checks the context and updates the backend for prompting
	the password. Used another mutex for serialising the clients.
	* camel/camel-exchange-provider.c : Added a new hidden conf key for
	auth-domain.
	* camel/camel-exchange-store.c (camel_exchange_get_password) : New
	(exchange_connect) : Sends the password to the mail backend now.
	* mail/mail-stub-exchange.c (stub_connect) : Now gets the password from
	camel and authenticates to the server.
	* mail/mail-stub.c : Handles the new stub connect interface.
	* mail/mail-stub.h : Similar
	* storage/exchange-component.c (ex_migrate_esources) : New
	(new_connection) : Just create the mail stub. The server connection gets
	postponed to the stub_connect interface.
	* storage/exchange-config-listener.c (migrate_account_esource) : New
	(migrate_esources) : New
	(account_added) : Dont connect here.
	* storage/exchange-config-listener.h : Similar.
	Fixes #309420

2005-08-19  Arunprakash  <arunp@novell.com>

	* mail/mail-stub-exchange.c : Modified to make use of global
	exchange component for linestatus change notification.
	(linestatus_listener) : It now disconnects the signal handler
	when it is no longer needed.
	* storage/Makefile.am : Removed offline listener.
	* storage/exchange-component.c (impl_setLineStatus) : Newly added
	to implement the new offline interface.
	(default_linestatus_notify_handler) : Will call complete for offline
	listener when everything is done.
	(exchange_component_set_factories) : Newly added to set the cal and
	addressbook factories.

2005-08-19  Arunprakash  <arunp@novell.com>

	* camel/camel-exchange-store.c (camel_exchange_store_connected) :
	Newly added to ensure that we are connected when the camel session
	is too online.
	* camel/camel-exchange-folder.c : Updated to make use of the new 
	function camel_exchange_store_connected.
	(camel_exchange_folder_update_message_flags_ex) : Newly added to
	selectively set and unset message flags.
	* camel/camel-exchange-store.c : Updated to use 
	camel_exchange_store_connected.
	(exchange_folder_subscribed) (exchange_subscribe_folder)
	(exchange_unsubscribe_folder) : Changed the type of data for folder
	name from string to folder type while sending to backend. Because the
	other side expects folder type.
	(stub_notification) : Modified to include new retval for setting and
	unsetting specific flags.
	* mail/mail-stub-exchange.c (folder_from_name) : Try using create
	permission for shared folders.
	(get_folder_online) : Newly added by removing the online code from
	get_folder.
	(get_folder) : Updated to use get_folder_online. Also set the readonly
	flag only if it fails for modify and create permissions.
	(expunge_uids) : Report the error in case of failure.
	(process_flags) : Do an expunge for mails in non-personal folders.
	If fails, undo the delete.
	(get_folder_info) : Ensure the top is exactly equal to the path. Also
	added some extra checks.
	(folder_update_linestatus) : Updated to use get_folder_online.
	Fixes #313637, #272751, #310726, #310437, #313797, #313071.

2005-08-18  Praveen Kumar  <kpraveen@novell.com>

	** Fixes bug 273470
	
	* addressbook/e-book-backend-exchange.c
	(e_book_backend_exchange_init): Added creation mutex initialization
	(e_book_backend_exchange_dispose): Added creation mutex freeing
	(e_book_backend_exchange_create_contact): Providing mutex for this
	function in critical path so that it works seemless when invoked 
	as a thread.

2005-08-19  Sarfraaz Ahmed <asarfraaz@novell.com>

	* mail/mail-stub-exchange.c : Fix the name collision for global
	variable name. The same name was being used by GConf and us.
	Fixes #313076

2005-08-17  Not Zed  <NotZed@Ximian.com>

	** See bug #312668.

	* storage/exchange-offline-handler.[ch]: removed, not used anyway.
	Instead some rubbish listning to gconf keys is used, groan.

2005-08-17  Praveen Kumar  <kpraveen@novell.com>

	* addressbook/e-book-backend-exchange.c
	(proppatch_categories): Added a check to see if the categories list is 
	null before adding a property for categories. This fixes the silent 
	failure of copying contacts without categories.

2005-08-17  Praveen Kumar  <kpraveen@novell.com>

	* camel/camel-exchange-provider.c: Removed the mask to hide the
	host name. Fixes the bug 272882.
	
2005-08-17  Arunprakash  <arunp@novell.com>

	* calendar/e-cal-backend-exchange-calendar.c (find_attendee_prop)
	(check_owner_partstatus_for_declined) : Newly added to check
	the partstatus of the calendar item owner.
	(remove_object) : Rearranged the code to enable the deletion of
	non-recurring items also.
	(receive_objects) : Included checks to remove the calendar item
	if the request is declined later. Also not to create the item if
	the request is declined.
	* calendar/e-cal-backend-exchange.c 
	(e_cal_backend_exchange_get_owner_email) : Added newly to get the
	email address of the calendar's owner.
	Fixes #310478, #310445.
	
2005-08-17  Sarfraaz Ahmed <asarfraaz@novell.com>

	* addressbook/e-book-backend-exchange.c :
	* addressbook/e-book-backend-gal.c : Fixed some typos for build break.

2005-08-17  Sushma Rai <rsushma@novell.com>

	* addressbook/e-book-backend-exchange.c (build_cache)(update_cache):
	Freezing the cache update, and writing to the disk at the end.
	Fixes the problem of frequent disk access, and high CPU utilization for 
	huge caches.

	* addressbook/e-book-backend-gal.c (generate_cache_handler): Similar.

2005-08-12  Praveen Kumar  <kpraveen@novell.com>

	* calendar/e-cal-backend-exchange.c:
	(open_calendar): Remove the warning dialog as all UI stuff will
	be handled by the plugin. Fix for the bug 273272.
	
2005-08-11  Praveen Kumar  <kpraveen@novell.com>

	* storage/exchange-config-listener.c
	(exchange_camel_urls_is_equal): Added new
	(account_added): Removed the default folder settings as it will be 
	handled by the plugin.
	(account_changed): Removed the dialog popups as all dialogs are now
	from the plugin
	(account_removed): Removed the ESource deletion and the dialog popup
	as it will be handled by the plugin
	
2005-08-16  Arunprakash  <arunp@novell.com>

	* calendar/e-cal-backend-exchange-tasks.c (get_changed_tasks) :
	Converted the time read from the server to local zone before
	returning. Otherwise it was floating time. Fixes #310449.

2005-08-16  Shakti Sen <shprasad@novell.com>

	* addressbook/e-book-backend-exchange.c (proppatch_categories)
	(populate_categories): Added support for categories.

	Fixes bug #221030.

2005-08-16  Shakti Sen <shprasad@novell.com>

	* addressbook/e-book-backend-exchange.c:
	Added new functions proppatch_im(), populate_im().
	In brief, contact editor (exchange) supports IM field.

	Fixes bug #257802.

2005-08-08  Sarfraaz Ahmed <asarfraaz@novell.com>

	* configure.in : Bumped the version to 2.3.7
	* NEWS : Updated
	Updated the docs as well.

2005-08-05  Arunprakash <arunp@novell.com>

	* camel/camel-exchange-store.c (exchange_get_folder_info) : Reverted
	the changes for constructing the prefix, as the bug was somewhere else
	and got fixed. These changes are wrong and worked for certain cases.
	(stub_notification) : Added code to remove the folder entries from the
	folders hash in case of rename and delete operations. Otherwise they
	represent non-existent folders.
	* mail/mail-stub-exchange.c (init) : Changed to construct the hash 
	table with callback for destroying the values.`
	(get_folder_info) : Cleaned up logic to return the right list of 
	folders for the given store_flags, and setting the folder flags for
	each hierarchy.
	(delete_folder) (rename_folder) : Added code to update the 
	folders_by_name hash to have the valid values. The deleted and renamed
	folder's entries need to be cleaned up.
	(unsubscribe_folder) (is_subscribed_folder) : Modified to make them
	suitable for all personal, favorite and public hierarchies, as they
	are used by all of these hierarchies.
	Fixes #310726, #309439.
	
2005-08-02  Sarfraaz Ahmed <asarfraaz@novell.com>

	* mail/mail-stub-exchange.c (get_folder_info) : Fetch only mail type
	of folders for the mail component. Also cleaned up the logic for 
	identifying public and favorite folders. We should now be setting the 
	folder as inbox based on its uri, since a rescan on the account is 
	always changing the pointers.
	(unsubscribe_folder) : Change the path for the public folder to a 
	favorite folder manually in the backend, since the UI can only support
	a list of public folders.
	(is_subscribed_folder) : Similar
	Fixes #311152

2005-08-01  Arunprakash <arunp@novell.com>

	* mail/mail-stub-exchange.c (set_important_flag) : Newly added to set
	the important flag of a message on the server.
	(process_flags) : Added code to set the important flag on user request.
	* mail/mail-utils.c (mail_util_props_to_camel_flags) : Added code to
	include important flag also in the conversion. Fixes #310718.
	
2005-07-30  Arunprakash <arunp@novell.com>

	* camel/camel-exchange-summary.c (check_for_trash) : Newly added to
	check a folder for trash.
	(expunge_mail) : Sends an expunge command with a single uid of the
	mail to the backend.
	(info_set_flags) : Modified to invoke expunge for mails being
	deleted in trash folder.
	
2005-07-29  Arunprakash <arunp@novell.com>

	* camel/camel-exchange-store.c (exchange_get_folder_info) : Fixed the
	construction of namespace for building the folder hierarchy. Fixes the
	bug #310711.
	(stub_notification) : Changed the events to be emitted to update the
	folder changes. Fixes #311866.
	* mail/mail-stub-exchange.c (subscribe_folder) : Added check for non-
	public hierarchy's folders.
	(unsubscribe_folder) : Added check for non-favorite hierarchy's folders.
	
2005-07-28  Sarfraaz Ahmed <asarfraaz@novell.com>

	* calendar/e-cal-backend-exchange.c 
	(e_cal_backend_exchange_compute_changes_foreach_key) : Fix the callback 
	prototype. Fixes #273975. 
	Patch submitted by prothonotar@tarnation.dyndns.org

2005-07-25  Sarfraaz Ahmed <asarfraaz@novell.com>

	* configure.in : Bumped the version to 2.3.6
	* NEWS : Updated the file.
	* addressbook/e-book-backend-exchange.c :
	* camel/camel-exchange-folder.c :
	* camel/camel-exchange-store.c :
	* mail/mail-stub-exchange.c :
	* mail/mail-stub.c :
	* storage/exchange-component.c : 
	* storage/exchange-config-listener.c : Removed some unwanted dead code
	and also fixed some warnings for all files.

2005-07-25  Sarfraaz Ahmed <asarfraaz@novell.com>

	* storage/exchange-component.c (impl_createControls) : Reimplemented.
	But we return NULL bonobo interfaces for now, since we dont need a 
	separate Exchange component anymore.
	* storage/GNOME_Evolution_Exchange_Storage.server.in.in : Use the 
	Evolution/Component bonobo interface for exchange process.

2005-07-25  Arunprakash <arunp@novell.com>

	* camel/camel-exchange-folder.c (refresh_info) : Changed to
	replay the journal and send refresh command only when in 
	online mode.
	(transfer_messages_to) : Changed to make use of the "transfer"
	journal entry instead of "append" journal entry.
	* camel/camel-exchange-journal.c (exchange_entry_free)
	(exchange_entry_load) (exchange_entry_write)
	(exchange_entry_play) : Updated for
	the two new journal entry types - "transfer" and "delete".
	(exchange_entry_play_delete) (exchange_entry_play_transfer) : Added
	newly for the two new journal entries.
	(exchange_entry_play_append) : Fixed the copying of the fake message
	info to the original one. Used camel_exchange_folder_remove_message
	instead of removing internally.
	(camel_exchange_journal_transfer) (camel_exchange_journal_delete) :
	Added newly for creating the journal entries.
	* camel/camel-exchange-journal.h : Added two new journal entries and
	the methods for creating them.
	* camel/camel-exchange-store.c (stub_notification) : Skip the
	remove message if the message is already removed in offline.
	* camel/camel-exchange-summary.c (info_set_flags) : Added offline
	support by creating the journal entry.
	* mail/mail-stub-exchange.c (linestatus_listener) : Added newly
	to initialize certain values for the backend in online mode.
	(folder_update_linestatus) : Newly added, to update the flags
	for each folder in online mode.
	(mail_stub_exchange_new) : Modified to hold a reference for the
	exchange stub and connect to the "linestatus-changed" signal.
	* mail/mail-stub.c (connection_handler) : Fixed the call to
	unref without ref for the exchange stub.
	* shell/e-shell-marshal.list : Added an entry for the new
	"linestatus-changed" signal.
	* storage/exchange-component.c (exchange_component_get_offline_listener) :
	Added newly, to return the offline listener.
	* storage/exchange-offline-listener.c (online_status_changed) :
	Modified to emit the new "linestatus-changed" signal.
	(exchange_offline_listener_class_init) : Modified for
	registering the new signal "linestatus-changed".

2005-07-22  Ignacio Casal Quinteiro  <nacho.resa@gmail.com>

	* configure.in: Added 'gl' to ALL_LINGUAS.

2005-07-22  Praveen Kumar <kpraveen@novell.com>

	* storage/exchange-config-listener.c : Removed functions
	add_folder_esource and remove_folder_esource
	
2005-07-21  Sarfraaz Ahmed <asarfraaz@novell.com>

	* addressbook/e-book-backend-exchange.c 
	(e_book_backend_exchange_remove): Implemented
	* calendar/e-cal-backend-exchange.c (remove_calendar): Implemented
	* storage/exchange-component.c (exchange_component_get_account_for_uri):
	Do rescan once, if you cant get a folder at the first attempt. This is
	for syncing any new folder creation that happened in the plugin.

2005-07-19  Sarfraaz Ahmed <asarfraaz@novell.com>

	* calendar/e-cal-backend-exchange.c (get_static_capabilities): Removed 
	the static capabilities for send options. Fixes #310757

2005-07-15  Sarfraaz Ahmed <asarfraaz@novell.com>

	* calendar/e-cal-backend-exchange-tasks.c (remove_task) : Access href
	of the cached object only if it exists. Fixes #310439

2005-07-13  Sarfraaz Ahmed <asarfraaz@novell.com>

	* storage/exchange-account.h : No longer is needed here. Moved to e-d-s
	Also updated the docs after the new tarball release.

2005-07-11  Sarfraaz Ahmed <asarfraaz@novell.com>

	* storage/exchange-component.c : Removed the references to xc-backend
	* configure.in : Bumped the version to 2.3.5
	* NEWS : Updated

2005-07-11  Sarfraaz Ahmed <asarfraaz@novell.com>

	* addressbook/Makefile.am : Include the e-d-s path first
	* addressbook/e-book-backend-gal.c : Use the new 
	exchange_account_connect method.
	* storage/exchange-config-listener.c : Similar
	* storage/exchange-storage.c : Similar
	* storage/GNOME_Evolution_Exchange_Storage.server.in.in : Dont show
	the exchange button now.
	* storage/Makefile.am : Remove xc-backend-view.[ch] and xc-commands.[ch]
	* storage/exchange-component.c : Remove the implementation for
	createControls method and also use the new exchange_account_connect
	method

2005-07-11  Sarfraaz Ahmed <asarfraaz@novell.com>

	Updated the sgml files.

2005-07-01  Sarfraaz Ahmed <asarfraaz@novell.com>

	* configure.in : Bumped the version to 2.3.4
	* NEWS : Updated

2005-07-01  Sarfraaz Ahmed <asarfraaz@novell.com>

	* camel/camel-exchange-provider.c : Remove the validate calls which
	are no longer used now from the plugin.
	* storage/xc-commands.c : Removed the dead code. All this has been 
	moved to the plugins.
	* docs/reference/Makefile.am : Dont use the libexchange.la from local
	area.
	* docs/reference/ximian-connector.types : Removed references to e2k-sid
	and e2k-user-dialog

2005-07-01  Chenthill Palanisamy <pchenthill@novell.com>
		
	* camel/camel-exchange-provider.c 
	(exchange_validate_user_cb): added the missing
	parameter result for the function e2k_validdate_user
	to avoid the build breaking.
	
2005-07-01  Sarfraaz Ahmed <asarfraaz@novell.com>

	* storage/exchange-config-listener.c (account_added) : Dont add the 
	esources here. This is done in the plugin now.

2005-06-28  Sarfraaz Ahmed <asarfraaz@novell.com>

	* camel/camel-exchange-store.c (exchange_folder_subscribed)
	(exchange_subscribe_folder) (exchange_unsubscribe_folder) : Added new
	(get_folder_info) : Return a list of public folders if a list of
	unsubscribed folders is asked.
	* camel/camel-stub-constants.h : Added new enums for handling
	subscriptions.
	* mail/mail-stub-exchange.c (get_folder_info) : This now expects all
	the store flags. Return the public folders when SUBSCRIBED flag is not
	passed.
	(subscribe_folder)(unsubscribe_folder)(is_subscribed_folder): Added new.	* mail/mail-stub.c : Added new cases for handling subscriptions.
	* mail/mail-stub.h : Similar

2005-06-23  Kaushal Kumar  <kakumar@novell.com>

	* configure.in: Added libgnomeprint in required packages list for 
	gal references from evolution.

	Updated the include paths to refer gal related headers from evolution.

2005-06-22  Kaushal Kumar  <kakumar@novell.com>

	* storage/exchange-types.h: Removed re-declarations of 
	ExchangeHierarchyForeign, ExchangeHierarchyForeignPrivate and 
	ExchangeHierarchyForeignClass. Fixed the build.

2005-06-15  Sarfraaz Ahmed <asarfraaz@novell.com>

	* configure.in : Remove xntlm/Makefile and lib/Makefile from AC_OUTPUT
	* camel/camel-exchange-provider.c : Fix the include paths
	* storage/exchange-config-listener.c : Fixed some warnings
	* storage/exchange-hierarchy-foreign.c :Fixed the include paths
	* storage/exchange-hierarchy-foreign.h : Moved the typedef here
	* storage/exchange-hierarchy-somedav.c : Fixed the include paths
	* storage/exchange-hierarchy-somedav.h : Fixed the include paths
	* storage/xc-commands.c : Disable menu items and fix include paths.

2005-06-14  Sarfraaz Ahmed <asarfraaz@novell.com>

	* addressbook/e-book-backend-exchange.c
	* calendar/e-cal-backend-exchange-calendar.c
	* calendar/e-cal-backend-exchange-tasks.c
	* calendar/e-cal-backend-exchange.c
	* calendar/e-cal-backend-exchange.h
	* calendar/e2k-cal-query.c
	* calendar/e2k-cal-query.h
	* calendar/e2k-cal-utils.c
	* calendar/e2k-cal-utils.h
	* mail/Makefile.am
	* mail/mail-stub-exchange.c
	* mail/mail-stub-exchange.h
	* mail/mail-stub-listener.c
	* mail/mail-stub.c
	* mail/mail-utils.c
	* storage/exchange-autoconfig-wizard.c
	* storage/exchange-autoconfig-wizard.h
	* storage/exchange-config-listener.c
	* storage/exchange-migrate.c
	* storage/main.c
	* storage/ximian-connector-setup.c :
	Use the proper include paths.

2005-06-14  Sarfraaz Ahmed <asarfraaz@novell.com>

	* configure.in : Exit configure if e-d-s was not built with Exchange 
	support
	* addressbook/e-book-backend-gal.c : Include e2k-global-catalog-ldap.h

2005-06-10  Sarfraaz Ahmed <asarfraaz@novell.com>

	Initial commit to use Exchange server communication code from e-d-s
	* Makefile.am : Removed xntlm and lib
	* configure.in : Check for libexchange-storage-1.2.pc
	* addressbook/Makefile.am : Dont look for lib in exchange sources
	* calendar/Makefile.am : Similar
	* calendar/e-cal-backend-exchange-tasks.c : Use proper includes
	* camel/Makefile.am : Dont look for xntlm in exchange sources
	* mail/Makefile.am : Dont look for lib in exchange sources
	* mail/mail-stub-exchange.c : Use ExchangeComponent for offline checks
	instead of ExchangeAccount.
	* storage/Makefile.am : Moved out e-folder-exchange.[ch], 
	exchange-account.[ch], exchange-delegates-user.[ch], 
	exchange-delegates.[ch], exchange-folder-size.[ch], 
	exchange-hierarchy-favorites.[ch], exchange-hierarchy-gal.[ch],
	exchange-hierarchy-somedav.[ch], exchange-hierarchy-webdav.[ch],
	exchange-hierarchy.[ch], exchange-permissions-dialog.[ch], 
	exchange-types.h. Also dont look for lib and xntlm in exchange sources.
	* storage/exchange-component.[ch] : Use proper header includes.
	* storage/exchange-config-listener.[ch] : Similar
	* storage/exchange-offline-listener.[ch] : Similar
	* storage/xc-backend-view.c : Similar
	* storage/xc-commands.c : Similar. Disabled delegation and permissions
	for now. These will be moved to plugins.

2005-06-06  Sarfraaz Ahmed <asarfraaz@novell.com>

	* configure.in : Bumped the version to 2.3.3
	* NEWS : Updated

2005-06-01  Harry Lu  <harry.lu@sun.com>

	* storage/exchange-component.c: (impl_createControls):
	should add view instead of a NULL control.

2005-05-25  Sarfraaz Ahmed <asarfraaz@novell.com>

	* addressbook/e-book-backend-gal.c : Added a mutex for the ldap 
	connection, so that access to the ldap server is locked while 
	gal_reconnect is in progress. Fixes #305398

2005-05-16  Sarfraaz Ahmed <asarfraaz@novell.com>

	* e-book-backend-gal.c (last_mod_time_populate)(get_time_stamp): 
	Updates the EContact with the last modified time [ REV field ]
	Patch submitted by Sushma.
	(gal_reconnect) : Added some robustness.

2005-05-14  Sarfraaz Ahmed <asarfraaz@novell.com>

	* configure.in : Check for latest libsoup and use it. This might not be
	needed once evolution is fixed to use a proper libsoup.

2005-05-11  Shakti Sen  <shprasad@novell.com>

	* storage/exchange-autoconfig-wizard.c:
	Fixed the build failure by removing EvolutionWizard.

2005-05-11  Sushma Rai  <rsushma@novell.com>

	* addressbook/e-book-backend-exchange.c (func_match): Forming the search
	filter for contacts with nickname property.

	* addressbook/e-book-backend-gal.c (func_is_or_begins_with): Added 
	mailNickname (alias) attribute to LDAP search filter.
	Also mapping mailNickname to E_CONTACT_NICKNAME in structure prop_info.
	Fixes #255756.

2005-05-10  Sushma Rai  <rsushma@novell.com>

	* camel/camel-exchange-provider.c: Using "sync_offline" in 
	exchange_conf_entries[], instead of "offline_sync".

2005-05-09  Sushma Rai  <rsushma@novell.com>

	* storage/exchange-account.c (exchange_account_connect): Added argument
	server name to error message.

2005-05-09  Sushma Rai  <rsushma@novell.com>

	* storage/exchange-account.c (exchange_account_connect): Corrected the
	quota warning message and marked it for translation. Fixes #270363.

2005-05-09  Sushma Rai  <rsushma@novell.com>

	* lib/e2k-autoconfig.c (validate): Removed the hard coded support url
	from translateable error message. Fixes #272514

2005-05-09  Sushma Rai  <rsushma@novell.com>

	* storage/exchange-config-listener.c (account_removed): Displaying 
	separate warning messages for accoount deletion and account removal.
	Fixes #274066

2005-05-09  Vivek Jain  <jvivek@novell.com>

	**Fixes #273846
		#273878
	* calendar/e-cal-backend-exchange.c: (get_attach_file_contents),
	Modified the function to take length as an argument, so that we
	can return no of bytes in the file.
	(build_msg): pass the len pointer and use this length for writing the
	file

2005-04-26  Sarfraaz Ahmed <asarfraaz@novell.com>

	* configure.in : Bumped the version to 2.3.1
	* NEWS : Updated
	* autogen.sh : Changed the package name to evolution-exchange

2005-04-22  Sushma Rai  <rsushma@novell.com>

	* storage/exchange-config-listener.[ch] (requires_relogin): Check for
	the change in auth type, only if it is set. 
	
2005-04-22  Sushma Rai  <rsushma@novell.com>

	* storage/exchange-config-listener.[ch] (add_esources): Removed.
	(add_account_esources): Added new to create e-sources for all the
	folders.
	(add_folder_esource): Added new to create e-source for a given folder.
	(add_sources): Creating a list which contains folder name, uri and type
	for all the folders, which is used in add_account_sources(). Moved 
	finding the source list and list_sync() in add_account_esources() 
	instead of add_sources().
	(remove_esource): Removed.
	(remove_account_esources): Added new to remove e-sources for all the 
	folders.
	(remove_account_esource): Added new to remove e-sources for all folders
	of given type.
	(remove_folder_esource): Added new, to remove e-source for a specified 
	folder. 
	(requires_relogin): Checking for auth-mechanism and SSL.	
	(account_changed): Calling remove_account_esources().
	
	* storage/e-folder-exchange.c (e_folder_exchange_delete): Calling 
	remove_folder_esource().
	(e_folder_exchange_new): Calling add_folder_esource().
	
	* storage/exchange-hierarchy-gal.c (exchange_hierarchy_gal_new): 
	Similar. 

	* storage/exchange-hierarchy-webdav.c (xfer_folder): Similar.

	* storage/exchange-hierarchy-favorites.c (remove_folder): Similar.

	* storage/exchange-hierarchy-foreign.c (remove_folder): Similar.
	(exchange_hierarchy_foreign_add_folder): Similar.

2005-04-21  Sushma Rai  <rsushma@novell.com>

	* configure.in: Using libsoup-2.2 instead of libsoup-2.4

	* storage/GNOME_Evolution_Exchange_Storage.server.in.in: Changed the 
	book and cal factory versions to 1.4

2005-04-12  Sarfraaz Ahmed <asarfraaz@novell.com>

	* configure.in : Bumped the version to 2.3.0

2005-04-06  Vivek Jain  <jvivek@novell.com>

	**Fixes #74218
	* calendar/e-cal-backend-exchange-calendar.c
	(modify_object_with_href):dup the string before assigning the 
	value returned by icaltimezone_get_tzid. 

2005-04-05  Ahmad Riza H Nst  <ari@160c.afraid.org>

	* configure.in: Added id (Indonesian) to ALL_LINGUAS line.


2005-04-05  Vivek Jain  <jvivek@novell.com>

       **Fixes #42376
       * storage/exchange-account.c :
       (exchange_account_remove_folder):
       (exchange_account_xfer_folder): check whether the folder being
       renamed/moved/removed is a standard one. throw error as an
       unsupported operation.

2005-04-05  Pawan Chitrakar  <pawan@nplinux.org>

	* configure.in: Added ne in ALL_LINGUAS

2005-04-01  Chenthill Palanisamy  <pchenthill@novell.com>

	Fixes #74227
	* calendar/e-cal-backend-exchange-calendar.c
       	(remove_object): Removed the check for the presence of object 
	and assign proper values to old_object and object.
	(receive_objects), (book_resource): Do not send NULL for the 
	last argument in remove_object.
	
2005-04-01  Adi Attar  <aattar@cvs.gnome.org>

	* configure.in: Added "xh" to ALL_LINGUAS.

2005-03-31  Steve Murphy  <murf@e-tools.com>

	* configure.in: Added "rw" to ALL_LINGUAS.

2005-03-31  Sushma Rai  <rsushma@novell.com>

	Patch by Sarfraaz Ahmed for a exchange-storage crash while exiting 
	Evolution. 
	* storage/exchange-account.c (exchange_account_set_online): Not setting 
	"account_online" flag, as it gets initialized in 
	exchange_account_connect().

	* storage/exchange-hierarchy-somedav.c (scan_subtree): Using the 
	offline mode parameter for the function, instead of reading it again.

	* storage/exchange-offline-listener.c (setup_offline_listener): Reading
	the connection id returned for online/offline status change.
	(exchange_offline_listener_dispose): Using the connection ID returned 
	by gconf_client_notify_add() while removing the notification.

2005-03-31  Sushma Rai  <rsushma@novell.com>

	* addressbook/e-book-backend-exchange.c 
	(e_book_backend_exchange_connect): Setting is_writable flag of 
	EBookBackendExchangePrivate based on user's access permissions. Also
	notifying the writable state.
	(e_book_backend_exchange_load_source): In case of offline mode, setting
	the writable state of FALSE. Calling the update_cache() after 
	e_book_backend_exchange_connect() so that is_writable flag is set 
	according to the user's access rights.
	(e_book_backend_exchange_set_mode): In case of offline mode, marking 
	the addressbook as not writable. In online mode, Setting writable and 
	notifying writable state based on users access permissions.

2005-03-31  Chenthill Palanisamy  <pchenthill@novell.com>

	Fixes #73969
	* calendar/e-cal-backend-exchange-calendar.c: (receive_objects): If the 
	rid is not present and the method is CANCEL remove the recurrence event
       	completely.

2005-03-29  Sushma Rai  <rsushma@novell.com>

	* storage/exchange-folder-size.[ch] (free_fsize_table): Freeing the key
	and returning boolean.
	(free_row_refs): Added new. Frees row reference.
	(finalize): Freeing hash tables and private structure.
	(init): Creating the hash table, using g_hash_table_new()
	(exchange_folder_size_update): strdup of the key, before inserting into
	the hash table.
	(exchange_folder_size_remove): Added new. Removes the specifed folder
	entry from the hash table and updates GtkListStore.
	(exchange_folder_size_get): Added new. Returns the folder size of
	specified folder from the cache.

	* storage/exchange-hierarchy-webdav.c (e_folder_webdav_new): For the
	folders without internal uri (newly created folder), creating the
	internal uri with trailing slash.
	(create_folder): Updating folder size for newly created folder.
	(remove_folder): Removing folder size entry for the folder removed.
	(xfer_folder): Finding whether the folder is renamed or moved. In case
	of folder rename, removing the old entry from hash table and updating
	the hash table with new folder name.
	(rescan): Finding the folder size for all type for folders and not only
	the personal folders. Also, considering only the personal folder sizes
	for finding the total mail box size.
	(exchange_hierarchy_webdav_parse_folder): Removed the folder size check
	done here, now doing it in scan_subtree().
	(scan_subtree): Finding the folder size and mail box size.
	Fixes #73494 and #72100.

2005-03-29  Sushma Rai  <rsushma@novell.com>

	* lib/e2k-autoconfig.c (validate): If the OWA url entered has wrong
	protocol during account creation, displaying error message instead
	of correcting the url and proceeding with the account creation. 
	Fixes #74050. 
	Also, prefixing the owa path with the slash. See #73627. 

	* camel/camel-exchange-provider.c (exchange_validate_user_cb): Freeing
	mailbox parameter, after setting the value to camel url.

2005-03-29  Sushma Rai  <rsushma@novell.com>

	* storage/exchange-config-listener.c (add_esource): Fixed the problem
	where e-source was being accessed after the unref. Also Selecting
	calendar and tasks folders only if e-source is created. 
	Should fix #74029

2005-03-17  Sushma Rai  <rsushma@novell.com>

	* camel/camel-exchange-provider.c (exchange_validate_user_cb): Setting
	the authentication mechanism parameter in camel url.
	
	* lib/e2k-autoconfig.c (get_ctx_auth_handler): Initializing saw_ntlm
	and saw_basic flags and setting saw ntlm if the response header begins
	with "NTLM ".
	(validate): Setting the is_ntlm flag if the user is authenticated.	

2005-03-16  Sarfraaz Ahmed <asarfraaz@novell.com>

	* docs/reference/Makefile.am : Link to krb5 libs as well
	* storage/Makefile.am : Similar
	Fixes a build break on SuSE machines.

2005-03-16  Jeffrey Stedfast  <fejj@novell.com>

	* camel/camel-exchange-folder.c (camel_exchange_folder_construct):
	Set the state file path and load it. Fixes bug #73498.
	(transfer_messages_to): Updated to use journal_append()
	(refresh_info): Replay the journal here. Fixes bug #72968.
	
	* camel/camel-exchange-journal.c (exchange_entry_play_transfer):
	Removed (not used).
	(camel_exchange_journal_transfer): Removed.
	(exchange_entry_play_append): restore back the message info from the
	journal cache to the real cache.

2005-03-16  Sarfraaz Ahmed <asarfraaz@novell.com>

	* camel/camel-exchange-store.c (construct): Move back the stub creation
	code to exchange_connect and invoke connect to fix the timing issue.
	(exchange_connect) : Create a stub if it already not created.
	(exchange_get_folder) (exchange_get_trash) (exchange_get_folder_info) :
	Check if stub is created, if not then create it.
	Fixes #73673

2005-03-15 Sivaiah Nallagatla <snallagatla@novell.com>
										
	* addressbook/e-book-backend-exchange.c
	(e_book_backend_exchange_create_contact)
	(e_book_backend_exchange_modify_contact)
	(e_book_backend_exchange_remove_contacts) :
	Make sure new or modified objects are added
	to cache and deleted ones are actually deleted
	from cache.
	Fixes #73712

2005-03-15  Sushma Rai  <rsushma@novell.com>

	* camel/camel-exchange-provider.c (exchange_validate_user_cb): Using
	ExchangeParams structure to store the parameters values to read from
	server during user validation, and adding them to camel url.

	* lib/e2k-autoconfig.c (e2k_validate_user): Using ExchangeParams.
	(validate): If the user is validated finding "mailbox" and "owa_path"
	values. Using ExchangeParams for returning the values.

	* lib/e2k-validate.h: Defined ExchangeParams.

2005-03-15  Sarfraaz Ahmed <asarfraaz@novell.com>

	* calendar/e-cal-backend-exchange.c (open_calendar): Return proper
	error message when authentication fails. This happens when we start
	evolution in calendar view without remembering the password.

2005-03-15  Sushma Rai  <rsushma@novell.com>

	* shell/e-folder-misc-dialogs.c (do_foreign_folder_dialog): Fixed the
	way e-mail ids were being read from the user name entry.

2005-03-14  Sivaiah Nallagatla <snallagatla@novell.com>

       * addresbook/e-book-backend-excahnge.c
       (e_book_backend_exchange_create_contact)
       (e_book_backend_exchange_modify_contact)
       (e_book_backend_exchange_remove_contacts)
       (e_book_backend_exchange_get_changes)
       (e_book_backend_exchange_get_contact) : added misc. stuff
       like returning proper error code, assigning
       NULL to out params and not using e_data_book_view etc
       to offline case error handling
       Don't know if it fixes any bug in bugzilla


2005-03-11  Sarfraaz Ahmed <asarfraaz@novell.com>

	* calendar/e-cal-backend-exchange-calendar.c (add_ical) : Make sure we
	check for attachments in subcomponents of a vcalendar as well.
	(get_attachment) : Moved to e-cal-backend-exchange.c
	(build_msg) : Moved to e-cal-backend-exchange.c
	(create_object) : Minor leak fixed.
	(modify_object_with_href) : Dont loose the attachments while modifying.
	* calendar/e-cal-backend-exchange-tasks.c (put_body): Handle attachments
	(get_changed_tasks) : Check for attachments and fetch them from server.
	(create_task_object) : Check for attachments and send them to server.
	(modify_task_object) : Similar
	* calendar/e-cal-backend-exchange.c (load_cache) : Create the local
	attachment store for the GUI to store exchange attachments
	(save_attach_file) : Make a local copy of the attachment in the backend
	(get_attachment) : Extract the attachment from the server object.(Moved
	from calendar.c)
	(get_attach_file_contents) : Store the attachment in a file.
	(build_msg) : Build the mime part to send to the server (Moved from
	calendar.c)
	* calendar/e-cal-backend-exchange.h : Export the attachment utility
	functions.

2005-03-11  Sushma Rai  <rsushma@novell.com>

	* addressbook/e-book-backend-exchange.c (func_match): Handling the
	query which beginswith full name or email id without any value.
	Fixes the problem of listing items of Exchange personal contacts
	from user selection dialog.

2005-03-11  Sushma Rai  <rsushma@novell.com>
	
	* storage/exchange-account.c (is_password_expired)
	(exchange_account_set_password): If kerberos calls with windows domain
	and domain extracted from e-mail id fail, trying again with NT domain.
	(exchange_account_connect): Storing the NT domain value in exchange
	account.
	(init): Initializing NT domain paramenter.
	(finalize): Clearing NT domain value stored.
	Fixes #72801

2005-03-11 Sivaiah Nallagatla <snallagatla@novell.com>
											   
	* calendar/e-cal-backend-exchange-calendar.c
	(add_timezone_cb) (modify_object_with_href) :
	initialize the izone to NULL before passing it
	to get_timzone.
											   
	Fixes #73505, #67740  and surely something else

2005-03-07  Jeffrey Stedfast  <fejj@novell.com>

	Fixes bug #72889, #72943 and probably others.

	* camel/camel-exchange-store.c (exchange_disconnect): Removed the
	logic, put it into finalize() instead. Simply return TRUE here.
	(exchange_connect): Moved the logic into construct().
	(construct): Init the strub and connect it. This needs to happen
	here or offline mode breaks.

2005-03-10 Sivaiah Nallagatla <snallagatla@novell.com>

	* calendar/backends/e-cal-backend-exchange.c
	(remove_objects) : Make sure object is non NULL before deferencing
	it.  Fixes #73059

2005-03-10  Sushma Rai  <rsushma@novell.com>

	* calendar/e-cal-backend-exchange-tasks.c (create_task_object):
	Finding the UID from the ical component and using it while checking
	the cache, and also returning the UID back. Fixes #72041
	Changed the parameter name from comp_uid to return_uid.

	* calendar/e-cal-backend-exchange-calendar.c (create_object): Similar
	to tasks, here also reading the UID value from ical component and 
	returning it back.

2005-03-09 Sivaiah Nallagatla <snallagatla@novell.com>

	* addressbook/e-book-backend-exchange.c 
	(e_book_backend_exchange_get_contact_list) : 
	Don't free the vcard you just added to list !!!
	That gets freed elsewhere.
	Fixes #73470, #73030 #73025 and may be something 
	else which i don't know

2005-03-09 Sivaiah Nallagatla <snallagatla@novell.com>

	* addresbook/e-book-backend-exchange.c
	(build_message) : make sure note is non NULL
	before processing. Basically added robustness against
	ote being NULL.
	Fixes #72044

2005-03-09  Sushma Rai  <rsushma@novell.com>
	
	* storage/exchange-account.h: mbox_size definition. Missed in previous
	commit.

2005-03-09  Sushma Rai  <rsushma@novell.com>

	* lib/e2k-global-catalog.c (get_quota_values): Reading "mDBUseDefaults"
	attribute to check if the user level quota settings are enabled or not.
	(e2k_global_catalog_lookup): Added "mDBUseDefaults" attribute to quota
	attribute list.

	* storage/exchange-account.c (setup_account_hierarchies): Reading total
	size for all the personal folders. Not returning "FALSE" in case 
	favorite folders does not exist. Not an error condition.
	(exchange_account_connect): Printing the quota warning, only if user's
	mail box size exceeds the quota limit set. Fixes #72389

	* storage/exchange-hierarchy-webdav.[ch](init): Initializing the total
	folder size.
	(exchange_hierarchy_webdav_get_total_folder_size): Returns total size 
	of all the folders.
	(rescan)(exchange_hierarchy_webdav_get_folder_size): Calculates the 
	total size for all the folders.
	
2005-03-08  Sushma Rai  <rsushma@novell.com>

	* shell/e-folder-misc-dialogs.c (do_foreign_folder_dialog): Removed the
	corba method which was still being used to retrieve user's e-mail
	address.
	(user_clicked): Making name selector dialog modal.
	(setup_name_selector): Adding the user name entry widget to the name
	selector dialog.
	 Fixes #73218

2005-03-07 Sivaiah Nallagatla <snallagatla@novell.com>

	* calendar/e-cal-backend-exchange.c (set_mode) :
	make sure we set proper value to priv->read_only 
	Atleast should Fix #72168 & #72951 

2005-03-07  Sarfraaz Ahmed <asarfraaz@novell.com>
	
	* configure.in : Bumped the version to 2.2.0
	* NEWS : Updated

2005-03-07  Sushma Rai  <rsushma@novell.com>

	* storage/exchange-account.c (exchange_account_new): Setting the
	porotcol based on OWA URL specified by the user, instead of use_ssl
	parameter. Since we don't have a SSL section now, use_ssl is getting
	lost when user does modifications to his account settings.
	Fixes #73202, #72834, #73017, #72836, and #72881

2005-03-03  Sushma Rai  <rsushma@novell.com>

	* camel/camel-exchange-provider.c: Added mail filters and junk mail
	filters settings to "Options" section in exchange_conf_entries[] 
	structure so that they appear in receive options page.
	Fixes #73237	
 
2005-03-03  Rajesh Ranjan  <rranjan@redhat.com>

	* configure.in : Added hi to ALL_LINGUAS.

2005-02-28  Sarfraaz Ahmed <asarfraaz@novell.com>

	* configure.in : Bumped the version to 2.1.6
	* NEWS : Updated
	* Updated the po files and the docs

2005-02-28  Sarfraaz Ahmed <asarfraaz@novell.com>

	* storage/exchange-hierarchy-webdav.c (scan_subtree): Removed an object
	getting unrefed twice. Fixed #73079
	* camel/camel-exchange-folder.c (class_init): There was a duplicate
	declaration for refresh_info

2005-02-28  Sushma Rai  <rsushma@novell.com>
	
	* lib/e2k-autoconfig.c (validate): Reverted fix for #72514, as it
	breaks string freeze.

2005-02-28  Sushma Rai  <rsushma@novell.com>

	* storage/exchange-config-listener.c (account_changed): Checks if
	user needs to authenticate again, based on the url changes.
	(requires_relogin): Compares the current url with the modified 
	url, to see if user needs to relogin.

2005-02-28  Sushma Rai  <rsushma@novell.com>

	* storage/exchange-oof.c (sync_oof_info): Checking for NULL OOF 
	message. Fixes the crash when oof_info file gets created here.

2005-02-28  Sarfraaz Ahmed <asarfraaz@novell.com>

	* exchange-oof.h (exchange_oof_set) : This got missed in the previous 
	commit.

2005-02-27  Sushma Rai  <rsushma@novell.com>

	* storage/exchange-oof.c (sync_oof_info): If oof_info file exists and
	has more recent data set using account editor updates the server with
	this information. If server has more recent oof data, entered either
	through out of office assistant dialog from exchange component or
	through any other client, then updates oof_info file, so that account
	editor displayes the proper state and message, reading this file.
	(exchange_oof_init)(update_state): Calls exchange_oof_set() with
	"updated" flag set to TRUE, based on which the oof_info files gets
	updated.
	(exchange_oof_get): Invokes sync_oof_info().
	(exchange_oof_set): Calls sync_oof_info() to write the data to the file,
	when file contents need to be updated.
	(exchange_oof): Checks for oof message and sets the buffer.
	Fixes #72709.

2005-02-26  Sarfraaz Ahmed <asarfraaz@novell.com>

	* calendar/e-cal-backend-exchange.c : The mode on the backend was not
	being set back to REMOTE when turned online. Fixed this now.
	* camel/camel-exchange-folder.c (get_message_data): Dont contact mailer
	in offline mode.
	(camel_exchange_folder_update_message_tag): Similar
	* camel/camel-exchange-folder.h : Similar
	* camel/camel-exchange-store.c (exchange_get_folder): Send the offline
	state while creating the new folder
	* mail/mail-stub-exchange.c: Modified to use the new offline checking
	method.
	(refresh_folder_internal): Return the data in the stub if offline.
	* storage/exchange-account.c : Use the new offline checking method
	(exchange_account_is_offline_sync_set): Make it return the proper error
	values using the enums for offline.
	* storage/exchange-account.h : Use the new offline checking method
	* storage/exchange-component.c : Similar
	* storage/exchange-component.h : Similar
	* storage/exchange-config-listener.c: Similar
	* storage/exchange-hierarchy-favorites.c : Similar
	* storage/exchange-hierarchy-somedav.c : Similar
	* storage/exchange-hierarchy-webdav.c : Similar
	* storage/exchange-offline-listener.c : Should now send a proper value
	for an error condition. 
	* storage/exchange-offline-listener.h : Added new enum for this.
	Fixes #71519

2005-02-26  Sarfraaz Ahmed <asarfraaz@novell.com>

	* calendar/e-cal-backend-exchange-calendar.c (add_ical) : Now updates
	the cache with the status tracking info
	(get_changed_events): Added the enums for tracking info to be sent to
	add_ical

2005-02-26  Sushma Rai  <rsushma@novell.com>

	* storage/exchange-account.c (get_password): Forgetting temporarily
	stored password, once the exchange component is set to interactive.
	Fixes #73017.

2005-02-26  Sushma Rai  <rsushma@novell.com>

	* lib/e2k-autoconfig.c (validate): Removed the hard coded support url
	from translateable error message. Fixes #72514

2005-02-26  Sushma Rai  <rsushma@novell.com>

	* lib/e2k-autoconfig.c (validate):
	* camel/camel-exchange-provider.c (exchange_validate_user_cb): Removed
	unnecessary memory allocation.

2005-02-26  Sarfraaz Ahmed <asarfraaz@novell.com>

	* storage/exchange-folder-size.c : Modified most of the code for
	displaying the folder sizes in a sorted order. Also added code to
	update the store with new folder sizes, called after a refresh.
	* storage/exchange-folder-size.h : Similar
	* storage/exchange-hierarchy-webdav.c (rescan) : Fetch the folder
	sizes during a rescan as well.
	(exchange_hierarchy_webdav_parse_folder) : Now send a double value
	instead of a string for the folder size.
	Fixes #72104

2005-02-24  Sivaiah Nallagatla <snallagatla@novell.com>
										
	* addressbook/e-book-backend-exchange.c
	(e_book_backend_exchange_get_contact_list) :
	We should not be using e_data_book_respond_ calls, as we are
	a sync backend. Fixes #72946
	(e_book_backend_exchange_create_contact) :
	Don't use e_data_book_respond and don't
	return success here. We are in offline
	mode.
	Fixes #72945

2005-02-24  Hans Petter Jansson  <hpj@novell.com>

	* lib/e2k-autoconfig.c:
	* lib/test-utils.c:
	* storage/exchange-account.c:
	* storage/exchange-autoconfig-wizard.c:
	* storage/exchange-hierarchy-webdav.c:
	* storage/main.c:
	* storage/ximian-connector-setup.c:
	Update the includes for e-passwords.h to reflect its new location.

2005-02-20  Sushma Rai <rsushma@novell.com>

	* addressbook/e-book-backend-gal.c (func_is_or_begins_with): Allowing
	the query "beginswith fileAs" without any value, which is formed for
	building GAL cache. Fixes #72170
	(generate_cache_handler): Checking for the LDAP message type while 
	building the cache.
	(set_mode): Setting GAL addressbook not editable, when turning online
	from offline mode.

2005-02-20  Sushma Rai <rsushma@novell.com>
	
	* storage/exchange-account.[ch] (exchange_account_is_offline_sync_set):
	Added new, to read the offline_sync value set for the account.
	(exchange_account_new): Checking for the account level offline sync setting
	and storing it.

	* storage/exchange-config-listener.c (add_esource): Checking for the 
	account level and folder level offline sync values and updating the 
	e-sources.

2005-02-19  Sarfraaz Ahmed <asarfraaz@novell.com>

	* camel/Makefile.am : Now link camel with krb5 for working around
	libtool glitch on SuSE.

2005-02-16  Sarfraaz Ahmed <asarfraaz@novell.com>

	* storage/xc-commands.c (do_folder_size_menu): Enable popping of
	folder size dialog from the menu. Fixes #72099

2005-02-16  Sarfraaz Ahmed <asarfraaz@novell.com>

	* calendar/e-cal-backend-exchange-calendar.c : Fixed a build break

2005-02-10  Jeffrey Stedfast  <fejj@novell.com>

	* camel/camel-exchange-search.c (exchange_body_contains): Check
	network availability. If unavail, fall back to parent search class
	body_contains() method.

2005-02-12  Arafat Medini <kinryu@silverpen.de>

	* configure.in  Readded Arabic locale ar to ALL_LINGUAS

2005-02-11  Sarfraaz Ahmed <asarfraaz@novell.com>

	* calendar/e-cal-backend-exchange-calendar.c (add_vevent) : Always
	set the TRANSP property from the busy status. Fixes #70283
	(receive_objects) : Fixed a memory leak. Fixes #72482

2005-02-11  Sushma Rai  <rsushma@novell.com>

	* storage/exchange-config-listener.c (account_changed): Removing the 
	esources for the account before asking for restart, if owa url is 
	modified. Fixes #71995.

2005-02-10  Sushma Rai  <rsushma@novell.com>

	* lib/e2k-autoconfig.c (validate): Changed the support URL value.
	Fixes #71800

2005-02-10  Sushma Rai  <rsushma@novell.com>

	* camel/camel-exchange-provider.c (exchange_auto_detect_cb): Adding
	GC server to the table of auto detected values.
	(exchange_validate_user_cb): Setting ad_server paramemter value in
	CamelUrl.

	* lib/e2k-autoconfig.c (e2k_validate_user)(validate): Reading the GC
	server value.
	Fixes #71878

2005-02-10  Sushma Rai  <rsushma@novell.com>

	* camel/camel-exchange-provider.c: Setting HIDDEN_AUTH in 
	exchange_provider structure, so that it auth section doesn't
	appear while creating an account.

2005-02-09  Sushma Rai  <rsushma@novell.com>
	
	* storage/exchange-account.c (change_passwd_cb): Setting the new
	password entered when change password is invoked by password expiry
	check. Fixes #72091

2005-02-09  Sushma Rai  <rsushma@novell.com>

	* storage/exchange-account.c (exchange_account_new): Not setting
	default warning period, if user has not selected password expiry
	warning option. 
	(find_passwd_exp_period): Finding the password expiry period and showing
	warning, only if user has selected that option. 
	Fixes #72093

2005-02-08  David Malcolm  <dmalcolm@redhat.com>

	* addressbook/Makefile.am, calendar/Makefile.am,
	camel/Makefile.am,  mail/Makefile.am, shell/Makefile.am,
	storage/Makefile.am, lib/Makefile.am:

	Use appropriate libtool macro for convenience libraries
	(_LTLIBRARIES, rather than _LTLIBRARIES), since some architectures
	do not allow using static libraries this way.

2005-02-08  Sushma Rai  <rsushma@novell.com>

	* camel/camel-exchange-folder.c (camel_exchange_folder_construct): 
	Storing tag information in summary file. Fixes #71555 

2005-02-07  Sarfraaz Ahmed <asarfraaz@novell.com>

	* configure.in : Bumped the version to 2.1.5
	* NEWS : Updated
	* Updated the po files	

2005-02-07  Sushma Rai  <rsushma@novell.com>

	* addressbook/e-book-backend-gal.c (func_contains): Handling the
	query with the attribute fileAs. Fixes Gal lookup from user selection
	dialog, which was was not working as the query now is having 
	fileAs=username.

2005-02-04  Sarfraaz Ahmed <asarfraaz@novell.com>
	
	* po/POTFILES.in : Updated with the missing files.

2005-02-04  Sarfraaz Ahmed <asarfraaz@novell.com>

	* calendar/e-cal-backend-exchange.c (set_mode): Fix the race by 
	having a local variable.
	* camel/camel-exchange-store.c (exchange_get_folder_info): The check
	for offline check should actually be done in mail.
	* mail/mail-stub-exchange.c (get_folder)(sync_deletions)
	(refresh_folder_internal)(mail_stub_exchange_new) : Dont contact server 
	when in	offline mode.
	* storage/exchange-account.c (exchange_account_open_folder): Check for 
	offline mode. 
	(exchange_account_is_offline) : A wrapper around the component check
	for offline mode.
	(setup_account_hierarchies) : Extracted this code to be used in offline
	and online modes.
	(exchange_account_connect) : Move code and fix warnings.
	* storage/exchange-account.h : Similar
	* storage/exchange-component.c (new_connection) : check for offline
	(exchange_component_get_account_for_uri) : Dont check for offline here.
	(exchange_component_is_offline) : Returns the component's current state. 
	* storage/exchange-component.h : Similar
	* storage/exchange-hierarchy-favorites.c (get_hrefs) : Scan the offline
	tree when in offline.
	(add_hrefs) : A callback helper method for offline scanning of folders.
	* storage/exchange-hierarchy-foreign.c (scan_subtree) : Pass the online
	and offline status of the component.
	* storage/exchange-hierarchy-somedav.c (scan_subtree) : Similar
	* storage/exchange-hierarchy-webdav.c (create_folder)(remove_folder)
	(xfer_folder)(rescan) : Dont contact server if offline.
	(scan_subtree) : Scan the offline tree stored on disk when offline
	(add_folders) : A helper callback method for offline scanning
	* storage/exchange-hierarchy.c (scan_subtree)
	(exchange_hierarchy_scan_subtree) : Pass on the offline state
	* storage/exchange-hierarchy.h : Similar
	* storage/exchange-storage.c (account_to_storage_result)
	(idle_open_folder) : Set the errors for describing offline mode.

2005-02-04  Sarfraaz Ahmed <asarfraaz@novell.com>

	* addressbook/e-book-backend-gal.c :
	* lib/e2k-types.h :
	* shell/e-folder-creation-dialog.c :
	* shell/e-folder-dnd-bridge.c :
	* shell/e-folder-misc-dialogs.c :
	* shell/e-folder-selection-dialog.c :
	* shell/e-storage.c :
	Should now be using gi18n.h/gi18n-lib.h

2005-02-04  Kostas Papadimas <pkst@gnome.org>

	* configure.in (ALL_LINGUAS): Added 'el' (Greek).

2005-02-02  JP Rosevear  <jpr@novell.com>

	* storage/main.c (main): bind to the GETTEXT_PACKAGE domain, not
	PACKAGE

2005-02-02  Sarfraaz Ahmed <asarfraaz@novell.com>

	* calendar/e-cal-backend-exchange-calendar.c (discard_alarm):
	Fixed a leak
	* calendar/e-cal-backend-exchange.c : Removed a typo.
	* camel/camel-exchange-store.c (make_folder_info): Mark the inbox
	flag which is newly added in camel.
	* camel/camel-stub-constants.h : Declare the new camel flags.
	* mail/mail-stub-exchange.c (get_folder_info): Set the flag for
	inbox folder

2005-02-01  Rodrigo Moya <rodrigo@novell.com>

	* calendar/e-cal-backend-exchange-calendar.c (create_object,
	modify_object_with_href, remove_object): removed usage of
	removed categories API.

2005-01-29  Sarfraaz Ahmed <asarfraaz@novell.com>

	* storage/exchange-hierarchy-webdav.c (hierarchy_new_folder):
	Check for duplicate entried being added into the hashtable.
	Fixes #68330

2005-01-28  Žygimantas Beručka  <uid0@akl.lt>

	* configure.in (ALL_LINGUAS): Added 'lt' (Lithuanian).

2005-01-27  Sushma Rai  <rsushma@novell.com>

	* exchange-config-listener.[ch] (add_esource)(remove_esource): 
	Changed the arguments for the function. Now reading folder type,
	instead of is_contact_folder flag. 
	Defined Gconf Key values in the header file so that it need not be
	defined by every function calling add/remove esource functions.
	Selecting calendar and tasks automatically, when the account or folder
	is created and unsetting when account or folder is removed.
	(add_sources)(remove_sources): Sending folder type to add_esource()/
	remove_esource() functions. Fixes #71432
	
	* storage/e-folder-exchange.c (e_folder_exchange_new)
	(e_folder_exchange_delete): Similar.

	* storage/exchange-hierarchy-gal.c (exchange_hierarchy_gal_new): Similar
	
	* storage/exchange-hierarchy-foreign.c (remove_folder)
	(exchange_hierarchy_foreign_add_folder): Similar.

	* storage/exchange-hierarchy-favorites.c (remove_folder): Similar.

	* storage/exchange-hierarchy-webdav.c (xfer_folder): Similar.

2005-01-25  Sarfraaz Ahmed <asarfraaz@novell.com>

	* storage/exchange-account.c (exchange_account_connect): Properly
	set use_ntlm when reconnecting to server. This now tries either
	Basic or Plaintext authentication if one of them fails. Patch submitted
	by Soren Hansen and fixes #70730

2005-01-25  Sarfraaz Ahmed <asarfraaz@novell.com>

	* configure.in : Bumped the version to 2.1.4
	* NEWS : Updated
	* addressbook/e-book-backend-exchange.c : fixed some warnings
	* Updated the po files

2005-01-24  Sushma Rai  <rsushma@novell.com>

	* camel/camel-exchange-provider.c: Added CAMEL_URL_ALLOW_AUTH to
	provider structure.

2005-01-24  Sarfraaz Ahmed <asarfraaz@novell.com>

	* camel/camel-exchange-folder.c (transfer_messages_to):
	We should now call journal_transfer instead of journal_append
	* camel/camel-exchange-journal.c : Handle transfer of messages
	and also updating the flags.

2005-01-24  Sushma Rai  <rsushma@novell.com>

	* addressbook/e-book-backend-exchange.c: Added offline support
	for personal addressbook. 

2005-01-23  Sushma Rai  <rsushma@novell.com>

	* camel/camel-exchange-provider.c: Changed owa_url variable type.

	* lib/e2k-autoconfig.c: similar.

	* lib/e2k-validate.h: similar.

2005-01-22  Sushma Rai  <rsushma@novell.com>

	* storage/exchange-account.c (exchange_account_new): Added owa_url
	parameter to ExchangeAccount structure and reading it's value.
	(finalize): free for owa_url

	* lib/urltest.c: Added new. Test program which takes url as input
	and prints E2kUri structure parameters.

	* lib/Makefile.am: Handling urltest.c

2005-01-20  Sarfraaz Ahmed <asarfraaz@novell.com>
	
	* calendar/e-cal-backend-exchange-calendar.c : Add a check to not fetch
	data from server in offline mode.
	* calendar/e-cal-backend-exchange.c : Modify the error message string.
	* storage/e-folder-exchange.c : This is a hack right now. A better fix
	needs to be done down the line.
	* storage/exchange-offline-listener.c : Minor argument checks.

2005-01-19  Sushma Rai  <rsushma@novell.com>

	* camel/camel-exchange-provider.c: Added one more parameter to
	user validation function, for reading remember password flag value.

	* lib/e2k-validate.h: Similar.

	* lib/e2k-autoconfig.c (e2k_validate_user): Forming the password hash
	key once we read the hostname. And remembering the password if the 
	user is a valid user, so that account setup will not prompt for
	password second time at the end.

	* storage/exchange-account.c (get_password): If the password is 
	remembered, and user has not sleceted remember password option,
	forgetting the password remembered.
	 
2005-01-18  Sushma Rai  <rsushma@novell.com>

	* lib/e2k-autoconfig.c (validate): Handling error coders, and
	displaying warning messages when user is not authenticated
	to the server. Fixes #71389
	(e2k_validate_user): In case of wrong credentials forgetting the
	password so that, password dialog pops up when user presses
	OK button without changing any input values. 

2005-01-18  Sarfraaz Ahmed <asarfraaz@novell.com>
	
	* calendar/e-cal-backend-exchange-calendar.c : Ordered the code to now
	build the proper mime message for attachments to be sent to the server.
	* calendar/e-cal-backend-exchange-tasks.c : Fixed some warnings	
	* calendar/e-cal-backend-exchange.c : Re-ordered some code and fixed
	some warnings.

2005-01-17  Sushma Rai  <rsushma@novell.com>

	* camel/camel-exchange-provider.c: Moved password expiry warning 
	period and offline sync options under one section.

2005-01-16  Sarfraaz Ahmed <asarfraaz@novell.com>

	* calendar/e-cal-backend-exchange-calendar.c : Fixed the add_ical and
	get_changed_events functions to now geenrically fetch the attachments
	created either from Outlook or OWA.

2005-01-16  Sarfraaz Ahmed <asarfraaz@novell.com>

	* calendar/e-cal-backend-exchange-calendar.c (modify_object_with_href):
	Fixed a memory leak causing a crash on modifying an appointment.

2005-01-15  Sushma Rai  <rsushma@novell.com>

	* camel/camel-exchange-provider.c: Enabled offline sync
	check box for Exchange provider in exchange_conf_entries[].

	* calendar/e-cal-backend-exchange.c (open_calendar):
	Handling offline_sync esource property.

	* storage/exchange-account.c: (exchange_account_new): Reading 
	and storing offline sync. and password expiry warning period value set.
	(finalize): Freeing offline sync variable.
	(find_passwd_exp_period): Using the password expiry warning period
	value set instead of default value.

2005-01-12  Sushma Rai  <rsushma@novell.com>

	* camel/camel-exchange-provider.c: Added private function
	to validate user credentials.

2005-01-10  Not Zed  <NotZed@Ximian.com>

	* mail/mail-stub.c (mail_stub_read_args): long/int ->uint32.
	(mail_stub_return_data): "

	* camel/camel-stub.c (stub_send_internal): uint32 should be a
	uint32, not a long.
	(stub_send_internal): same for uint32array and int

2005-01-10  Sarfraaz Ahmed <asarfraaz@novell.com>

	* camel/camel-exchange-journal.c : Added a new file for handling
	offline journaling. Implemented the class members.
	* camel/camel-exchange-journal.h : Similar
	* camel/camel-exchange-folder.c (append_message): Handle offline
	message appending
	(transfer_messages_to): Handle offline copying/moving of messages
	(camel_exchange_folder_construct): Create the journal entry file.
	* camel/camel-exchange-folder.h : Include journal object.
	* camel/Makefile.am : Included camel-exchange-journal.[ch]

2005-01-10  Jeffrey Stedfast  <fejj@novell.com>

	* camel/camel-exchange-folder.c (exchange_sync): Implemented.
	(exchange_sync_online): Removed.
	(exchange_expunge_uids_online): Removed.
	(exchange_cache_message): Removed.

	* camel/camel-exchange-store.c (exchange_connect_online): Removed.
	(exchange_connect_offline): Removed.
	(exchange_disconnect_online): Removed.
	(exchange_disconnect_offline): Removed.
	(exchange_get_folder_online): Removed.
	(exchange_get_folder_info_online): Removed.
	(exchange_get_folder): Handle offline folder getting.
	(exchange_get_folder_online): Removed.

2005-01-10  Sarfraaz Ahmed <asarfraaz@novell.com>

	* configure.in : Bumped the version to 2.1.3
	* NEWS : Updated
	* addressbook/e-book-backend-gal.c :
	* calendar/e-cal-backend-exchange-calendar.c : 
	* calendar/e-cal-backend-exchange.h :
	* camel/Makefile.am :
	* lib/Makefile.am : Added e2k-validate.h
	* storage/exchange-folder-size.c : 
	* storage/main.c : Fixed warnings in all these files.
	Updated the po files as well.

2005-01-10  Sarfraaz Ahmed <asarfraaz@novell.com>

	* calendar/e-cal-backend-exchange.c : Enable send options.

2005-01-10  Sarfraaz Ahmed <asarfraaz@novell.com>
	
	* calendar/e-cal-backend-exchange.c : Fixed a warning
	* calendar/e-cal-backend-exchange-calendar.c (add_ical): Sets the
	icalattach property
	(get_attachment) : Fetched the attachment from the server.
	(get_changed_events): Calls get_attachment is object has attachment
	(build_attachment): Builds the attachment mime part
	(create_object): This now adds the attachment

2005-01-10  Hans Petter Jansson  <hpj@novell.com>

	* addressbook/e-book-backend-gal.c (gal_connect): Store the account for
	future reference.
	(ldap_op_finished): Add robustness check.
	(get_contact_handler): Ditto.
	(get_contact): Implement offline case.
	(contact_list_handler): Add robustness check.
	(get_contact_list): Implement offline case.
	(poll_ldap): Set poll_timeout to -1 if we disconnect the poll.
	(ldap_search_handler): Add robustness check.
	(start_book_view): Implement offline case.
	(generate_cache_handler): Implement.
	(generate_cache_dtor): Implement.
	(generate_cache): Implement.
	(ldap_cancel_op): Add robustness check.
	(set_mode): Implement online/offline switching.
	(get_required_fields): Silence a warning.
	(load_source): Implement offline case. Initialize cache.
	(dispose): Free cache.

2005-01-08  Sarfraaz Ahmed <asarfraaz@novell.com>

	* calendar/e-cal-backend-exchange-tasks.c : Return error messages
	for operations not supported in offline.
	* calendar/e-cal-backend-exchange.c : Similar

2005-01-07  Sarfraaz Ahmed <asarfraaz@novell.com>

	* camel/camel-exchange-folder.c : Now implements the CamelFolderDisco
	class methods. Needed for making folders available when offline.
	* camel/camel-exchange-folder.h : Similar
	* camel/camel-exchange-store.c : CamelExchangeStore is now derived
	from CamelDiscoStoreClass. Implemented the virtual functions for this.
	* camel/camel-exchange-store.h : Similar

2005-01-07  Sarfraaz Ahmed <asarfraaz@novell.com>

	Patch submitted by JP Rosevear for SelectNames fix.
	* configure.in : Now check for libedataserverui as well.
	* lib/Makefile.am : Removed the IDL files.
	* shell/Makefile.am : Similar
	* lib/e2k-user-dialog.c : Replaced the CORBA methods with the 
	e-name-selector methods.
	* shell/e-folder-misc-dialogs.c : Similar

2005-01-05  Sarfraaz Ahmed <asarfraaz@novell.com>

	* addressbook/e-book-backend-exchange.c : Enabled offline support
	* addressbook/e-book-backend-gal.c : Similar
	* calendar/e-cal-backend-exchange-tasks.c : Similar
	* storage/exchange-account.c : Similar
	* storage/exchange-component.c : Similar
	* storage/exchange-component.h : Similar
	* storage/exchange-offline-listener.c : Similar
	* storage/main.c : Similar
	* calendar/e-cal-backend-exchange-calendar.c : Similar. Also fixed 
	some memory leaks
	* calendar/e-cal-backend-exchange.c : Offline and memory leak fixes.

2004-12-21  Sarfraaz Ahned <asarfraaz@novell.com>

	* addressbook/e-book-backend-exchange.c: Added offline error handling
	changes.
	* addressbook/e-book-backend-gal.c : Similar
	* calendar/e-cal-backend-exchange.c (e_cal_backend_exchange_add_object):
	The cache now checks for duplicate detatched instances before adding
	them. This fixes #70414
	(discard_detached_instance): Small leak fixed.
	* storage/e-folder-exchange.c : Added error checks
	* storage/exchange-folder-size.c : Object freeing code added.

2004-12-21  JP Rosevear  <jpr@novell.com>

	* calendar/e-cal-backend-exchange-calendar.c: update for
	remove/modify api changes

	* calendar/e-cal-backend-exchange-tasks.c: ditto

	* calendar/e-cal-backend-exchange.c: ditto	
	
2004-12-20  Sarfraaz Ahmed <asarfraaz@novell.com>

	* configure.in : Bumped the version to 2.1.2
	* NEWS : Updated

2004-12-20  Sarfraaz Ahmed <asarfraaz@novell.com>

	* configure.in : Now checking for camel-provider

2004-12-16  Sushma Rai <rsushma@novell.com>

	* calendar/e-cal-backend-exchange-calendar.c : Fixed some memory leaks. 
	* calendar/e-cal-backend-exchange.c: ditto
	* storage/exchange-hierarchy-foreign.c: ditto
	* storage/exchange-hierarchy-webdav.c: ditto

2004-12-15  Rodrigo Moya <rodrigo@novell.com>

	* addressbook/e-book-backend-exchange.c: use libedataserver's e-sexp.h.

	* calendar/e-cal-backend-exchange.c (receive_objects, book_resource):
	pass correct number of arguments to e_cal_backend_notify_object_removed.

	* storage/Makefile.am: removed exchange-offline-utils.[ch] from build.

2004-12-15  Sarfraaz Ahmed <asarfraaz@novell.com>

	* calendar/e-cal-backend-exchange.c : Fixed some memory leaks.
	* calendar/e-cal-backend-exchange-tasks.c : Modified a structure member
	* calendar/e-cal-backend-exchange.h : Similar

2004-12-15  Sushma Rai <rsushma@novell.com>

	* configure.in: Corrected camel provider directory path.

2004-12-15  Sushma Rai <rsushma@novell.com>
	
	* calendar/e-cal-backend-exchange-calendar.c:
	Fixed several memory leaks.

2004-12-14  Sarfraaz Ahmed <asarfraaz@novell.com>

	* lib/e2k-path.c : Moved this from evolution/e-util as this is no
	longer present there after camel moved to e-d-s.
	* lib/e2k-path.h : Similar
	* lib/Makefile.am : Included the above files
	* storage/exchange-offline-utils.c : Has the utility functions used
	by offline code.
	* storage/exchange-offline-utils.h : Similar
	* storage/Makefile.am : Added the above files
	*  camel/camel-exchange-store.c : Fixed to make use of e2k-path methods
	(exchange_path_to_physical : Added this new function from e-path.c
	* storage/exchange-hierarchy-webdav.c : Now includes e2k-path.h
	* storage/exchange-offline-listener.c : Marked for offline.
	* storage/e-folder-exchange.c : Now makes use of e2k-path.h 

2004-12-14  Sushma Rai <rsushma@novell.com>

	* addressbook/e-book-backend-exchange.c (proppatch_address)
	(e_book_backend_exchange_modify_contact)(notify_remove):
	Fixed some memory leaks.

	* addressbook/e-book-backend-gal.c (contact_list_handler)
	(start_book_view)(load_source): ditto

	* storage/exchange-migrate.c (make_dir)(form_dir_path)
	(get_contacts_dir_from_filename): ditto

2004-12-11  Sarfraaz Ahmed <asarfraaz@novell.com>

	* configure.in : Fix up camel version to now be 1.2
	* camel/Makefile.am : Include the GLIB_CFLAGS

2004-12-10  Sarfraaz Ahmed <asarfraaz@novell.com>

	* calendar/e-cal-backend-exchange-calendar.c (add_ical): Fixed some
	memory leaks
	* calendar/e-cal-backend-exchange.c : Some more here.

2004-12-09  Sarfraaz Ahmed <asarfraaz@novell.com>

	* calendar/e-cal-backend-exchange-calendar.c (open_calendar)
	(create_object)(send_objects) : Return appropriate error messages
	when in offline
	* calendar/e-cal-backend-exchange-tasks.c (open_task)
	(create_task_object) : Similar
	* calendar/e-cal-backend-exchange.c (get_cal_address) (get_mode)
	(set_mode) (e_cal_backend_exchange_get_cal_address) : Handle special
	cases when in offline.
	(open_calendar)(load_cache) : Modify to actually load only the cache
	when in offline
	(e_cal_backend_exchange_is_online) : Return the online/offline status
	of the calendar.
	* calendar/e-cal-backend-exchange.h : Added the prototype of
	e_cal_backend_exchange_is_online
	

2004-12-09  Sarfraaz Ahmed <asarfraaz@novell.com>

	* storage/exchange-account.c (exchange_account_set_offline): Prepares 
	the account for offline caching in all the data necessary and sets it 
	to offline.
	(exchange_account_set_online): Sets the account to online mode and 
	tries to setup a connection with the server.
	(exchange_account_connect): This should now connect only if online.
	* storage/exchange-account.h : Added the function declarations.
	* storage/exchange-component.c (exchange_component_set_offline_listener):
	Sets a reference of the OfflineListener in the global ExchangeComponent 
	object.
	(exchange_component_get_account_for_uri) : This returns the defaul 
	account when in offline. This needs to be further fixed to handle 
	multiple accounts based on the uri passed.
	* storage/exchange-component.h : Similar
	* storage/exchange-offline-listener.c : Fixed some namespace issues.
	* storage/exchange-offline-listener.h : Similar
	* storage/main.c (main): This now instantiates an OfflineListener object
	instead of the previous procedural methods.

2004-12-09  Sarfraaz Ahmed <asarfraaz@novell.com>

	* storage/exchange-offline-listener.c : Added this new file which now
	contains the offline-listener class implementation
	* storage/exchange-offline-listener.h : Similar
	* storage/Makefile.am : Included the above 2 files.

2004-12-09  Sushma Rai <rsushma@novell.com>

	* storage/main.c (main): Calling camel_init with the 
	camel_cert.db file path.  Fixes #66932

2004-12-01  Sarfraaz Ahmed <asarfraaz@novell.com>

	* mail/mail-stub-exchange.c (get_folder): Do not set the FILTER_JUNK
	flag for Trash folder. This fixes #66963

2004-11-30  Sarfraaz Ahmed <asarfraaz@novell.com>

	* addressbook/e-book-backend-exchange.c 
	(e_book_backend_exchange_set_mode) : This sets the mode to either 
	online/offline.

2004-11-30  Sarfraaz Ahmed <asarfraaz@novell.com>

	* calendar/e-cal-backend-exchange.c (get_mode): Now returns the proper
	mode of the calendar [ online/offline ]
	(set_mode) : Sets the calendar mode to online/offline

2004-11-30  Sarfraaz Ahmed <asarfraaz@novell.com>

	* Updated the po files

2004-11-30  Sushma Rai <rsushma@novell.com>

	* storage/exchange-account.c (find_passwd_exp_period): Calling
	password expiry warning dialog.
	
	* storage/exchange-account.c (display_passwd_expiry_message)
	(change_passwd_cb): Added new, to display password expiry warning
	dialog, which can be used to invoke change password dialog.

	* storage/exchange-passwd-expiry.glade: Dialog for displaying 
	password expiry warning.

	* storage/Makefile.am: Added glade files exchange-folder-tree.glade
	and exchange-passwd-expiry.glade

	* lib/gctest.c (do_lookup): Finding password expiry period.

2004-11-30  Sarfraaz Ahmed <asarfraaz@novell.com>

	* configure.in : Removed the DEPRECATED symbols. This is for building
	against Gnome 2.9

2004-11-30  Sushma Rai <rsushma@novell.com>

	* storage/e-folder-exchange.c (e_folder_exchange_get_folder_size)
	(e_folder_exchange_save_to_file): Handling return value on error.

	* storage/exchange-folder-size.c (exchange_folder_size_display)
	Fixed a compile time warning.

2004-11-29  Sarfraaz Ahmed <asarfraaz@novell.com>

	* addressbook/e-book-backend-exchange.c 
	(e_book_backend_exchange_get_required_fields): Added new
	* addressbook/e-book-backend-gal.c
	(get_required_fields): Added new
	The above two methods were added for the required_field support by
	Sivaiah.

2004-11-27  Sushma Rai  <rsushma@novell.com>

	* storage/exchange-hierarchy-webdav.c:
	(exchange_hierarchy_webdav_parse_folder): Calling
	exchange_folder_size_update() only if permanenturl is
	not NULL. Fixes the crash while bringing up
	exchange-storage.
	Also fixed couple of compile time warnings.

2004-11-26  Sarfraaz Ahmed <asarfraaz@novell.com>

	* configure.in : Bumped the version to 2.1.1
	* NEWS : Updated
	* storage/e-folder-exchange.c : Fixed some warnings.
	* storage/exchange-folder-size.c : Similar
	* storage/exchange-hierarchy-webdav.c : Similar
	* storage/main.c : Similar

2004-11-26  Sarfraaz Ahmed <asarfraaz@novell.com>

	* storage/xc-commands.c (do_folder_size_menu) : Have a dummy place
	holder for the menu item for fodler sizes.

2004-11-25  Sarfraaz Ahmed <asarfraaz@novell.com>

	* storage/exchange-hierarchy-webdav.c (init): Was not instantiating
	the FolderSize object properly. Fixed this now.

2004-11-24  Sarfraaz Ahmed <asarfraaz@novell.com>
	
	* storage/main.c (set_online_status)(online_status_changed)
	(setup_offline_listener) : Implemented
	(main) : Added code to invoke the offline listener. As of now this
	does not get compiled unless OFFLINE_SUPPORT is defined manually
	in the Makefile. Planning to remove this once the code is fully done.
	* storage/xc-commmands.c : Removed some unused variables.

2004-11-23  Sarfraaz Ahmed <asarfraaz@novell.com>

	* storage/exchange-folder-size.c (exchange_folder_size_update):
	Fixed a crash. The private member was being used uninitialised.
	* storage/exchange-hierarchy-webdav.c : Similar
	* storage/exchange-hierarchy-webdav.h : Similar
	* docs/debug : Added some more examples.

2004-11-23  Sarfraaz Ahmed <asarfraaz@novell.com>

	* storage/xc-commands.c (do_folder_size): Hook for showing the folder
	sizes. Missed this out in my previous commits.

2004-11-12  Not Zed  <NotZed@Ximian.com>

	** merged notzed-messageinfo-branch.

2004-11-10  Sarfraaz Ahmed <asarfraaz@novell.com>
	
	* po/POTFILES.in : Added storage/exchange-folder-size.c and
	storage/exchange-folder-tree.glade

2004-11-10  Sarfraaz Ahmed <asarfraaz@novell.com>

	* storage/exchange-hierarchy-webdav.c (dispose): Added
	(class_init): Now instantiates the ExchangeFolderSize class
	(exchange_hierarchy_get_folder_size): Returns the foldersize object
	(exchange_hierarchy_webdav_parse_folder): Fetches and updates the 
	folder size
	* storage/exchange-hierarchy-webdav.h : Similar
	* storage/Makefile.am : Added the new files

2004-11-11  Not Zed  <NotZed@Ximian.com>

	* camel/camel-exchange-folder.c
	(camel_exchange_folder_add_message): make it work with message_id
	rather than references->references[0] again.

2004-11-10  Not Zed  <NotZed@Ximian.com>

	* camel/camel-exchange-folder.c (camel_exchange_folder_construct):
	update for camel api changes, don't handle info set methods
	anymore, and handle the message_id -> references[0] change.

	* camel/camel-exchange-summary.c: updated for camel
	implemenentation changes, now emit folder changed events from
	here, and handle the tag and flags set methods, and set the folder
	on the summary.

2004-11-09  Sarfraaz Ahmed <asarfraaz@novell.com>

	* MAINTAINERS : Added a new file

2004-11-08  Sarfraaz Ahmed <asarfraaz@novell.com>

	* storage/exchange-folder-size.c : Revamped the code to now be a class
	so other hierarchy classes can now instantiate this as an object and
	this class handles only the displaying of the folder tree
	* storage/exchange-folder-size.h : Similar

2004-11-04  Sarfraaz Ahmed <asarfraaz@novell.com>

	* storage/exchange-folder-size.c : Added a new file. This handles the
	displaying of the folder sizes
	* storage/exchange-folder-size.h : Similar
	* storage/exchange-folder-tree.glade : The dialog for displaying the 
	folder tree and the folder sizes

2004-11-04  Sushma Rai  <rsushma@novell.com>

	* storage/exchange-account.c (exchange_account_connect): Finding
	password expiry period. Removed unused variables.
	(find_passwd_exp_period): Finds the days left for password to expire
	and displys the warning. 

	* lib/e2k-global-catalog.[ch] (e2k_global_catalog_lookup)
	(get_account_control_values): Finding the value of the attribute 
	userAccountControl.
	(find_domain_dn): Forming the base DN for the LDAP search for maxPwdAge
	from domain name.
	(lookup_passwd_max_age): Finds the value of the attribute maxPwdAge.

	* lib/gctest.c (do_lookup): Looking up for userAccountControl and maxPwdAge
	attributes.

2004-11-03  Sarfraaz Ahmed <asarfraaz@novell.com>

	* storage/exchange-account.c (exchange_account_connect)(exchange_account_new)
	: Check if the user has provided a domain as part of the username field and
	store it for connecting to the server using form-based-authentication
	(finalize) : Cleanup the private member.

2004-11-01  JP Rosevear  <jpr@novell.com>

	* storage/Makefile.am (DISTCLEANFILES): dist clean the server file

	* Makefile.am: add intltool-* to distclean files

2004-10-21  Sarfraaz Ahmed <asarfraaz@novell.com>

	* calendar/e-cal-backend-exchange-factory.c (_todos_new_backend) :
	Changed the object type from ECalBackendExchange to 
	ECalBackendExchangeTask
	(_events_new_backend) : Similarly changed to ECalBackendExchangeCalendar

2004-10-18  Sarfraaz Ahmed <asarfraaz@novell.com>

	* lib/Makefile.am: Reorder the LDAP_LIBS
	* storage/Makefile.am: Similar
	* docs/debug : Added an example for gctest

2004-10-18  Sushma Rai  <rsushma@novell.com>

	* configure.in: version 2.1.0

2004-10-14  Frederic Crozat  <fcrozat@mandrakesoft.com>

	* camel/camel-exchange-provider.c: (camel_provider_module_init):
	Initialize codeset here too.

2004-10-13  Sarfraaz Ahmed <asarfraaz@novell.com>

	* lib/e2k-propnames.h.in : Added a new mapi proptag for folder size.
	* storage/e-folder-exchange.c (e_folder_exchange_get_folder_size)
	(e_folder_exchange_set_folder_size): Implemented
	(e_folder_exchange_save_to_file) (e_folder_exchange_new_from_file):
	Now take care of the folder size as well
	* storage/e-folder-exchange.h: Similar
	* storage/exchange-account.c (exchange_account_connect): Check
	for quota information.
	* storage/exchange-hierarchy-webdav.c (hierarchy_new_folder) (add_href)
	: Add check for some warnings.
	(exchange_hierarchy_webdav_parse_folder): Set the folder size for the
	folder
	* storage/xc-commands.c (do_folder_size): Implementated
	* storage/ximian-connector.xml: Added the verb for folder size

2004-10-12  Sarfraaz Ahmed <asarfraaz@novell.com>

	* storage/main.c: (main):
	* storage/ximian-connector-setup.c: (main):
	Initialize codeset for textdomain. Patch by Frederic Crozat.

2004-10-08  Sarfraaz Ahmed <asarfraaz@novell.com>

	* calendar/e-cal-backend-exchange-calendar.c (book_resource): Make
	connector actually create the meeting for the resource without
	sending a mail.
	(send_objects): Send the proper users list back to the client.
	(modify_object_with_href): This now enables to send a meeting for
	a specific href. This fixes #67510

2004-10-08  Sushma Rai  <rsushma@novell.com>
	
	* camel/camel-exchange-folder.c: Include camel-i18n.h

	* camel/camel-exchange-store.c: ditto

	* camel/camel-exchange-transport.c: ditto

	* camel/camel-stub.c: ditto

2004-10-05  Sushma Rai  <rsushma@novell.com>

	* storage/main.c (setup_addressbook_factory): Registering
	GAL backend.

	* addressbook/e-book-backend-gal-factory.h: Added missed out semicolon.

	* addressbook/Makefile.am: Added missed out slash, compiles gal
	factory files.
 
	* addressbook/e-book-backend-exchange-factory.c
	(e_book_backend_exchange_factory_get_type): Indented properly.
 
	* addressbook/e-book-backend-gal-factory.c : Added Copyright info
	(e_book_backend_gal_factory_get_type): Making the type static.
	
	* calendar/e-cal-backend-exchange-factory.c
	(events_backend_exchange_factory_get_type)
	(todos_backend_exchange_factory_get_type): Likewise

2004-10-05  Sushma Rai  <rsushma@novell.com>

	* storage/main.c (setup_calendar_factory)(setup_addressbook_factory):
	Changed registering the factory.

	* addressbook/Makefile.am: add e-book-backend-exchange-factory.[ch]
	and e-book-backend-gal-factory.[ch]

	* calendar/Makefile.am: add e-cal-backend-exchange-factory.[ch]

	* storage/GNOME_Evolution_Exchange_Storage.server.in.in:
	Changed BookFactory and CalFactory version to 1.2

2004-10-05  Sushma Rai <rsushma@novell.com>

	* addressbook/e-book-backend-exchange-factory.[ch]: New files.
	EBookBackendFactory for exchange addressbook backend.

	* addressbook/e-book-backend-gal-factory.[ch]: New files.
	EBookBackendFactory for exchange gal backend.

	* calendar/e-cal-backend-exchange-factory.[ch]: New files.
	ECalBackendFactory for exchange calendar backend.

2004-10-03  Alexander Shopov  <ash@contact.bg>

	* configure.in (ALL_LINGUAS): Added "bg" (Bulgarian)

2004-10-01  Sushma Rai <rsushma@novell.com>

	* storage/main.c (setup_calendar_factory)(setup_addressbook_factory):
	Removed factory_register_methods for registering exchange
	and gal backends, and added e_data_cal_factory_register_backends()
	and e_data_book_factory_register_backends() so that 
	the compilation goes through. 

2004-10-01  Sushma Rai <rsushma@novell.com>

	* configure.in : Changed the libedata-book version to 1.2
 
2004-10-01  Sarfraaz Ahmed <asarfraaz@novell.com>

	* camel/camel-exchange-provider.c: Include camel-i18n.h now

2004-10-01  Sarfraaz Ahmed <asarfraaz@novell.com>

	* configure.in : Updated changes to now build with the head
	of evolution. Changed 2.0 to 2.2 versions.

2004-09-30  Dan Winship  <danw@novell.com>

	* mail/mail-stub-exchange.c (send_message): Remove code that was
	setting the message to use HTTP 1.0, which isn't needed with
	libsoup 2.2, and which was probably causing 65685.

2004-09-24  Christophe Merlet  <redfox@redfoxcenter.org>

	* configure.in: Added 'fr' (French) to ALL_LINGUAS

2004-09-23  Sushma Rai  <rsushma@novell.com>

	* lib/e2k-user-dialog.c (addressbook_clicked_cb): Setting
	the window non-modal, so that the user selection dialog
	gets the focus. Fixes #65047

2004-09-22  Craig Jeffares <cjeffares@novell.com>

	* configure.in: Added 'it, zh_CN & zh_TW' to ALL_LINGUAS

2004-09-20  Sushma Rai  <rsushma@novell.com>

	* storage/xc-commands.c (xc_commands_context_menu): 
	Initialized disable_mask and hide_mask, to kill compile
	time warnings.	
	
2004-09-14  Dan Winship  <danw@novell.com>

	* camel/*.c, mail/*.c, addressbook/*.c: documentate

	* camel/camel-stub-constants.h (CamelStubFolderFlags): make this
	an enum rather than #defines, for gtk-doc goodness

	* camel/camel-stub.h (CamelStub): Remove a bunch of unused fields
	(CamelStubNewMessage, CamelStubRemovedMessage,
	CamelStubChangedMessage): Remove unused struct types

2004-09-14  Sushma Rai  <rsushma@novell.com>

	* storage/exchange-hierarchy-favorites.c 
	(exchange_hierarchy_favorites_add_folder): Checking for 
	permanent_uri being NULL. Fixes #65850

2004-09-11  Sushma Rai  <rsushma@novell.com>

	* storage/exchange-config-listener.c (account_changed):
	Removing the just the e-sources if the user changes the 
	account name, and not forgetting the password and 
	displaying account removal warning message.
	Fixes #64188

2004-09-11  Sushma Rai  <rsushma@novell.com>

	* addressbook/e-book-backend-gal.c (build_query):
	Added check to not to return all contacts, when user 
	tries to get the mail ID from GAL,  while composing mail,
	by perfoming empty query in "Select Contacts form Addressbook"
	dialog. Fixes #41647 
	
2004-09-11  Baris Cicek <baris@teamforce.name.tr>

	* configure.in: Added 'tr' to ALL_LINGUAS

2004-09-06  Sushma Rai  <rsushma@novell.com>

	* addressbook/e-book-backend-exchange.c
	(e_book_backend_exchange_remove): Moved unused variables
	to kill warnings. 

2004-09-06  Sushma Rai  <rsushma@novell.com>

	* storage/xc-commands.c: Disabled menu options for 
	move and copy folders.  See #62440

2004-09-02  Dan Winship  <danw@novell.com>

	* lib/*: Various updates to doc comments, with a few changes to
	data structures as well, to appease gtk-doc.

2004-08-30  Dan Winship  <danw@novell.com>

	* configure.in: 1.5.94.1: brown paper bag release to sync with
	evolution 1.5.94.1

2004-08-29  Hasbullah Bin Pit <sebol@my-penguin.org>

	* configure.in: Added "ms" to ALL_LINGUAS.

2004-08-27  Dan Winship  <danw@novell.com>

	* configure.in: version 1.5.94

	* NEWS: Update

2004-08-27  Dan Winship  <danw@novell.com>

	* lib/e2k-context.c (e2k_soup_message_new,
	e2k_soup_message_new_full, e2k_context_queue_message,
	e2k_context_send_message): Remove anachronisms from the docs
	(e2k_context_put_new): s/POST/PUT/ in docs.
	(e2k_context_bproppatch_start): define BPROPPATCH
	
2004-08-27  Dan Winship  <danw@novell.com>

	* lib/e2k-global-catalog.c (e2k_global_catalog_reconnect): Hm,
	remove this. It's not The Right Thing any more.

	* addressbook/e-book-backend-gal.c (gal_reconnect): Use
	e2k_global_catalog_get_ldap instead of
	e2k_global_catalog_reconnect. #63546
	(get_contact, get_contact_list, start_book_view): Use
	bl->priv->ldap rather than caching it in a local variable since it
	may change after a call to gal_reconnect.

2004-08-27  Sarfraaz Ahmed <asarfraaz@novell.com>

	* storage/exchange-account.c (hierarchy_removed_folder): Typo error fix

2004-08-27  Sarfraaz Ahmed <asarfraaz@novell.com>

	* storage/exchange-account.c (hierarchy_new_folder): Avoid duplications
	in the folders hashtable. The internal uri for favorites and public
	folders are same and should not be overwritten. Also emit the signal
	only if the hashtable was updated. This fixes #64235.
	(hierarchy_removed_folder): Do not remove the internal_uri entry for
	favourite folders, since this is shared by the public folder as well.

2004-08-27  Dan Winship  <danw@novell.com>

	* addressbook/e-book-backend-gal.c: More un-debug-spewing

2004-08-26  Dan Winship  <danw@novell.com>

	* addressbook/e-book-backend-exchange.c (d): Turn off debug macro

	* addressbook/e-book-backend-gal.c (d): Likewise

2004-08-25  Sarfraaz Ahmed <asarfraaz@novell.com>

	* calendar/e-cal-backend-exchange-calendar.c (send_objects): Modified 
	the code to now send the proper attendee list. Also, removed some 
	unwanted code.

2004-08-25  Changwoo Ryu  <cwryu@debian.org>

	* configure.in: Added "ko" to ALL_LINGUAS.

2004-08-24  Rodney Dawes  <dobey@novell.com>

	* configure.in: Fix GETTEXT_PACKAGE to include -${BASE_VERSION} again
	Was accidentally removed on 2004-06-01 with "no" addition
	
2004-08-23  Danilo Šegan  <dsegan@gmx.net>

	* configure.in: Added "sr" and "sr@Latn" to ALL_LINGUAS.

2004-08-23  Jayaradha  <njaya@redhat.com>

	* configure.on: Added 'ta' Tamil to ALL_LINGUAS

2004-08-23  Sushma Rai  <rsushma@novell.com>

	* shell/e-storage-set-view.c (init): Disabling dnd.
	See #62442

2004-08-23  Takeshi AIHANA <aihana@gnome.gr.jp>

	* configure.in: Added 'ja' (Japanese) to ALL_LINGUAS.

2004-08-21  Kjartan Maraas  <kmaraas@gnome.org>

	* configure.in: Add «nb» to ALL_LINGUAS.

2004-08-20  Dan Winship  <danw@novell.com>

	* addressbook/e-book-backend-gal.c: Pull up various fixes from
	e-book-backend-ldap.c

2004-08-19  Dan Winship  <danw@novell.com>

	* lib/e2k-autoconfig.c (e2k_autoconfig_get_context): Make the "is
	this really an Exchange server" checks more lenient; the current
	code fails against E2k SP2 (which people shouldn't be running any
	more, but...)
	(e2k_autoconfig_check_exchange): Try the "append /exchange if the
	path was empty" trick for E2K_AUTOCONFIG_FAILED too.

2004-08-18  Maxim Dziumanenko <mvd@mylinux.com.ua>

	* configure.in: Added uk to ALL_LINGUAS

2004-08-19  Sarfraaz Ahmed <asarfraaz@novell.com>

	* calendar/e-cal-backend-exchange.c 
	(e_cal_backend_exchange_add_timezone): This was returning an invalid
	type. This fixes #61053
	* calendar/e-cal-backend-exchange.h : Similar

2004-08-19  Sushma Rai  <rsushma@novell.com>

	* camel/camel-exchange-folder.c (transfer_messages_to): 
	Not calling cache_xfer if destination uids not found.
	Fixes #63315

2004-08-18  Ilkka Tuohela  <hile@iki.fi>

	* configure.in: Added fi to ALL_LINGUAS

2004-08-16  Dan Winship  <danw@novell.com>

	* storage/exchange-hierarchy-somedav.c (scan_subtree): Bail out if
	the subclass returns 0 urls, rather than spewing g_warnings

2004-08-15  Artur Flinta  <aflinta@cvs.gnome.org>

	* configure.in: Added pl to ALL_LINGUAS.

2004-08-13  Dan Winship  <danw@novell.com>

	* configure.in: Bump version to 1.5.93

2004-08-13  Rodney Dawes  <dobey@novell.com>

	* acinclude.m4: Revert previous EVO_LDAP_CHECK changes, aren't working
	as well as expceted and determined in testing

2004-08-13  Rodney Dawes  <dobey@novell.com>

	* acinclude.m4: Remove EVO_CHECK_LIB
	Update EVO_LDAP_CHECK to support --with-openldap-{libs,includes}
	Sync with e-d-s acinclude.m4 (Adds GTK_DOC_CHECK)

2004-08-13  Frederic Crozat  <fcrozat@mandrakesoft.com>

	* configure.in:
	Add another krb5 headers options, fix small errors
	in previous commit.

2004-08-13  Sarfraaz Ahmed <asarfraaz@novell.com>

	* storage/exchange-delegates.c (exchange_delegates): Checking for NULL
	account. The tree view was returning a NULL account. This fixes #62248
	* calendar/e-cal-backend-exchange-calendar.c (update_x_properties):
	Fixed a build break.

2004-08-13  Sushma Rai  <rsushma@novell.com>

	* storage/exchange-autoconfig-wizard.c: (autoconfig_gui_apply)
	Not allowing the user to create new account if already one
	account exists. 
	(is_active_exchange_account): Checks if account exists and active.
	Fixes #61330

2004-08-12  Frederic Crozat  <fcrozat@mandrakesoft.com>

	* configure.in:
	Add option to specify location of kerberos 5 libraries.
	Needed for 64bits support.

2003-08-12  Sarfraaz Ahmed <asarfraaz@novell.com>

	* calendar/e-cal-backend-exchange-calendar.c: (update_x_properties)
	Modified the logic to now use separate flags. This fixes #62852

2003-08-12  Sushma Rai  <rsushma@novell.com>
	
	* storage/exchange-account.c (get_password): Incoporated
	e_passwords_ask_password() API change.

2004-08-12  Sarfraaz Ahmed <asarfraaz@novell.com>

	* calendar/e-cal-backend-exchange-calendar.c (remove_object): Remove
	recurrences only if rid is not NULL. This fixes the crash in #62631

2004-08-12  Sarfraaz Ahmed <asarfraaz@novell.com>

	* calendar/e-cal-backend-exchange-calendar.c (discard_alarm):
	Moved this from e-cal-backend-exchange.c, since this should be in the
	calendar derived class and not in the abstract class. This fixes #45103
	* calendar/e-cal-backend-exchange.c (discard_alarm): Now just returns
	an error
	(remove_calendar): Removed some warnings.
 
2004-08-12  Sushma Rai  <rsushma@novell.com>

	* lib/e2k-context.c (write_prop): Checking for value of property
	being NULL. This fixes the crash #62259, But Internet Newsgroup 
	folder disappears from favorite folders list on restart, which 
	needs to be fixed.

2004-08-11  Sushma Rai  <rsushma@novell.com>

	* storage/exchange-config-listener.c (account_changed):
	Removing the source groups with old account name, when account
	name is changed.  Fixes #61332

2004-08-09  Ankit Patel <ankit@redhat.com>

	* configure.in: Added Gujarati & Panjabi

2004-08-07  Runa Bhattacharjee <runab@redhat.com>

	* configure.in: Added Bengali (bn) Locale

2004-08-07  Sushma Rai  <rsushma@novell.com>

	* mail/mail-stub-exchange.c (get_folder_info): Handling 
	favorite folder and foreign folder hierarchies, to display
	users favorite public mail folders and subscribed mail folders.	
	(account_new_folder): ditto
	(account_removed_folder): ditto 

2004-08-05  Dan Winship  <danw@novell.com>

	* lib/e2k-context.c (e2k_context_transfer_start): Make this split
	the source_hrefs into groups of E2K_CONTEXT_MAX_BATCH_SIZE so that
	we don't freak out the server when moving large numbers of
	messages. (Eg, deleting everything in my Spam folder.)

2004-08-05  Sushma Rai <rsushma@novell.com>

	* addressbook/e-book-backend-exchange.c 
	(e_book_backend_exchange_remove): Returning error, instead of 
	disabling delete option in contacts view. 
	
	* calendar/e-cal-backend-exchange.c (remove_calendar): ditto
	Temporary fix for #57129.

2004-08-05  Sarfraaz Ahmed <asarfraaz@novell.com>
	
	* calendar/e-cal-backend-exchange.c (discard_alarm): Implemented
	Fixes #45103

2004-08-04  Dan Winship  <danw@novell.com>

	* README: remove "this is SOOOO beta" message since we've been
	shipping snaps for quite a while now

2004-08-04  Sarfraaz Ahmed <asarfraaz@novell.com>

	* calendar/e-cal-backend-exchange-calendar.c (book_resource): 
	Implemented the code to book the calendar of a resource object.
	(send_objects): Added code to send mails to all attendees.

2004-08-03  Sushma Rai <rsushma@novell.com>

	* storage/exchange-hierarchy-foreign.c (remove_folder): Emitting the 
	"removed_folder" signal after ESource cleanup. Fixes a crash while
	unsubscribing other user's folder.

2004-08-03  Nicel KM  <mnicel@novell.com>

	* configure.in: 1.5.92

	* NEWS: update

2004-08-02  Adam Weinberger  <adamw@FreeBSD.org>

	* configure.in: Added en_CA to ALL_LINGUAS.

2004-08-02  Sushma Rai <rsushma@novell.com>

	* storage/exchange-hierarchy-somedav.[ch] 
	(exchange_hierarchy_somedav_add_folder): Removed the third
	parameter folder_out, which was always set to NULL and 
	hence this function was throwing the error "generic error".
	* storage/exchange-hierarchy-favorites.c 
	(exchange_hierarchy_favorites_add_folder): Likewise
	Fixes #62257

2004-07-30  Sarfraaz Ahmed <asarfraaz@novell.com>
	
	* storage/exchange-hierarchy-foreign.c 
	(exchange_hierarchy_foreign_add_folder): Remove unused variables.

2004-07-30  Sarfraaz Ahmed <asarfraaz@novell.com>

	* storage/exchange-hierarchy-foreign.c (add_href): Allocate memory
	for uri before storing it in the hrefs array. Fixes #61950
	(exchange_hierarchy_foreign_add_folder): Now uses a cleaner way to
	get the foreign user's name.
	(hierarchy_foreign_new): Removed unwanted checks for input args.
	(exchange_hierarchy_foreign_new): Add checks for input args.
	(exchange_hierarchy_foreign_new_from_dir): Similar
	* storage/exchange-hierarchy-gal.c (exchange_hierarchy_gal_new):
	Add checks for input args.
	* storage/exchange-hierarchy-somedav.c (scan_subtree): Cleaned up
	code to use a local variable in the while loop.
	(exchange_hierarchy_somedav_add_folder): Input args checks
	* storage/exchange-hierarchy-webdav.c 
	(exchange_hierarchy_webdav_offline_scan_subtree)
	(exchange_hierarchy_webdav_construct)(exchange_hierarchy_webdav_new):
	Input args checks.
	* storage/exchange-hierarchy.c (exchange_hierarchy_new_folder): Similar
	(exchange_hierarchy_removed_folder)(exchange_hierarchy_create_folder)
	(exchange_hierarchy_remove_folder)(exchange_hierarchy_xfer_folder)
	(exchange_hierarchy_construct): Similar

2004-07-27  Dan Winship  <danw@novell.com>

	* mail/mail-stub-exchange.c (account_new_folder): if the new
	folder is the "ignore_new_folder" folder, ignore it.
	(account_removed_folder): if the removed folder is the
	"ignore_removed_folder" folder, ignore it.
	(create_folder): Don't return a FOLDER_CREATED response; the
	signal handler attached to the ExchangeAccount will do that.
	(delete_folder): Likewise for FOLDER_DELETED.
	(rename_folder): Don't return FOLDER_RENAMED (since
	camel_store_rename_folder does it automatically), and set
	ignore_new_folder and ignore_removed_folder so we don't emit
	deleted/created signals too. #58802

2004-07-26  Dan Winship  <danw@novell.com>

	* calendar/e-cal-backend-exchange.c (d): Turn off debug macro
	* calendar/e-cal-backend-exchange-calendar.c (d): Likewise
	* calendar/e-cal-backend-exchange-tasks.c (d): Likewise

2004-07-26  Sarfraaz Ahmed <asarfraaz@novell.com>

	* storage/exchange-hierarchy-foreign.c 
	(exchange_hierarchy_foreign_add_folder)(remove_folder): Added code to
	create and remove esources for the other user's subscribed folders.
	This fixes #60964

2004-07-24  Francisco Javier F. Serrador  <serrador@cvs.gnome.org>

	* configure.in: Added "es" to ALL_LINGUAS

2004-07-23  Dan Winship  <danw@novell.com>

	* camel/camel-exchange-folder.c (init): Fix
	folder->permanent_flags definition
	(camel_exchange_folder_update_message_flags): Fix the list of
	flags to not unset because they aren't set on the server to
	include "JUNK" (since it's never set on the server).
	(camel_exchange_folder_construct): Don't pass the non-server flags
	to the server, or it will think they've changed and waste time
	telling us so.

2004-07-23  Åsmund Skjæveland  <aasmunds@fys.uio.no>

	* configure.in: Added "nn" to ALL_LINGUAS.
	* po/nn.po: Started Norwegian Nynorsk translation.

2004-07-22  Dan Winship  <danw@novell.com>

	* storage/ximian-connector.xml: Remove the quota command, since it
	wasn't implemented.

2004-07-19  Dan Winship  <danw@novell.com>

	* configure.in: 1.5.91

	* NEWS: Update

2004-07-16  Dan Winship  <danw@novell.com>

	* lib/e2k-kerberos.c (krb5_result_to_e2k_kerberos_result):
	"KRB5KDC_ERR_KEY_EXPIRED" is apparently a heimdal-only-ism. Use
	"KRB5KDC_ERR_KEY_EXP" instead.
	(e2k_kerberos_change_password): Likewise, use
	krb5_free_data_contents instead of krb5_data_free.

2004-07-15  Dan Winship  <danw@novell.com>

	* lib/e2k-kerberos.c: Lots of changes: properly namespace the
	functions (now "e2k_kerberos_check_password" and
	"e2k_kerberos_change_password"), remove the code that dealt with
	the local krb5.conf file (libkrb5 can autodetect the servers given
	the realm name), return status code enums rather than arbitrary
	krb5 error codes, and plug a few memory leaks.

	* lib/e2k-global-catalog.c (ntlm_bind): Fill in gc->domain with
	the name of the Windows 2000 domain.

	* lib/test-utils.c (test_ask_password): Split this (the
	password-asking routine) out of test_get_password so it can be
	used by cptest

	* lib/cptest.c: Update for e2k-kerberos changes, don't hard-code
	domain, and ask for the new password rather than taking it on the
	command line.

	* storage/exchange-account.c: Keep a copy of the e-passwords key
	around, rather than recomputing it in 5 different places.
	(is_password_expired): Update for e2k-kerberos changes
	(exchange_account_set_password): Update for e2k-kerberos changes.
	Pop up an error dialog if changing the password fails.
	(exchange_account_connect): When handling a forced password
	change, let the user "Cancel" if he wants.

	* storage/exchange-change-password.glade: HIGify a bit

	* storage/exchange-change-password.c (exchange_get_new_password):
	Clarify this by doing all the handling here rather than in signal
	handlers on the buttons.

	* storage/xc-commands.c (do_change_password): Plug leaks

2004-07-14  Dan Winship  <danw@novell.com>

	* lib/e2k-xml-utils.c (e2k_parse_html): Fix the #ifdef for old
	libxmls to avoid both new calls, not just one of them.

2004-07-09  Dan Winship  <danw@novell.com>

	* calendar/e-cal-backend-exchange-calendar.c (set_freebusy_info):
	Set the start/end of the spans correctly so the freebusy component
	doesn't end up effectively empty
	(get_free_busy): Fix the email address in the ORGANIZER props.
	#61045

2004-07-07  Alfred Peng <alfred.peng@sun.com>

	Fix for bugzilla BUG #59196.

	* storage/GNOME_Evolution_Exchange_Storage.server.in.in:
	Replace "Unknown" with "Exchange" in View->Window submenu.

2004-07-05  Nicel KM  <mnicel@novell.com>

	* configure.in : Bump version to 1.5.90

	* po/*.po: latest .po files

2004-07-03  Nicel KM  <mnicel@novell.com>

	* storage/exchange-account.c (get_password): In case of remembering
	password, no need to save the complete account_list. Fixes an 
	evolution crash that happens on adding the exchange account with 
	remember password option checked. 

2004-07-03  Nicel KM  <mnicel@novell.com>

	* calendar/e-cal-backend-exchange-calendar.c (modify_object):
	Killed some type mismatch warnings.

2004-06-29  Sushma Rai  <rsushma@novell.com>

	* storage/exchange-hierarchy-webdav.c (xfer_folder): Finding the
	folder type before removing the folder and also removing e-sources
	during rename/move only in case of success.
	Fixes #60685

2004-06-28  Nicel KM  <mnicel@novell.com>

	* calendar/e-cal-backend-exchange-calendar.c (remove_object):
	Handle deletions of individual occurences of a recurring event.
	In case of deleting single occurance, remove the instance from 
	the component and modify_object.

2004-06-23  Nicel KM  <mnicel@novell.com>

	* calendar/e-cal-backend-exchange-calendar.c (create_object):
	Update the categories list with the ref for the new component.
	Removed some commented code.
	(modify_object): remove the old and add new category in the category 
	list
	(remove_object): remove ref for component from the category list


2004-06-22  Dan Winship  <danw@novell.com>

	* lib/e2k-uri.c (e2k_uri_append_encoded, e2k_uri_encode): add a
	"wss_encode" flag, saying whether or not to use the Web Storage
	System URI-encoding rules ("/" becomes "_xF8FF_", etc), since some
	places don't want them.

	* lib/e2k-context.c (e2k_context_fba): Don't put multiple &s
	between flags, and use "normal" URI encoding rules without the
	extra goofy WSS rules. Fixes FBA to E2k3 SP1.
	(e2k_context_put_new, e2k_context_proppatch_new): Set wss_encode
	flag to e2k_uri_encode

	* lib/e2k-global-catalog.c (e2k_global_catalog_lookup): Translate
	LDAP_INVALID_CREDENTIALS to E2K_GLOBAL_CATALOG_AUTH_FAILED.

	* lib/e2k-autoconfig.c (reset_owa_derived): Only reset the NT
	domain if it was autodetected
	(e2k_autoconfig_set_username): If setting the NT domain, note that
	it wasn't autodetected.
	(get_ctx_auth_handler): If the NT domain isn't set, set it, and
	note that it *was* autodetected. #60548
	(e2k_autoconfig_check_global_catalog): If using plaintext LDAP
	auth, handle an E2K_GLOBAL_CATALOG_AUTH_FAILED by returning
	E2K_AUTOCONFIG_AUTH_ERROR_TRY_DOMAIN.
	(set_account_uri_string): Update for e2k_uri_append_encoded
	changes

	* lib/actest.c (test_main): handle
	E2K_AUTOCONFIG_AUTH_ERROR_TRY_DOMAIN from
	e2k_autoconfig_check_global_catalog().

	* lib/e2k-freebusy.c (fb_uri_for_dn): Set wss_encode flag to
	e2k_uri_append_encoded

	* lib/gctest.c (do_lookup): add a message for
	E2K_GLOBAL_CATALOG_AUTH_FAILED.

	* storage/exchange-autoconfig-wizard.c (gc_page_next): Likewise

	* storage/exchange-account.c (exchange_account_new): Update for
	e2k_uri_encode change

	* storage/exchange-oof.c (exchange_oof_set): Likewise

2004-06-22  Sushma Rai  <rsushma@novell.com>

	* storage/exchange-hierarchy-webdav.c (xfer_folder): Removing 
	ESources in both successful and failure cases of renaming 
	folder.
	Fix for #60531
 
2004-06-22  Sarfraaz Ahmed <asarfraaz@novell.com>

	Fix for #60327
	* calendar/e-cal-backend-exchange.c
	(e_cal_backend_exchange_extract_components): Added new. This creates 
	a list of objects [VEVENTS/VTODO] from a calendar object.
	(receive_objects): Removed. This is now done separately in calendar
	and tasks code.
	(e_cal_backend_exchange_receive_objects): Removed. This is not being
	used anywhere
	* calendar/e-cal-backend-exchange.h : Likewise
	* calendar/e-cal-backend-exchange-calendar.c (receive_objects): This
	now makes use of the extract_component method.
	* calendar/e-cal-backend-exchange-tasks.c (receive_task_objects):
	Implemented

2004-06-21  Dan Winship  <danw@novell.com>

	* addressbook/e-book-backend-exchange.c (e_contact_from_props): if
	the contact has an attachment, load the message body and see if
	the attachment is a contact picture, and set the E_CONTACT_PHOTO
	property if so. #57801.
	(do_put): if the contact has a photo, put that too. Except that
	this code doesn't work right yet. (Outlook doesn't recognize the
	photo like it should.) So for now, I'm leaving E_CONTACT_PHOTO out
	of supported_fields, so the editor won't let you edit it.
	(e_book_backend_exchange_create_contact): call do_put if there's
	either a note or a photo.
	(e_book_backend_exchange_modify_contact): Make this actually call
	do_put rather than just having a FIXME. 

	* configure.in (ADDRESSBOOK_CFLAGS, EXCHANGE_STORAGE_LIBS): add
	camel

	* storage/main.c (main): Call camel_init()

2004-06-19  Sarfraaz Ahmed <asarfraaz@novell.com>

	Fix for #57868
	* calendar/e-cal-backend-exchange.c (e_cal_backend_exchange_in_cache):
	Modified to now take in the href and update it in the cache
	* calendar/e-cal-backend-exchange.h : Likewise
	* calendar/e-cal-backend-exchange-calendar.c (get_changed_events):
	Pass the href to the new e_cal_backend_exchange_in_cache method.
	* calendar/e-cal-backend-exchange-tasks.c (get_changed_tasks)
	(create_task_object): Likewise

2004-06-18  Sarfraaz Ahmed <asarfraaz@novell.com>

	* addressbook/e-book-backend-exchange.c : Modified the backend 
	members to now accept "opid".
	* addressbook/e-book-backend-gal.c : Similar

2004-06-18  Sushma Rai  <rsushma@novell.com>

	* addressbook/e-book-backend-exchange.c (proppatch_date): Freeing
	the date entered only after forming the time stamp.
	Fixes #60342
 
2004-06-17  Sushma Rai  <rsushma@novell.com>

	* addressbook/e-book-backend-exchange.c 
	(e_book_backend_exchange_get_static_capabilites): Added the 
	static capability "no-contactlist-option" to disable the menu
	option to create contact lists for the exchange account.
	FIX for #57130 

2004-06-16  Dan Winship  <danw@novell.com>

	* camel/camel-exchange-provider.c (exchange_conf_entries): Add
	junk flags

	* storage/exchange-account.c (exchange_account_new): Record the
	"filter_junk" and "filter_junk_inbox" flag values.

	* mail/mail-stub-exchange.c (get_folder): Set the "filter junk"
	flag on the folder if appropriate

	* camel/camel-exchange-store.c (construct): If "filter_junk" is
	enabled, set the VJUNK flag on the store.

	* camel/camel-exchange-folder.c (camel_exchange_folder_construct):
	If the backend set the "filter junk" flag, set that on the folder.

2004-06-16  Dan Winship  <danw@novell.com>

	* addressbook/e-book-backend-gal.c (query_prop_to_ldap): If the
	prop is "email", translate it to "email_1" so it matches
	correctly.
	(get_contact_list): If build_query returns a NULL query, just
	return success immediately (with no matches) rather than searching
	the entire GC.

	(ldap_search_dtor): we don't need to lock/unlock the view's mutex
	anymore. [copied from e-book-backend-ldap.c]

	(ldap_search_handler): remove the ref/unref of the book view here.
	(e_book_backend_ldap_search): move the ref of the book view
	here.
	(ldap_search_dtor): and the unref to here. [copied from
	e-book-backend-ldap.c]

2004-06-16  Sarfraaz Ahmed <asarfraaz@novell.com>

	* storage/exchange-autoconfig-wizard.glade: Made the activate_defaults
	for the GtkEntries to be TRUE so that the sensitized Forward button
	gets pressed when the user presses Enter key while the focus is in the
	GtkEntry. This fixes #58201

2004-06-14  Dan Winship  <danw@novell.com>

	* shell/e-storage-set-view.c (etree_value_at): Remove unused
	variable

2004-06-14  Sushma Rai  <rsushma@novell.com>

	* addressbook/e-book-backend-exchange.c 
	(e_book_backend_exchange_remove_contacts): Handling bulk removal of
	contacts.

	* addressbook/e-book-backend-exchange.c :
	(e_book_backend_exchange_get_static_capabilites): Added "bulk-removes"
	to the static capabilities.
	Fixes #59927

2004-06-12  Sushma Rai  <rsushma@novell.com>

	* storage/exchange-component.c (impl_upgradeFromVersion): Made as
	void function.

	* storage/exchange-migrate.[ch] (exchange_migrate): ditto
 
2004-06-12  Sushma Rai  <rsushma@novell.com>

	* storage/migr-test.c (main): Removed hard coded values, and
	changes to usage and error messages.

2004-06-12  David Malcolm  <dmalcolm@redhat.com>

	* storage/migr-test.c (main): Fixed command-line arg parsing
	of major, minor and revision

2004-06-10  Dan Winship  <danw@novell.com>

	* shell/e-storage-set-view.c (etree_value_at): Remove support for
	unread count

	* storage/exchange-account.c (exchange_account_update_folder):
	Remove this (and the associated signal).

	* storage/exchange-hierarchy.c
	(exchange_hierarchy_updated_folder): Likewise

	* storage/exchange-hierarchy-webdav.c (rescan): Remove call to
	exchange_hierarchy_updated_folder.

	* mail/mail-stub-exchange.c (folder_changed): Just set the
	folder's unread count. Don't worry about telling the
	ExchangeAccount.

2004-06-10  Dan Winship  <danw@novell.com>

	* camel/camel-exchange-transport.c (exchange_send_to): Fix
	camel_session_get_password() args

	* calendar/e-cal-backend-exchange.c (match_recurrence_sexp):
	Unused, remove.

	* calendar/e-cal-backend-exchange-tasks.c: Remove a bunch of
	unused functions

	* shell/e-storage-set-view.c (pixbuf_free_func): Unused, remove

2004-06-10  Dan Winship  <danw@novell.com>

	* storage/exchange-config-listener.c (add_defaults_for_account,
	remove_defaults_for_account): Remove a lot of dead code

	* storage/apps_evolution_exchange.schemas: No longer relevant

	* storage/Makefile.am: remove gconf schema bits

2004-06-07  Sushma Rai  <rsushma@novell.com>

	* storage/exchange-hierarchy-favorites.c (remove_folder):
	Removing ESources with favorite folder deletion.
	This would be removed with code reorganization (#59168).

2004-06-04  Sushma Rai  <rsushma@novell.com>

	* storage/exchange-config-listener.c (remove_esource):
	Checking for absolute URI only for contact folders.
	Fixes #59547

2004-06-04  Duarte Loreto <happyguy_pt@hotmail.com>

	* configure.in: Added Portuguese (pt) to ALL_LINGUAS.

2004-06-03  Dan Winship  <danw@novell.com>

	* storage/xc-backend-view.c (xc_backend_view_new): Put the
	treeview into a scrolled window, so it doesn't go all wacky if
	it's empty. #59009

	* storage/exchange-account.c (exchange_account_connect): Redo this
	a bit; use a "connecting" flag rather than holding the lock the
	whole time. This probably breaks other things, but it prevents a
	deadlock when the exchnage component and the mail component both
	try to connect at the same time.

2004-06-03  Dan Winship  <danw@novell.com>

	* configure.in: Bump version to 1.5.9

	* acinclude.m4 (EVO_LDAP_CHECK): Fix this so it works with
	non-Ximian OpenLDAP packages. (Problem noted by Frederic Crozat)

2004-06-03  Dan Winship  <danw@novell.com>

	* component/*: Gone. Now that we're not using the other
	components' controls to display things, there is no need for the
	shlib proxy. (We still can't move everything into the shlib,
	because then there would be multiple active copies of the exchange
	backend in some cases, and the code is not currently set up to
	deal with that possibility.)
	
	* Makefile.am (SUBDIRS): Remove component

	* configure.in (AC_OUTPUT): Likewise

	* addressbook/Makefile.am (INCLUDES): Remove -I../component

	* addressbook/e-book-backend-exchange.c
	(e_book_backend_exchange_connect): s/xc_backend/exchange_component/

	* addressbook/e-book-backend-gal.c (gal_connect): Likewise

	* calendar/Makefile.am (INCLUDES): Remove -I../component

	* calendar/e-cal-backend-exchange.c (open_calendar):
	s/xc_backend/exchange_component/

	* storage/Makefile.am (INCLUDES): Remove -I../component
	(evolution_exchange_storage_SOURCES): Remove xc-backend.[ch], add
	exchange-component.c (moved here from component/, and merged with
	the former xc-backend.c).

	* storage/GNOME_Evolution_Exchange_Storage.server.in.in: Merge in
	the component factory stuff formerly in
	component/GNOME_Evolution_Exchange_Component.server.in.in

	* storage/exchange-account.c (get_password,
	exchange_account_connect): s/xc_backend/exchange_component/

	* storage/main.c (setup_component_factory): Sets up a bonobo
	factory for the shell component
	(main): Call it.

	* storage/xc-commands.c (xc_folder_get_account):
	s/xc_backend/exchange_component/

	* storage/connector-mini.png: Replace this 16x16 icon with a 24x24
	one since that's what the shell sidebar needs

2004-06-02  Gareth Owen  <gowen72@yahoo.com>

	* configure.in: Added en_GB to ALL_LINGUAS

2004-06-02  Dan Winship  <danw@novell.com>

	* storage/exchange-account.c (exchange_account_connect): Record
	the favorites hierarchy in a private variable
	(exchange_account_add_favorite, exchange_account_remove_favorite):
	Add. They just proxy to the favorites hierarchy

	* storage/exchange-hierarchy-favorites.c
	(exchange_hierarchy_favorites_add_folder): Implement this
	(remove_folder): And this

	* storage/xc-commands.c (do_add_favorite, do_remove_favorite):
	Implement these

	* lib/e2k-utils.c (e2k_entryid_to_permanenturl): Fix this up a
	little.
	(e2k_permanenturl_to_entryid): Add this, its inverse. Only tested
	on folder urls.

2004-06-01  Kjartan Maraas  <kmaraas@gnome.org>

	* configure.in: Add Norwegian to ALL_LINGUAS.

2004-06-01  Sushma Rai	<rsushma@novell.com>

	Fixes #59385, #59387 
	* storage/e-folder-exchange.c (e_folder_exchange_new)
	(e_folder_exchange_delete): Adding ESources only for personal and 
	favorite folders. 

	* storage/exchange-hierarchy-webdav.c (xfer_folder): Removing ESources
	during folder rename/move for personal and favorite folders.

	* storage/exchange-account.c (exchange_account_connect): Scan for
	favorites folders to resolve references before expanding the tree.

2004-05-28  Christian Rose  <menthos@menthos.com>

	* configure.in: Added "sv" to ALL_LINGUAS.

2004-05-28  Nicel KM  <mnicel@novell.com>

	* calendar/e-cal-backend-exchange-calendar.c (receive_objects):
	Fix receive_objects to handle cancelled meeting requests.

2004-05-28  Sushma Rai  <rsushma@novell.com>

	* storage/exchange-config-listener.[ch](add_esource)(remove_esource)
	(add_sources)(remove_sources): Creating the ESource with absolute URI
	for Contacts and GAL folder, So that GAL can be displayed in and 
	accessed from Contacts view though it has been registered as a 
	seperate protocol. Also creating and removing ESources for favorite 
	folders while account creation and deletion respectively.

	* storage/e-folder-exchange.c (e_folder_exchange_new)
	(e_folder_exchange_delete): Identify folder type while adding and removing
	folders. 

	* storage/exchange-hierarchy-webdav.c (xfer_folder): Removing ESources 
	while renaming or moving a folder.

	* storage/exchange-hierarchy-gal.c (exchange_hierarchy_gal_new):
	Create ESource for GAL folder. 

2004-05-25  Dan Winship  <danw@novell.com>

	* camel/camel-exchange-store.c (get_trash): Update to match the
	camel changes for #57114. (Call camel_store_get_folder() rather
	than using the virtual method directly.)

2004-05-26  Rodney Dawes  <dobey@novell.com>

	* configure.in (BASE_VERSION): Revert to previous change as using
	AC_PACKAGE_VERSION here doesn't actually work with autotools *grmbls*

2004-05-26  Rodney Dawes  <dobey@novell.com>

	* configure.in (BASE_VERSION): Use $AC_PACKAGE_VERSION instead of
	$VERSION, so that intltool-update may substitute it properly

2004-05-26  Sarfraaz Ahmed <asarfraaz@novell.com>

	* storage/exchange-account.c (exchange_account_forget_password): 
	Implemented.
	(exchange_account_set_password): remember password only if save_passwd
	is TRUE.
	* storage/exchange-account.h: Likewise
	* storage/exchange-config-listener.c (account_removed): forget the 
	stored passwords.
	* storage/xc-backend.c (idle_do_interactive): Call oof only if xid is
	present.

2004-05-26  Sushma Rai <rsushma@novell.com>

	* addressbook/e-book-backend-exchange.c 
	(e_book_backend_exchange_get_supported_fields): Using 
	e_contact_field_name()

2004-05-26  Not Zed  <NotZed@Ximian.com>

	* camel/camel-exchange-store.c (make_folder_info): fixed for camel
	api change, removed path.

2004-05-25  Nicel KM  <mnicel@novell.com>

	* calendar/e-cal-backend-exchange.c (get_object_list):
	put get_object_list in. recurrence part to be looked at

2004-05-24  Sarfraaz Ahmed  <asarfraaz@novell.com>

	Fixes #58754

	* calendar/e-cal-backend-exchange-tasks.c (create_task_object): Set 
	summary to empty string when it is NULL.

2004-05-21  Dan Winship  <danw@novell.com>

	* storage/exchange-hierarchy-webdav.c (xfer_folder): Return a
	better error when failing to rename a stock folder. #57387.

	* mail/mail-stub-exchange.c (rename_folder): Send the URI from the
	newly-renamed folder, not the no-longer-existent old folder

	* camel/camel-exchange-folder.c (camel_exchange_folder_construct):
	* camel/camel-exchange-store.c (exchange_get_folder): 
	* mail/mail-stub.c (connection_handler):
	* mail/mail-stub-exchange.c (get_folder): Handle the "create
	folder" option to camel_store_get_folder, to fix #57688

2004-05-21  Dan Winship  <danw@novell.com>

	* shell/Makefile.am (libfoldertree_a_SOURCES): Remove
	e-icon-factory; we'll use the one in e-util now

	* shell/e-icon-factory.c: Gone

	* shell/e-folder-type-registry.c
	(e_folder_type_registry_get_icon_for_type, etc): Remove. The
	registry will keep icon names, but the actual pixbufs will come
	from EIconFactory.

	* shell/e-folder-creation-dialog.c (add_folder_types): Use
	EIconFactory to get the actual pixbuf rather than expecting the
	folder type registry to have it.

	* shell/e-storage-set-view.c (get_pixbuf_for_folder): Always use
	EIconFactory, not just for custom icons.

	* storage/main.c (main): e_icon_factory_init ().

	* storage/exchange-hierarchy-webdav.c
	(exchange_hierarchy_webdav_new,
	exchange_hierarchy_webdav_construct): Remove custom_icon arg.
	Always use "stock_folder".
	(exchange_hierarchy_webdav_parse_folder): Use "stock_delete" for
	the trash icon.

	* storage/exchange-hierarchy-foreign.c (hierarchy_foreign_new):
	Remove custom_icon arg to exchange_hierarchy_webdav_construct

	* storage/exchange-account.c (exchange_account_connect): Remove
	the custom_icon arg to exchange_hierarchy_webdav_new.

	* storage/xc-backend.c (setup_folder_type_registry): Change icon
	info to use stock icons. Remove unused DnD stuff.

	* storage/xc-backend-view.c (xc_backend_view_new): Create an
	EUserCreatableItemsHandler too.
	(activated): activate it.

2004-05-21  Sarfraaz Ahmed <asarfraaz@novell.com>
	
	* camel/camel-exchange-transport.c (exchange_send_to): Incorporated
	get_password changes from evolution/camel

2004-05-20  Dan Winship  <danw@novell.com>

	* storage/xc-backend-view.c: Lots of changes. Now we show a list
	of accounts in the sidebar and the folder tree in the main view.

	* storage/xc-backend.c (impl_createControls, etc): Update for
	that.

	* storage/xc-commands.c (do_oof, do_delegates,
	do_change_password): Operate on the selected account.

	* storage/exchange-config-listener.c
	(exchange_config_listener_get_accounts): Returns a GSList of
	accounts. (Of course, currently there would be 0 or 1 members.)

2004-05-20  Sarfraaz Ahmed <asarfraaz@novell.com>

	* calendar/e-cal-backend-exchange-tasks.c (add_timezone_cb) Removed.
	This was not being used anywhere.
	* lib/e2k-global-catalog.c : Some initializations for avoiding
	warnings
	* shell/e-folder-misc-dialogs.c : Similar
	* storage/exchange-hierarchy-favorites.c : Similar

2004-05-20  Nicel KM  <mnicel@novell.com>

	* calendar/e-cal-backend-exchange-calendar.c (receive_objects): 
	Implement. Use the create_object and modify_object methods

2004-05-19  Dan Winship  <danw@novell.com>

	* storage/exchange-hierarchy-favorites.c: Actually, we weren't
	using that include anyway... not sure what it was doing there.

2004-05-19  Larry Ewing  <lewing@ximian.com>

	* storage/exchange-hierarchy-favorites.c: e-xml-hash-utils.h lives
	in libedataserver now.

2004-05-18  Dan Winship  <danw@novell.com>

	* mail/mail-stub.c (d): Turn off debug spew

2004-05-17  Rodney Dawes  <dobey@ximian.com>

	* storage/Makefile.am (EXTRA_DIST): Remove mail.xpm

2004-05-17  Dan Winship  <danw@novell.com>

	* lib/e2k-result.c (sanitize_bad_multistatus): New routine, used
	by e2k_results_array_add_from_multistatus to fix broken Exchange
	XML so recent versions of libxml2 will parse it correctly.
	(#58528)
	(prop_parse): Invert the transformation here so the rest of
	connector still sees the invalid-but-canonical names.

	* lib/e2k-propnames.h.in: add E2K_NS_MAPI_ID_LEN, the length of
	E2K_NS_MAPI_ID.

2004-05-17  Dan Winship  <danw@novell.com>

	Remove a bunch of 1.4 files that should have been deleted by the
	1.5 import, except that CVS is lame.
	
	* addressbook/pas-backend-ad.[ch]
	* addressbook/pas-backend-exchange.[ch]: Gone

	* calendar/cal-backend-exchange.[ch]
	* calendar/cal-backend-exchange-utils.c
	* calendar/e2k-cache.[ch]
	* calendar/e2k-cal-component.[ch]
	* calendar/e2k-cal-component-todo.c: Gone
	
	* storage/exchange-delegates-control.c: 
	* storage/exchange-delegates-delegates.c: 
	* storage/exchange-delegates-delegators.c:
	* storage/mail.xpm: Gone

	* storage/Makefile.am (evolution_exchange_storage_SOURCES): Sort

2004-05-14  Dan Winship  <danw@novell.com>

	* component/exchange-component.c: Remove backend/backend_component
	split.
	(impl_createControls): Now just calls the backend createControls

	* component/Ximian-Connector.idl: Gone. We can just use
	GNOME::Evolution::Component now.

	* component/Makefile.am: remove IDL stuff

	* storage/xc-backend.c: Merge xc-backend-component.c into this.
	This now implements GNOME::Evolution::Component directly rather
	than Ximian::Connector::Backend
	(impl_createControls): Merge the old createSidebar with the old
	exchange-component.c:impl_createControls.

	* storage/exchange-migrate.c:
	* storage/xc-backend-view.c: Remove some unnecessary #includes of
	things that are no longer there

	* storage/xc-backend-component.[ch]: Gone (merged into xc-backend)

	* storage/Makefile.am: remove IDL stuff, xc-backend-component.[ch]

2004-05-14  Sarfraaz Ahmed <asarfraaz@novell.com>

	Fixes the change password bug#58419

	* storage/exchange-account.c (get_password): Added the code to
	create the kerberos config file, if its not yet created.
	(exchange_account_get_password): Retrives the password stored
	locally.
	(exchange_account_set_password): Updates the server with the new
	password and also updates it locally.
	(exchange_account_connect): Updated the code to use the new
	exchange_get_new_password call.
	* storage/exchange-account.h: Function declarations for
	exchange_account_get_password and exchange_account_set_password
	* storage/exchange-change-password.c (check_pass_cb): Removed the
	e2k_autoconfig calls.
	(exchange_get_new_password): This now returns the new password.
	* storage/exchange-change-password.h: password_data struct now
	contains the new_password.
	* storage/xc-commands.c (do_change_password): This now makes use
	of the new exchange_account_get/set_password and calls
	exchange_get_new_password.

2004-05-14  Sushma Rai  <rsushma@novell.com>
	
	Prevents a crash when the account doesn't have any favorite folders 
	and tried to access favorite folders.

	* storage/exchange-hierarchy-somedav.c (scan_subtree): Initialized
	folders_returned and folders_added to zero.
	
	* lib/e2k-result.c (e2k_result_iter_free): Initializing status
	after checking if iter is NULL.
 
2004-05-13  Dan Winship  <danw@novell.com>

	* storage/exchange-hierarchy.h (ExchangeHierarchyType): Add values
	for FAVORITES and GAL, and sort the values in the same order we
	want the hierarchies to show up in the tree.

	* storage/exchange-hierarchy.c (add_to_storage): Set the toplevel
	folder's sorting_priority based on its type.

	* storage/exchange-hierarchy-webdav.c
	(exchange_hierarchy_webdav_construct,
	exchange_hierarchy_webdav_new): Remove the sorting_priority arg
	and the call to e_folder_set_sorting_priority. ExchangeHierarchy
	will handle this now.

	* storage/exchange-hierarchy-gal.c (exchange_hierarchy_gal_new):
	Use EXCHANGE_HIERARCHY_GAL as the type now

	* storage/exchange-hierarchy-foreign.c (hierarchy_foreign_new):
	update for exchange_hierarchy_webdav_new() change

	* storage/exchange-hierarchy-favorites.c
	(exchange_hierarchy_favorites_new): use
	EXCHANGE_HIERARCHY_FAVORITES as the type now, and don't pass a
	sort order.

	* storage/exchange-account.c (exchange_account_connect): update
	for exchange_hierarchy_webdav_new() change

	* storage/xc-commands.c (do_view_folder): Gone now.
	(do_remove_favorite): Add (FIXMEd)
	(xc_commands_context_menu): Simplify a little for the new
	EXCHANGE_HIERARCHY_ values, add "remove from favorites", and
	generally fix up a little.

2004-05-13  Sushma Rai  <rsushma@novell.com>

	* storage/exchange-hierarchy-webdav.c (xfer_folder): Removing
	ESources for the folder which is renamed.

2004-05-13  Sushma Rai  <rsushma@novell.com>

	* storage/e-folder-exchange.c (e_folder_exchange_new): Adding
	ESources if the folder created is of the type personal calendar,
	tasks or contacts.
	(e_folder_exchange_delete): Deleting the ESource for the folder
	that is removed, if it is of the type, personal calendat. tasks
	or contacts.

	* storage/exchange-config-listener.c (add_esource): Made non-static
	(remove_esource) : Removing the source group in case of 
	account deletion and removing only the source for the perticular
	folder from the source group in case of folder deletion.
	Made non-static

	* storage/exchange-config-listener.h: Declarations for add_esource()
	and remove_esource()

	Fixes #57126, #57129 

2004-05-12  Dan Winship  <danw@novell.com>

	* storage/exchange-hierarchy-somedav.c: Split this out from
	exchange-hierarchy-foreign; new abstract class for hierarchies
	that are a subset of webdav folders from somewhere else.

	* storage/exchange-hierarchy-foreign.c: Now a subclass of
	ExchangeHierarchySomeDAV.

	* storage/exchange-hierarchy-favorites.c: New subclass of
	ExchangeHierarchySomeDAV for displaying "favorite" Public Folders.
	(Currently displays simple Outlook favorites correctly, but
	doesn't handle more complex cases, and no way to edit things.)

	* storage/exchange-account.c (exchange_account_connect): Create a
	favorites hierarchy.

	* lib/e2k-utils.c (e2k_entryid_to_permanenturl): New (to create a
	WebDAV permanent URL from a favorites entry)

2004-05-12  Dan Winship  <danw@ximian.com>

	* storage/exchange-change-password.glade: add this file, missing
	from the original import

	* storage/Makefile.am (glade_DATA): add
	exchange-change-password.glade

2004-05-12  Sushma Rai  <rsushma@novell.com>

	* storage/exchange-config-listener.c (add_sources)(remove_sources):
	Calling e_source_list_sync() after forming the sources for all the 
	folders for each component, instead of calling it for each folder 
	in a loop.
	Fixes bug #58320
 
2004-05-12  Sushma Rai  <rsushma@novell.com>

	* storage/exchange-config-listener.c (add_esource)(remove_esource):
	Fixed problem with forming the relative uri for the subfolders.
	(add_sources)(remove_sources): Finding physical uri of the folder.

2004-05-12  Sushma Rai  <rsushma@novell.com>

	* component/exchange-component.c (impl_upgradeFromVersion):
	Changed the return type to void.

2004-05-11  Dan Winship  <danw@ximian.com>

	* Ximian Connector 1.5.7, first GPL release.

	* README: Note that this is for evo head, and that it doesn't
	really work, and that you probably want connector-1-4-branch
